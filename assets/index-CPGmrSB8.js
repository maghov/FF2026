(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Bd={exports:{}},yr={};var M_;function GE(){if(M_)return yr;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return yr.Fragment=t,yr.jsx=i,yr.jsxs=i,yr}var k_;function FE(){return k_||(k_=1,Bd.exports=GE()),Bd.exports}var f=FE(),Hd={exports:{}},pe={};var L_;function qE(){if(L_)return pe;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),y=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,B={};function Z(T,k,M){this.props=T,this.context=k,this.refs=B,this.updater=M||I}Z.prototype.isReactComponent={},Z.prototype.setState=function(T,k){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,k,"setState")},Z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Y(){}Y.prototype=Z.prototype;function X(T,k,M){this.props=T,this.context=k,this.refs=B,this.updater=M||I}var z=X.prototype=new Y;z.constructor=X,P(z,Z.prototype),z.isPureReactComponent=!0;var K=Array.isArray;function Q(){}var V={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function be(T,k,M){var G=M.ref;return{$$typeof:s,type:T,key:k,ref:G!==void 0?G:null,props:M}}function fe(T,k){return be(T.type,k,T.props)}function he(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function oe(T){var k={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(M){return k[M]})}var te=/\/+/g;function H(T,k){return typeof T=="object"&&T!==null&&T.key!=null?oe(""+T.key):k.toString(36)}function ne(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Q,Q):(T.status="pending",T.then(function(k){T.status==="pending"&&(T.status="fulfilled",T.value=k)},function(k){T.status==="pending"&&(T.status="rejected",T.reason=k)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function O(T,k,M,G,ae){var se=typeof T;(se==="undefined"||se==="boolean")&&(T=null);var ve=!1;if(T===null)ve=!0;else switch(se){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(T.$$typeof){case s:case t:ve=!0;break;case b:return ve=T._init,O(ve(T._payload),k,M,G,ae)}}if(ve)return ae=ae(T),ve=G===""?"."+H(T,0):G,K(ae)?(M="",ve!=null&&(M=ve.replace(te,"$&/")+"/"),O(ae,k,M,"",function(cn){return cn})):ae!=null&&(he(ae)&&(ae=fe(ae,M+(ae.key==null||T&&T.key===ae.key?"":(""+ae.key).replace(te,"$&/")+"/")+ve)),k.push(ae)),1;ve=0;var We=G===""?".":G+":";if(K(T))for(var Me=0;Me<T.length;Me++)G=T[Me],se=We+H(G,Me),ve+=O(G,k,M,se,ae);else if(Me=C(T),typeof Me=="function")for(T=Me.call(T),Me=0;!(G=T.next()).done;)G=G.value,se=We+H(G,Me++),ve+=O(G,k,M,se,ae);else if(se==="object"){if(typeof T.then=="function")return O(ne(T),k,M,G,ae);throw k=String(T),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ve}function F(T,k,M){if(T==null)return T;var G=[],ae=0;return O(T,G,"","",function(se){return k.call(M,se,ae++)}),G}function ie(T){if(T._status===-1){var k=T._result;k=k(),k.then(function(M){(T._status===0||T._status===-1)&&(T._status=1,T._result=M)},function(M){(T._status===0||T._status===-1)&&(T._status=2,T._result=M)}),T._status===-1&&(T._status=0,T._result=k)}if(T._status===1)return T._result.default;throw T._result}var ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},le={map:F,forEach:function(T,k,M){F(T,function(){k.apply(this,arguments)},M)},count:function(T){var k=0;return F(T,function(){k++}),k},toArray:function(T){return F(T,function(k){return k})||[]},only:function(T){if(!he(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return pe.Activity=S,pe.Children=le,pe.Component=Z,pe.Fragment=i,pe.Profiler=o,pe.PureComponent=X,pe.StrictMode=r,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,pe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return V.H.useMemoCache(T)}},pe.cache=function(T){return function(){return T.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(T,k,M){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var G=P({},T.props),ae=T.key;if(k!=null)for(se in k.key!==void 0&&(ae=""+k.key),k)!me.call(k,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&k.ref===void 0||(G[se]=k[se]);var se=arguments.length-2;if(se===1)G.children=M;else if(1<se){for(var ve=Array(se),We=0;We<se;We++)ve[We]=arguments[We+2];G.children=ve}return be(T.type,ae,G)},pe.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},pe.createElement=function(T,k,M){var G,ae={},se=null;if(k!=null)for(G in k.key!==void 0&&(se=""+k.key),k)me.call(k,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ae[G]=k[G]);var ve=arguments.length-2;if(ve===1)ae.children=M;else if(1<ve){for(var We=Array(ve),Me=0;Me<ve;Me++)We[Me]=arguments[Me+2];ae.children=We}if(T&&T.defaultProps)for(G in ve=T.defaultProps,ve)ae[G]===void 0&&(ae[G]=ve[G]);return be(T,se,ae)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(T){return{$$typeof:m,render:T}},pe.isValidElement=he,pe.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:ie}},pe.memo=function(T,k){return{$$typeof:_,type:T,compare:k===void 0?null:k}},pe.startTransition=function(T){var k=V.T,M={};V.T=M;try{var G=T(),ae=V.S;ae!==null&&ae(M,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Q,ee)}catch(se){ee(se)}finally{k!==null&&M.types!==null&&(k.types=M.types),V.T=k}},pe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},pe.use=function(T){return V.H.use(T)},pe.useActionState=function(T,k,M){return V.H.useActionState(T,k,M)},pe.useCallback=function(T,k){return V.H.useCallback(T,k)},pe.useContext=function(T){return V.H.useContext(T)},pe.useDebugValue=function(){},pe.useDeferredValue=function(T,k){return V.H.useDeferredValue(T,k)},pe.useEffect=function(T,k){return V.H.useEffect(T,k)},pe.useEffectEvent=function(T){return V.H.useEffectEvent(T)},pe.useId=function(){return V.H.useId()},pe.useImperativeHandle=function(T,k,M){return V.H.useImperativeHandle(T,k,M)},pe.useInsertionEffect=function(T,k){return V.H.useInsertionEffect(T,k)},pe.useLayoutEffect=function(T,k){return V.H.useLayoutEffect(T,k)},pe.useMemo=function(T,k){return V.H.useMemo(T,k)},pe.useOptimistic=function(T,k){return V.H.useOptimistic(T,k)},pe.useReducer=function(T,k,M){return V.H.useReducer(T,k,M)},pe.useRef=function(T){return V.H.useRef(T)},pe.useState=function(T){return V.H.useState(T)},pe.useSyncExternalStore=function(T,k,M){return V.H.useSyncExternalStore(T,k,M)},pe.useTransition=function(){return V.H.useTransition()},pe.version="19.2.4",pe}var U_;function Df(){return U_||(U_=1,Hd.exports=qE()),Hd.exports}var $=Df(),Gd={exports:{}},br={},Fd={exports:{}},qd={};var z_;function VE(){return z_||(z_=1,(function(s){function t(O,F){var ie=O.length;O.push(F);e:for(;0<ie;){var ee=ie-1>>>1,le=O[ee];if(0<o(le,F))O[ee]=F,O[ie]=le,ie=ee;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],ie=O.pop();if(ie!==F){O[0]=ie;e:for(var ee=0,le=O.length,T=le>>>1;ee<T;){var k=2*(ee+1)-1,M=O[k],G=k+1,ae=O[G];if(0>o(M,ie))G<le&&0>o(ae,M)?(O[ee]=ae,O[G]=ie,ee=G):(O[ee]=M,O[k]=ie,ee=k);else if(G<le&&0>o(ae,ie))O[ee]=ae,O[G]=ie,ee=G;else break e}}return F}function o(O,F){var ie=O.sortIndex-F.sortIndex;return ie!==0?ie:O.id-F.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],_=[],b=1,S=null,y=3,C=!1,I=!1,P=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function z(O){for(var F=i(_);F!==null;){if(F.callback===null)r(_);else if(F.startTime<=O)r(_),F.sortIndex=F.expirationTime,t(g,F);else break;F=i(_)}}function K(O){if(P=!1,z(O),!I)if(i(g)!==null)I=!0,Q||(Q=!0,oe());else{var F=i(_);F!==null&&ne(K,F.startTime-O)}}var Q=!1,V=-1,me=5,be=-1;function fe(){return B?!0:!(s.unstable_now()-be<me)}function he(){if(B=!1,Q){var O=s.unstable_now();be=O;var F=!0;try{e:{I=!1,P&&(P=!1,Y(V),V=-1),C=!0;var ie=y;try{t:{for(z(O),S=i(g);S!==null&&!(S.expirationTime>O&&fe());){var ee=S.callback;if(typeof ee=="function"){S.callback=null,y=S.priorityLevel;var le=ee(S.expirationTime<=O);if(O=s.unstable_now(),typeof le=="function"){S.callback=le,z(O),F=!0;break t}S===i(g)&&r(g),z(O)}else r(g);S=i(g)}if(S!==null)F=!0;else{var T=i(_);T!==null&&ne(K,T.startTime-O),F=!1}}break e}finally{S=null,y=ie,C=!1}F=void 0}}finally{F?oe():Q=!1}}}var oe;if(typeof X=="function")oe=function(){X(he)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,H=te.port2;te.port1.onmessage=he,oe=function(){H.postMessage(null)}}else oe=function(){Z(he,0)};function ne(O,F){V=Z(function(){O(s.unstable_now())},F)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(O){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var ie=y;y=F;try{return O()}finally{y=ie}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ie=y;y=O;try{return F()}finally{y=ie}},s.unstable_scheduleCallback=function(O,F,ie){var ee=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ee+ie:ee):ie=ee,O){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ie+le,O={id:b++,callback:F,priorityLevel:O,startTime:ie,expirationTime:le,sortIndex:-1},ie>ee?(O.sortIndex=ie,t(_,O),i(g)===null&&O===i(_)&&(P?(Y(V),V=-1):P=!0,ne(K,ie-ee))):(O.sortIndex=le,t(g,O),I||C||(I=!0,Q||(Q=!0,oe()))),O},s.unstable_shouldYield=fe,s.unstable_wrapCallback=function(O){var F=y;return function(){var ie=y;y=F;try{return O.apply(this,arguments)}finally{y=ie}}}})(qd)),qd}var P_;function YE(){return P_||(P_=1,Fd.exports=VE()),Fd.exports}var Vd={exports:{}},_t={};var B_;function XE(){if(B_)return _t;B_=1;var s=Df();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:_,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_t.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(g,_,null,b)},_t.flushSync=function(g){var _=h.T,b=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=_,r.p=b,r.d.f()}},_t.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},_t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},_t.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,S=m(b,_.crossOrigin),y=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:y,fetchPriority:C}):b==="script"&&r.d.X(g,{crossOrigin:S,integrity:y,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},_t.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=m(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},_t.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=m(b,_.crossOrigin);r.d.L(g,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},_t.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=m(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},_t.requestFormReset=function(g){r.d.r(g)},_t.unstable_batchedUpdates=function(g,_){return g(_)},_t.useFormState=function(g,_,b){return h.H.useFormState(g,_,b)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.2.4",_t}var H_;function KE(){if(H_)return Vd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=XE(),Vd.exports}var G_;function QE(){if(G_)return br;G_=1;var s=YE(),t=Df(),i=KE();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return g(c),e;if(d===l)return g(c),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=d;else{for(var p=!1,v=c.child;v;){if(v===a){p=!0,a=c,l=d;break}if(v===l){p=!0,l=c,a=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===a){p=!0,a=d,l=c;break}if(v===l){p=!0,l=d,a=c;break}v=v.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,y=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),X=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function H(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case K:return"Suspense";case Q:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case X:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:H(e.type)||"Memo";case me:n=e._payload,e=e._init;try{return H(e(n))}catch{}}return null}var ne=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ee=[],le=-1;function T(e){return{current:e}}function k(e){0>le||(e.current=ee[le],ee[le]=null,le--)}function M(e,n){le++,ee[le]=e.current,e.current=n}var G=T(null),ae=T(null),se=T(null),ve=T(null);function We(e,n){switch(M(se,n),M(ae,e),M(G,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(G),M(G,e)}function Me(){k(G),k(ae),k(se)}function cn(e){e.memoizedState!==null&&M(ve,e);var n=G.current,a=s_(n,e.type);n!==a&&(M(ae,e),M(G,a))}function ol(e){ae.current===e&&(k(G),k(ae)),ve.current===e&&(k(ve),pr._currentValue=ie)}var Ec,Dh;function Ii(e){if(Ec===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ec=n&&n[1]||"",Dh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ec+e+Dh}var xc=!1;function Tc(e,n){if(!e||xc)return"";xc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(j){var R=j}Reflect.construct(e,[],U)}else{try{U.call()}catch(j){R=j}e.call(U.prototype)}}else{try{throw Error()}catch(j){R=j}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(j){if(j&&R&&typeof j.stack=="string")return[j.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),p=d[0],v=d[1];if(p&&v){var E=p.split(`
`),A=v.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===A.length)for(l=E.length-1,c=A.length-1;1<=l&&0<=c&&E[l]!==A[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==A[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==A[c]){var D=`
`+E[l].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=l&&0<=c);break}}}finally{xc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function yb(e,n){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return e.child!==n&&n!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Tc(e.type,!1);case 11:return Tc(e.type.render,!1);case 1:return Tc(e.type,!0);case 31:return Ii("Activity");default:return""}}function Mh(e){try{var n="",a=null;do n+=yb(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Nc=Object.prototype.hasOwnProperty,Cc=s.unstable_scheduleCallback,wc=s.unstable_cancelCallback,bb=s.unstable_shouldYield,Sb=s.unstable_requestPaint,jt=s.unstable_now,Eb=s.unstable_getCurrentPriorityLevel,kh=s.unstable_ImmediatePriority,Lh=s.unstable_UserBlockingPriority,cl=s.unstable_NormalPriority,xb=s.unstable_LowPriority,Uh=s.unstable_IdlePriority,Tb=s.log,Nb=s.unstable_setDisableYieldValue,wa=null,It=null;function Vn(e){if(typeof Tb=="function"&&Nb(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(wa,e)}catch{}}var Dt=Math.clz32?Math.clz32:Ab,Cb=Math.log,wb=Math.LN2;function Ab(e){return e>>>=0,e===0?32:31-(Cb(e)/wb|0)|0}var ul=256,dl=262144,fl=4194304;function Di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hl(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?c=Di(l):(p&=v,p!==0?c=Di(p):a||(a=v&~e,a!==0&&(c=Di(a))))):(v=l&~d,v!==0?c=Di(v):p!==0?c=Di(p):a||(a=l&~e,a!==0&&(c=Di(a)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:c}function Aa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var e=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),e}function Ac(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ra(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ob(e,n,a,l,c,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,A=e.hiddenUpdates;for(a=p&~a;0<a;){var D=31-Dt(a),U=1<<D;v[D]=0,E[D]=-1;var R=A[D];if(R!==null)for(A[D]=null,D=0;D<R.length;D++){var j=R[D];j!==null&&(j.lane&=-536870913)}a&=~U}l!==0&&Ph(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~n))}function Ph(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Dt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Bh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Dt(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function Hh(e,n){var a=n&-n;return a=(a&42)!==0?1:Rc(a),(a&(e.suspendedLanes|n))!==0?0:a}function Rc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gh(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Fh(e,n){var a=F.p;try{return F.p=e,n()}finally{F.p=a}}var Yn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Yn,xt="__reactProps$"+Yn,_s="__reactContainer$"+Yn,jc="__reactEvents$"+Yn,jb="__reactListeners$"+Yn,Ib="__reactHandles$"+Yn,qh="__reactResources$"+Yn,Oa="__reactMarker$"+Yn;function Ic(e){delete e[ut],delete e[xt],delete e[jc],delete e[jb],delete e[Ib]}function vs(e){var n=e[ut];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_s]||a[ut]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=d_(e);e!==null;){if(a=e[ut])return a;e=d_(e)}return n}e=a,a=e.parentNode}return null}function ys(e){if(e=e[ut]||e[_s]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ja(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function bs(e){var n=e[qh];return n||(n=e[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(e){e[Oa]=!0}var Vh=new Set,Yh={};function Mi(e,n){Ss(e,n),Ss(e+"Capture",n)}function Ss(e,n){for(Yh[e]=n,e=0;e<n.length;e++)Vh.add(n[e])}var Db=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xh={},Kh={};function Mb(e){return Nc.call(Kh,e)?!0:Nc.call(Xh,e)?!1:Db.test(e)?Kh[e]=!0:(Xh[e]=!0,!1)}function ml(e,n,a){if(Mb(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function _n(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kb(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Dc(e){if(!e._valueTracker){var n=Qh(e)?"checked":"value";e._valueTracker=kb(e,n,""+e[n])}}function Wh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Qh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lb=/[\n"\\]/g;function Gt(e){return e.replace(Lb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mc(e,n,a,l,c,d,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ht(n)):e.value!==""+Ht(n)&&(e.value=""+Ht(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?kc(e,p,Ht(n)):a!=null?kc(e,p,Ht(a)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ht(v):e.removeAttribute("name")}function $h(e,n,a,l,c,d,p,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Dc(e);return}a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,v||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Dc(e)}function kc(e,n,a){n==="number"&&gl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Es(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Zh(e,n,a){if(n!=null&&(n=""+Ht(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ht(a):""}function Jh(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ht(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Dc(e)}function xs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ub=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function em(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Ub.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function tm(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&em(e,c,l)}else for(var d in n)n.hasOwnProperty(d)&&em(e,d,n[d])}function Lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return Pb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vn(){}var Uc=null;function zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Ns=null;function nm(e){var n=ys(e);if(n&&(e=n.stateNode)){var a=e[xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Mc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[xt]||null;if(!c)throw Error(r(90));Mc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Wh(l)}break e;case"textarea":Zh(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Es(e,!!a.multiple,n,!1)}}}var Pc=!1;function im(e,n,a){if(Pc)return e(n,a);Pc=!0;try{var l=e(n);return l}finally{if(Pc=!1,(Ts!==null||Ns!==null)&&(so(),Ts&&(n=Ts,e=Ns,Ns=Ts=null,nm(n),e)))for(n=0;n<e.length;n++)nm(e[n])}}function Ia(e,n){var a=e.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(yn)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Bc=!1}var Xn=null,Hc=null,vl=null;function sm(){if(vl)return vl;var e,n=Hc,a=n.length,l,c="value"in Xn?Xn.value:Xn.textContent,d=c.length;for(e=0;e<a&&n[e]===c[e];e++);var p=a-e;for(l=1;l<=p&&n[a-l]===c[d-l];l++);return vl=c.slice(e,1<l?1-l:void 0)}function yl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function am(){return!1}function Tt(e){function n(a,l,c,d,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bl:am,this.isPropagationStopped=am,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Tt(ki),Ma=S({},ki,{view:0,detail:0}),Bb=Tt(Ma),Gc,Fc,ka,El=S({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(Gc=e.screenX-ka.screenX,Fc=e.screenY-ka.screenY):Fc=Gc=0,ka=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),rm=Tt(El),Hb=S({},El,{dataTransfer:0}),Gb=Tt(Hb),Fb=S({},Ma,{relatedTarget:0}),qc=Tt(Fb),qb=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Vb=Tt(qb),Yb=S({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xb=Tt(Yb),Kb=S({},ki,{data:0}),lm=Tt(Kb),Qb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$b[e])?!!n[e]:!1}function Vc(){return Zb}var Jb=S({},Ma,{key:function(e){if(e.key){var n=Qb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eS=Tt(Jb),tS=S({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),om=Tt(tS),nS=S({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),iS=Tt(nS),sS=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),aS=Tt(sS),rS=S({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lS=Tt(rS),oS=S({},ki,{newState:0,oldState:0}),cS=Tt(oS),uS=[9,13,27,32],Yc=yn&&"CompositionEvent"in window,La=null;yn&&"documentMode"in document&&(La=document.documentMode);var dS=yn&&"TextEvent"in window&&!La,cm=yn&&(!Yc||La&&8<La&&11>=La),um=" ",dm=!1;function fm(e,n){switch(e){case"keyup":return uS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cs=!1;function fS(e,n){switch(e){case"compositionend":return hm(n);case"keypress":return n.which!==32?null:(dm=!0,um);case"textInput":return e=n.data,e===um&&dm?null:e;default:return null}}function hS(e,n){if(Cs)return e==="compositionend"||!Yc&&fm(e,n)?(e=sm(),vl=Hc=Xn=null,Cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cm&&n.locale!=="ko"?null:n.data;default:return null}}var mS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!mS[e.type]:n==="textarea"}function pm(e,n,a,l){Ts?Ns?Ns.push(l):Ns=[l]:Ts=l,n=fo(n,"onChange"),0<n.length&&(a=new Sl("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ua=null,za=null;function pS(e){$g(e,0)}function xl(e){var n=ja(e);if(Wh(n))return e}function gm(e,n){if(e==="change")return n}var _m=!1;if(yn){var Xc;if(yn){var Kc="oninput"in document;if(!Kc){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Kc=typeof vm.oninput=="function"}Xc=Kc}else Xc=!1;_m=Xc&&(!document.documentMode||9<document.documentMode)}function ym(){Ua&&(Ua.detachEvent("onpropertychange",bm),za=Ua=null)}function bm(e){if(e.propertyName==="value"&&xl(za)){var n=[];pm(n,za,e,zc(e)),im(pS,n)}}function gS(e,n,a){e==="focusin"?(ym(),Ua=n,za=a,Ua.attachEvent("onpropertychange",bm)):e==="focusout"&&ym()}function _S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(za)}function vS(e,n){if(e==="click")return xl(n)}function yS(e,n){if(e==="input"||e==="change")return xl(n)}function bS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mt=typeof Object.is=="function"?Object.is:bS;function Pa(e,n){if(Mt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Nc.call(n,c)||!Mt(e[c],n[c]))return!1}return!0}function Sm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Em(e,n){var a=Sm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sm(a)}}function xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=gl(e.document)}return n}function Qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var SS=yn&&"documentMode"in document&&11>=document.documentMode,ws=null,Wc=null,Ba=null,$c=!1;function Nm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$c||ws==null||ws!==gl(l)||(l=ws,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ba&&Pa(Ba,l)||(Ba=l,l=fo(Wc,"onSelect"),0<l.length&&(n=new Sl("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ws)))}function Li(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var As={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Zc={},Cm={};yn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ui(e){if(Zc[e])return Zc[e];if(!As[e])return e;var n=As[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cm)return Zc[e]=n[a];return e}var wm=Ui("animationend"),Am=Ui("animationiteration"),Rm=Ui("animationstart"),ES=Ui("transitionrun"),xS=Ui("transitionstart"),TS=Ui("transitioncancel"),Om=Ui("transitionend"),jm=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function en(e,n){jm.set(e,n),Mi(n,[e])}var Tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],Rs=0,eu=0;function Nl(){for(var e=Rs,n=eu=Rs=0;n<e;){var a=Ft[n];Ft[n++]=null;var l=Ft[n];Ft[n++]=null;var c=Ft[n];Ft[n++]=null;var d=Ft[n];if(Ft[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}d!==0&&Im(a,c,d)}}function Cl(e,n,a,l){Ft[Rs++]=e,Ft[Rs++]=n,Ft[Rs++]=a,Ft[Rs++]=l,eu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tu(e,n,a,l){return Cl(e,n,a,l),wl(e)}function zi(e,n){return Cl(e,null,null,n),wl(e)}function Im(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&n!==null&&(c=31-Dt(a),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),d):null}function wl(e){if(50<or)throw or=0,ud=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Os={};function NS(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,a,l){return new NS(e,n,a,l)}function nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,n){var a=e.alternate;return a===null?(a=kt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Al(e,n,a,l,c,d){var p=0;if(l=e,typeof e=="function")nu(e)&&(p=1);else if(typeof e=="string")p=OE(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=kt(31,a,n,c),e.elementType=be,e.lanes=d,e;case P:return Pi(a.children,c,d,n);case B:p=8,c|=24;break;case Z:return e=kt(12,a,n,c|2),e.elementType=Z,e.lanes=d,e;case K:return e=kt(13,a,n,c),e.elementType=K,e.lanes=d,e;case Q:return e=kt(19,a,n,c),e.elementType=Q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:p=10;break e;case Y:p=9;break e;case z:p=11;break e;case V:p=14;break e;case me:p=16,l=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=kt(p,a,n,c),n.elementType=e,n.type=l,n.lanes=d,n}function Pi(e,n,a,l){return e=kt(7,e,l,n),e.lanes=a,e}function iu(e,n,a){return e=kt(6,e,null,n),e.lanes=a,e}function Mm(e){var n=kt(18,null,null,0);return n.stateNode=e,n}function su(e,n,a){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var km=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var a=km.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Mh(n)},km.set(e,n),n)}return{value:e,source:n,stack:Mh(n)}}var js=[],Is=0,Rl=null,Ha=0,Vt=[],Yt=0,Kn=null,un=1,dn="";function Sn(e,n){js[Is++]=Ha,js[Is++]=Rl,Rl=e,Ha=n}function Lm(e,n,a){Vt[Yt++]=un,Vt[Yt++]=dn,Vt[Yt++]=Kn,Kn=e;var l=un;e=dn;var c=32-Dt(l)-1;l&=~(1<<c),a+=1;var d=32-Dt(n)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,un=1<<32-Dt(n)+c|a<<c|l,dn=d+e}else un=1<<d|a<<c|l,dn=e}function au(e){e.return!==null&&(Sn(e,1),Lm(e,1,0))}function ru(e){for(;e===Rl;)Rl=js[--Is],js[Is]=null,Ha=js[--Is],js[Is]=null;for(;e===Kn;)Kn=Vt[--Yt],Vt[Yt]=null,dn=Vt[--Yt],Vt[Yt]=null,un=Vt[--Yt],Vt[Yt]=null}function Um(e,n){Vt[Yt++]=un,Vt[Yt++]=dn,Vt[Yt++]=Kn,un=n.id,dn=n.overflow,Kn=e}var dt=null,Fe=null,we=!1,Qn=null,Xt=!1,lu=Error(r(519));function Wn(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ga(qt(n,e)),lu}function zm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ut]=e,n[xt]=l,a){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(a=0;a<ur.length;a++)Ee(ur[a],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),$h(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),Jh(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||t_(n.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),l.onScroll!=null&&Ee("scroll",n),l.onScrollEnd!=null&&Ee("scrollend",n),l.onClick!=null&&(n.onclick=vn),n=!0):n=!1,n||Wn(e,!0)}function Pm(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:dt=dt.return}}function Ds(e){if(e!==dt)return!1;if(!we)return Pm(e),we=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nd(e.type,e.memoizedProps)),a=!a),a&&Fe&&Wn(e),Pm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Fe=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Fe=u_(e)}else n===27?(n=Fe,ui(e.type)?(e=Od,Od=null,Fe=e):Fe=n):Fe=dt?Qt(e.stateNode.nextSibling):null;return!0}function Bi(){Fe=dt=null,we=!1}function ou(){var e=Qn;return e!==null&&(At===null?At=e:At.push.apply(At,e),Qn=null),e}function Ga(e){Qn===null?Qn=[e]:Qn.push(e)}var cu=T(null),Hi=null,En=null;function $n(e,n,a){M(cu,n._currentValue),n._currentValue=a}function xn(e){e._currentValue=cu.current,k(cu)}function uu(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function du(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=c;for(var E=0;E<n.length;E++)if(v.context===n[E]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),uu(d.return,a,e),l||(p=null);break e}d=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),uu(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ms(e,n,a,l){e=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var v=c.type;Mt(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===ve.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(pr):e=[pr])}c=c.return}e!==null&&du(n,e,a,l),n.flags|=262144}function Ol(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){Hi=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Bm(Hi,e)}function jl(e,n){return Hi===null&&Gi(e),Bm(e,n)}function Bm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},En===null){if(e===null)throw Error(r(308));En=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else En=En.next=n;return a}var CS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},wS=s.unstable_scheduleCallback,AS=s.unstable_NormalPriority,Je={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fu(){return{controller:new CS,data:new Map,refCount:0}}function Fa(e){e.refCount--,e.refCount===0&&wS(AS,function(){e.controller.abort()})}var qa=null,hu=0,ks=0,Ls=null;function RS(e,n){if(qa===null){var a=qa=[];hu=0,ks=gd(),Ls={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hu++,n.then(Hm,Hm),n}function Hm(){if(--hu===0&&qa!==null){Ls!==null&&(Ls.status="fulfilled");var e=qa;qa=null,ks=0,Ls=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function OS(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Gm=O.S;O.S=function(e,n){Ng=jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RS(e,n),Gm!==null&&Gm(e,n)};var Fi=T(null);function mu(){var e=Fi.current;return e!==null?e:Be.pooledCache}function Il(e,n){n===null?M(Fi,Fi.current):M(Fi,n.pool)}function Fm(){var e=mu();return e===null?null:{parent:Je._currentValue,pool:e}}var Us=Error(r(460)),pu=Error(r(474)),Dl=Error(r(542)),Ml={then:function(){}};function qm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(vn,vn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xm(e),e;default:if(typeof n.status=="string")n.then(vn,vn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xm(e),e}throw Vi=n,Us}}function qi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vi=a,Us):a}}var Vi=null;function Ym(){if(Vi===null)throw Error(r(459));var e=Vi;return Vi=null,e}function Xm(e){if(e===Us||e===Dl)throw Error(r(483))}var zs=null,Va=0;function kl(e){var n=Va;return Va+=1,zs===null&&(zs=[]),Vm(zs,e,n)}function Ya(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ll(e,n){throw n.$$typeof===y?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Km(e){function n(N,x){if(e){var w=N.deletions;w===null?(N.deletions=[x],N.flags|=16):w.push(x)}}function a(N,x){if(!e)return null;for(;x!==null;)n(N,x),x=x.sibling;return null}function l(N){for(var x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function c(N,x){return N=bn(N,x),N.index=0,N.sibling=null,N}function d(N,x,w){return N.index=w,e?(w=N.alternate,w!==null?(w=w.index,w<x?(N.flags|=67108866,x):w):(N.flags|=67108866,x)):(N.flags|=1048576,x)}function p(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,x,w,L){return x===null||x.tag!==6?(x=iu(w,N.mode,L),x.return=N,x):(x=c(x,w),x.return=N,x)}function E(N,x,w,L){var re=w.type;return re===P?D(N,x,w.props.children,L,w.key):x!==null&&(x.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===me&&qi(re)===x.type)?(x=c(x,w.props),Ya(x,w),x.return=N,x):(x=Al(w.type,w.key,w.props,null,N.mode,L),Ya(x,w),x.return=N,x)}function A(N,x,w,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=su(w,N.mode,L),x.return=N,x):(x=c(x,w.children||[]),x.return=N,x)}function D(N,x,w,L,re){return x===null||x.tag!==7?(x=Pi(w,N.mode,L,re),x.return=N,x):(x=c(x,w),x.return=N,x)}function U(N,x,w){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=iu(""+x,N.mode,w),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return w=Al(x.type,x.key,x.props,null,N.mode,w),Ya(w,x),w.return=N,w;case I:return x=su(x,N.mode,w),x.return=N,x;case me:return x=qi(x),U(N,x,w)}if(ne(x)||oe(x))return x=Pi(x,N.mode,w,null),x.return=N,x;if(typeof x.then=="function")return U(N,kl(x),w);if(x.$$typeof===X)return U(N,jl(N,x),w);Ll(N,x)}return null}function R(N,x,w,L){var re=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return re!==null?null:v(N,x,""+w,L);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return w.key===re?E(N,x,w,L):null;case I:return w.key===re?A(N,x,w,L):null;case me:return w=qi(w),R(N,x,w,L)}if(ne(w)||oe(w))return re!==null?null:D(N,x,w,L,null);if(typeof w.then=="function")return R(N,x,kl(w),L);if(w.$$typeof===X)return R(N,x,jl(N,w),L);Ll(N,w)}return null}function j(N,x,w,L,re){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(w)||null,v(x,N,""+L,re);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return N=N.get(L.key===null?w:L.key)||null,E(x,N,L,re);case I:return N=N.get(L.key===null?w:L.key)||null,A(x,N,L,re);case me:return L=qi(L),j(N,x,w,L,re)}if(ne(L)||oe(L))return N=N.get(w)||null,D(x,N,L,re,null);if(typeof L.then=="function")return j(N,x,w,kl(L),re);if(L.$$typeof===X)return j(N,x,w,jl(x,L),re);Ll(x,L)}return null}function W(N,x,w,L){for(var re=null,Ae=null,J=x,_e=x=0,Ne=null;J!==null&&_e<w.length;_e++){J.index>_e?(Ne=J,J=null):Ne=J.sibling;var Re=R(N,J,w[_e],L);if(Re===null){J===null&&(J=Ne);break}e&&J&&Re.alternate===null&&n(N,J),x=d(Re,x,_e),Ae===null?re=Re:Ae.sibling=Re,Ae=Re,J=Ne}if(_e===w.length)return a(N,J),we&&Sn(N,_e),re;if(J===null){for(;_e<w.length;_e++)J=U(N,w[_e],L),J!==null&&(x=d(J,x,_e),Ae===null?re=J:Ae.sibling=J,Ae=J);return we&&Sn(N,_e),re}for(J=l(J);_e<w.length;_e++)Ne=j(J,N,_e,w[_e],L),Ne!==null&&(e&&Ne.alternate!==null&&J.delete(Ne.key===null?_e:Ne.key),x=d(Ne,x,_e),Ae===null?re=Ne:Ae.sibling=Ne,Ae=Ne);return e&&J.forEach(function(pi){return n(N,pi)}),we&&Sn(N,_e),re}function ce(N,x,w,L){if(w==null)throw Error(r(151));for(var re=null,Ae=null,J=x,_e=x=0,Ne=null,Re=w.next();J!==null&&!Re.done;_e++,Re=w.next()){J.index>_e?(Ne=J,J=null):Ne=J.sibling;var pi=R(N,J,Re.value,L);if(pi===null){J===null&&(J=Ne);break}e&&J&&pi.alternate===null&&n(N,J),x=d(pi,x,_e),Ae===null?re=pi:Ae.sibling=pi,Ae=pi,J=Ne}if(Re.done)return a(N,J),we&&Sn(N,_e),re;if(J===null){for(;!Re.done;_e++,Re=w.next())Re=U(N,Re.value,L),Re!==null&&(x=d(Re,x,_e),Ae===null?re=Re:Ae.sibling=Re,Ae=Re);return we&&Sn(N,_e),re}for(J=l(J);!Re.done;_e++,Re=w.next())Re=j(J,N,_e,Re.value,L),Re!==null&&(e&&Re.alternate!==null&&J.delete(Re.key===null?_e:Re.key),x=d(Re,x,_e),Ae===null?re=Re:Ae.sibling=Re,Ae=Re);return e&&J.forEach(function(HE){return n(N,HE)}),we&&Sn(N,_e),re}function Ue(N,x,w,L){if(typeof w=="object"&&w!==null&&w.type===P&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case C:e:{for(var re=w.key;x!==null;){if(x.key===re){if(re=w.type,re===P){if(x.tag===7){a(N,x.sibling),L=c(x,w.props.children),L.return=N,N=L;break e}}else if(x.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===me&&qi(re)===x.type){a(N,x.sibling),L=c(x,w.props),Ya(L,w),L.return=N,N=L;break e}a(N,x);break}else n(N,x);x=x.sibling}w.type===P?(L=Pi(w.props.children,N.mode,L,w.key),L.return=N,N=L):(L=Al(w.type,w.key,w.props,null,N.mode,L),Ya(L,w),L.return=N,N=L)}return p(N);case I:e:{for(re=w.key;x!==null;){if(x.key===re)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){a(N,x.sibling),L=c(x,w.children||[]),L.return=N,N=L;break e}else{a(N,x);break}else n(N,x);x=x.sibling}L=su(w,N.mode,L),L.return=N,N=L}return p(N);case me:return w=qi(w),Ue(N,x,w,L)}if(ne(w))return W(N,x,w,L);if(oe(w)){if(re=oe(w),typeof re!="function")throw Error(r(150));return w=re.call(w),ce(N,x,w,L)}if(typeof w.then=="function")return Ue(N,x,kl(w),L);if(w.$$typeof===X)return Ue(N,x,jl(N,w),L);Ll(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,x!==null&&x.tag===6?(a(N,x.sibling),L=c(x,w),L.return=N,N=L):(a(N,x),L=iu(w,N.mode,L),L.return=N,N=L),p(N)):a(N,x)}return function(N,x,w,L){try{Va=0;var re=Ue(N,x,w,L);return zs=null,re}catch(J){if(J===Us||J===Dl)throw J;var Ae=kt(29,J,null,N.mode);return Ae.lanes=L,Ae.return=N,Ae}}}var Yi=Km(!0),Qm=Km(!1),Zn=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ei(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wl(e),Im(e,null,a),n}return Cl(e,l,n,a),wl(e)}function Xa(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Bh(e,a)}}function vu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?c=d=n:d=d.next=n}else c=d=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yu=!1;function Ka(){if(yu){var e=Ls;if(e!==null)throw e}}function Qa(e,n,a,l){yu=!1;var c=e.updateQueue;Zn=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var E=v,A=E.next;E.next=null,p===null?d=A:p.next=A,p=E;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==p&&(v===null?D.firstBaseUpdate=A:v.next=A,D.lastBaseUpdate=E))}if(d!==null){var U=c.baseState;p=0,D=A=E=null,v=d;do{var R=v.lane&-536870913,j=R!==v.lane;if(j?(Te&R)===R:(l&R)===R){R!==0&&R===ks&&(yu=!0),D!==null&&(D=D.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var W=e,ce=v;R=n;var Ue=a;switch(ce.tag){case 1:if(W=ce.payload,typeof W=="function"){U=W.call(Ue,U,R);break e}U=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ce.payload,R=typeof W=="function"?W.call(Ue,U,R):W,R==null)break e;U=S({},U,R);break e;case 2:Zn=!0}}R=v.callback,R!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[R]:j.push(R))}else j={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(A=D=j,E=U):D=D.next=j,p|=R;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;j=v,v=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);D===null&&(E=U),c.baseState=E,c.firstBaseUpdate=A,c.lastBaseUpdate=D,d===null&&(c.shared.lanes=0),ai|=p,e.lanes=p,e.memoizedState=U}}function Wm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function $m(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wm(a[e],n)}var Ps=T(null),Ul=T(0);function Zm(e,n){e=In,M(Ul,e),M(Ps,n),In=e|n.baseLanes}function bu(){M(Ul,In),M(Ps,Ps.current)}function Su(){In=Ul.current,k(Ps),k(Ul)}var Lt=T(null),Kt=null;function ti(e){var n=e.alternate;M($e,$e.current&1),M(Lt,e),Kt===null&&(n===null||Ps.current!==null||n.memoizedState!==null)&&(Kt=e)}function Eu(e){M($e,$e.current),M(Lt,e),Kt===null&&(Kt=e)}function Jm(e){e.tag===22?(M($e,$e.current),M(Lt,e),Kt===null&&(Kt=e)):ni()}function ni(){M($e,$e.current),M(Lt,Lt.current)}function Ut(e){k(Lt),Kt===e&&(Kt=null),k($e)}var $e=T(0);function zl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,ge=null,ke=null,et=null,Pl=!1,Bs=!1,Xi=!1,Bl=0,Wa=0,Hs=null,jS=0;function Ye(){throw Error(r(321))}function xu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Mt(e[a],n[a]))return!1;return!0}function Tu(e,n,a,l,c,d){return Tn=d,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?Lp:Pu,Xi=!1,d=a(l,c),Xi=!1,Bs&&(d=tp(n,a,l,c)),ep(e),d}function ep(e){O.H=Ja;var n=ke!==null&&ke.next!==null;if(Tn=0,et=ke=ge=null,Pl=!1,Wa=0,Hs=null,n)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&Ol(e)&&(tt=!0))}function tp(e,n,a,l){ge=e;var c=0;do{if(Bs&&(Hs=null),Wa=0,Bs=!1,25<=c)throw Error(r(301));if(c+=1,et=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}O.H=Up,d=n(a,l)}while(Bs);return d}function IS(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?$a(n):n,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(ge.flags|=1024),n}function Nu(){var e=Bl!==0;return Bl=0,e}function Cu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wu(e){if(Pl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pl=!1}Tn=0,et=ke=ge=null,Bs=!1,Wa=Bl=0,Hs=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ge.memoizedState=et=e:et=et.next=e,et}function Ze(){if(ke===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var n=et===null?ge.memoizedState:et.next;if(n!==null)et=n,ke=e;else{if(e===null)throw ge.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},et===null?ge.memoizedState=et=e:et=et.next=e}return et}function Hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $a(e){var n=Wa;return Wa+=1,Hs===null&&(Hs=[]),e=Vm(Hs,e,n),n=ge,(et===null?n.memoizedState:et.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?Lp:Pu),e}function Gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $a(e);if(e.$$typeof===X)return ft(e)}throw Error(r(438,String(e)))}function Au(e){var n=null,a=ge.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hl(),ge.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=fe;return n.index++,a}function Nn(e,n){return typeof n=="function"?n(e):n}function Fl(e){var n=Ze();return Ru(n,ke,e)}function Ru(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}n.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{n=c.next;var v=p=null,E=null,A=n,D=!1;do{var U=A.lane&-536870913;if(U!==A.lane?(Te&U)===U:(Tn&U)===U){var R=A.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),U===ks&&(D=!0);else if((Tn&R)===R){A=A.next,R===ks&&(D=!0);continue}else U={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(v=E=U,p=d):E=E.next=U,ge.lanes|=R,ai|=R;U=A.action,Xi&&a(d,U),d=A.hasEagerState?A.eagerState:a(d,U)}else R={lane:U,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(v=E=R,p=d):E=E.next=R,ge.lanes|=U,ai|=U;A=A.next}while(A!==null&&A!==n);if(E===null?p=d:E.next=v,!Mt(d,e.memoizedState)&&(tt=!0,D&&(a=Ls,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=E,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ou(e){var n=Ze(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,d=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);Mt(d,n.memoizedState)||(tt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function np(e,n,a){var l=ge,c=Ze(),d=we;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Mt((ke||c).memoizedState,a);if(p&&(c.memoizedState=a,tt=!0),c=c.queue,Du(ap.bind(null,l,c,e),[e]),c.getSnapshot!==n||p||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,Gs(9,{destroy:void 0},sp.bind(null,l,c,a,n),null),Be===null)throw Error(r(349));d||(Tn&127)!==0||ip(l,n,a)}return a}function ip(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ge.updateQueue,n===null?(n=Hl(),ge.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function sp(e,n,a,l){n.value=a,n.getSnapshot=l,rp(n)&&lp(e)}function ap(e,n,a){return a(function(){rp(n)&&lp(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Mt(e,a)}catch{return!0}}function lp(e){var n=zi(e,2);n!==null&&Rt(n,e,2)}function ju(e){var n=yt();if(typeof e=="function"){var a=e;if(e=a(),Xi){Vn(!0);try{a()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},n}function op(e,n,a,l){return e.baseState=a,Ru(e,ke,typeof l=="function"?l:Nn)}function DS(e,n,a,l,c){if(Yl(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};O.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,cp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function cp(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var d=O.T,p={};O.T=p;try{var v=a(c,l),E=O.S;E!==null&&E(p,v),up(e,n,v)}catch(A){Iu(e,n,A)}finally{d!==null&&p.types!==null&&(d.types=p.types),O.T=d}}else try{d=a(c,l),up(e,n,d)}catch(A){Iu(e,n,A)}}function up(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dp(e,n,l)},function(l){return Iu(e,n,l)}):dp(e,n,a)}function dp(e,n,a){n.status="fulfilled",n.value=a,fp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,cp(e,a)))}function Iu(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,fp(n),n=n.next;while(n!==l)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function mp(e,n){if(we){var a=Be.formState;if(a!==null){e:{var l=ge;if(we){if(Fe){t:{for(var c=Fe,d=Xt;c.nodeType!==8;){if(!d){c=null;break t}if(c=Qt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Fe=Qt(c.nextSibling),l=c.data==="F!";break e}}Wn(l)}l=!1}l&&(n=a[0])}}return a=yt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},a.queue=l,a=Dp.bind(null,ge,l),l.dispatch=a,l=ju(!1),d=zu.bind(null,ge,!1,l.queue),l=yt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=DS.bind(null,ge,c,d,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function pp(e){var n=Ze();return gp(n,ke,e)}function gp(e,n,a){if(n=Ru(e,n,hp)[0],e=Fl(Nn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$a(n)}catch(p){throw p===Us?Dl:p}else l=n;n=Ze();var c=n.queue,d=c.dispatch;return a!==n.memoizedState&&(ge.flags|=2048,Gs(9,{destroy:void 0},MS.bind(null,c,a),null)),[l,d,e]}function MS(e,n){e.action=n}function _p(e){var n=Ze(),a=ke;if(a!==null)return gp(n,a,e);Ze(),n=n.memoizedState,a=Ze();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Gs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ge.updateQueue,n===null&&(n=Hl(),ge.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function vp(){return Ze().memoizedState}function ql(e,n,a,l){var c=yt();ge.flags|=e,c.memoizedState=Gs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Vl(e,n,a,l){var c=Ze();l=l===void 0?null:l;var d=c.memoizedState.inst;ke!==null&&l!==null&&xu(l,ke.memoizedState.deps)?c.memoizedState=Gs(n,d,a,l):(ge.flags|=e,c.memoizedState=Gs(1|n,d,a,l))}function yp(e,n){ql(8390656,8,e,n)}function Du(e,n){Vl(2048,8,e,n)}function kS(e){ge.flags|=4;var n=ge.updateQueue;if(n===null)n=Hl(),ge.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function bp(e){var n=Ze().memoizedState;return kS({ref:n,nextImpl:e}),function(){if((je&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sp(e,n){return Vl(4,2,e,n)}function Ep(e,n){return Vl(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,a){a=a!=null?a.concat([e]):null,Vl(4,4,xp.bind(null,n,e),a)}function Mu(){}function Np(e,n){var a=Ze();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&xu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Cp(e,n){var a=Ze();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&xu(n,l[1]))return l[0];if(l=e(),Xi){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,n],l}function ku(e,n,a){return a===void 0||(Tn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=wg(),ge.lanes|=e,ai|=e,a)}function wp(e,n,a,l){return Mt(a,n)?a:Ps.current!==null?(e=ku(e,a,l),Mt(e,n)||(tt=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(Te&261930)===0?(tt=!0,e.memoizedState=a):(e=wg(),ge.lanes|=e,ai|=e,n)}function Ap(e,n,a,l,c){var d=F.p;F.p=d!==0&&8>d?d:8;var p=O.T,v={};O.T=v,zu(e,!1,n,a);try{var E=c(),A=O.S;if(A!==null&&A(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var D=OS(E,l);Za(e,n,D,Bt(e))}else Za(e,n,l,Bt(e))}catch(U){Za(e,n,{then:function(){},status:"rejected",reason:U},Bt())}finally{F.p=d,p!==null&&v.types!==null&&(p.types=v.types),O.T=p}}function LS(){}function Lu(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=Rp(e).queue;Ap(e,c,n,ie,a===null?LS:function(){return Op(e),a(l)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:ie},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Op(e){var n=Rp(e);n.next===null&&(n=e.alternate.memoizedState),Za(e,n.next.queue,{},Bt())}function Uu(){return ft(pr)}function jp(){return Ze().memoizedState}function Ip(){return Ze().memoizedState}function US(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Bt();e=Jn(a);var l=ei(n,e,a);l!==null&&(Rt(l,n,a),Xa(l,n,a)),n={cache:fu()},e.payload=n;return}n=n.return}}function zS(e,n,a){var l=Bt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yl(e)?Mp(n,a):(a=tu(e,n,a,l),a!==null&&(Rt(a,e,l),kp(a,n,l)))}function Dp(e,n,a){var l=Bt();Za(e,n,a,l)}function Za(e,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yl(e))Mp(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,v=d(p,a);if(c.hasEagerState=!0,c.eagerState=v,Mt(v,p))return Cl(e,n,c,0),Be===null&&Nl(),!1}catch{}if(a=tu(e,n,c,l),a!==null)return Rt(a,e,l),kp(a,n,l),!0}return!1}function zu(e,n,a,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yl(e)){if(n)throw Error(r(479))}else n=tu(e,a,l,2),n!==null&&Rt(n,e,2)}function Yl(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function Mp(e,n){Bs=Pl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function kp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Bh(e,a)}}var Ja={readContext:ft,use:Gl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Ja.useEffectEvent=Ye;var Lp={readContext:ft,use:Gl,useCallback:function(e,n){return yt().memoizedState=[e,n===void 0?null:n],e},useContext:ft,useEffect:yp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ql(4194308,4,xp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ql(4194308,4,e,n)},useInsertionEffect:function(e,n){ql(4,2,e,n)},useMemo:function(e,n){var a=yt();n=n===void 0?null:n;var l=e();if(Xi){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=yt();if(a!==void 0){var c=a(n);if(Xi){Vn(!0);try{a(n)}finally{Vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=zS.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var n=yt();return e={current:e},n.memoizedState=e},useState:function(e){e=ju(e);var n=e.queue,a=Dp.bind(null,ge,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Mu,useDeferredValue:function(e,n){var a=yt();return ku(a,e,n)},useTransition:function(){var e=ju(!1);return e=Ap.bind(null,ge,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ge,c=yt();if(we){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Be===null)throw Error(r(349));(Te&127)!==0||ip(l,n,a)}c.memoizedState=a;var d={value:a,getSnapshot:n};return c.queue=d,yp(ap.bind(null,l,d,e),[e]),l.flags|=2048,Gs(9,{destroy:void 0},sp.bind(null,l,d,a,n),null),a},useId:function(){var e=yt(),n=Be.identifierPrefix;if(we){var a=dn,l=un;a=(l&~(1<<32-Dt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=jS++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uu,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=yt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zu.bind(null,ge,!0,a),a.dispatch=n,[e,n]},useMemoCache:Au,useCacheRefresh:function(){return yt().memoizedState=US.bind(null,ge)},useEffectEvent:function(e){var n=yt(),a={impl:e};return n.memoizedState=a,function(){if((je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pu={readContext:ft,use:Gl,useCallback:Np,useContext:ft,useEffect:Du,useImperativeHandle:Tp,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Cp,useReducer:Fl,useRef:vp,useState:function(){return Fl(Nn)},useDebugValue:Mu,useDeferredValue:function(e,n){var a=Ze();return wp(a,ke.memoizedState,e,n)},useTransition:function(){var e=Fl(Nn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:$a(e),n]},useSyncExternalStore:np,useId:jp,useHostTransitionStatus:Uu,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var a=Ze();return op(a,ke,e,n)},useMemoCache:Au,useCacheRefresh:Ip};Pu.useEffectEvent=bp;var Up={readContext:ft,use:Gl,useCallback:Np,useContext:ft,useEffect:Du,useImperativeHandle:Tp,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Cp,useReducer:Ou,useRef:vp,useState:function(){return Ou(Nn)},useDebugValue:Mu,useDeferredValue:function(e,n){var a=Ze();return ke===null?ku(a,e,n):wp(a,ke.memoizedState,e,n)},useTransition:function(){var e=Ou(Nn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:$a(e),n]},useSyncExternalStore:np,useId:jp,useHostTransitionStatus:Uu,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var a=Ze();return ke!==null?op(a,ke,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Au,useCacheRefresh:Ip};Up.useEffectEvent=bp;function Bu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Bt(),c=Jn(l);c.payload=n,a!=null&&(c.callback=a),n=ei(e,c,l),n!==null&&(Rt(n,e,l),Xa(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Bt(),c=Jn(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ei(e,c,l),n!==null&&(Rt(n,e,l),Xa(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Bt(),l=Jn(a);l.tag=2,n!=null&&(l.callback=n),n=ei(e,l,a),n!==null&&(Rt(n,e,a),Xa(n,e,a))}};function zp(e,n,a,l,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):n.prototype&&n.prototype.isPureReactComponent?!Pa(a,l)||!Pa(c,d):!0}function Pp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Hu.enqueueReplaceState(n,n.state,null)}function Ki(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Bp(e){Tl(e)}function Hp(e){console.error(e)}function Gp(e){Tl(e)}function Xl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Gu(e,n,a){return a=Jn(a),a.tag=3,a.payload={element:null},a.callback=function(){Xl(e,n)},a}function qp(e){return e=Jn(e),e.tag=3,e}function Vp(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Fp(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Fp(n,a,l),typeof c!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function PS(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ms(n,a,c,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return Kt===null?ao():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Ml?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),hd(e,l,c)),!1;case 22:return a.flags|=65536,l===Ml?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),hd(e,l,c)),!1}throw Error(r(435,a.tag))}return hd(e,l,c),ao(),!1}if(we)return n=Lt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lu&&(e=Error(r(422),{cause:l}),Ga(qt(e,a)))):(l!==lu&&(n=Error(r(423),{cause:l}),Ga(qt(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=qt(l,a),c=Gu(e.stateNode,l,c),vu(e,c),Xe!==4&&(Xe=2)),!1;var d=Error(r(520),{cause:l});if(d=qt(d,a),lr===null?lr=[d]:lr.push(d),Xe!==4&&(Xe=2),n===null)return!0;l=qt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Gu(a.stateNode,l,e),vu(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ri===null||!ri.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=qp(c),Vp(c,e,a,l),vu(a,c),!1}a=a.return}while(a!==null);return!1}var Fu=Error(r(461)),tt=!1;function ht(e,n,a,l){n.child=e===null?Qm(n,null,a,l):Yi(n,e.child,a,l)}function Yp(e,n,a,l,c){a=a.render;var d=n.ref;if("ref"in l){var p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}else p=l;return Gi(n),l=Tu(e,n,a,p,d,c),v=Nu(),e!==null&&!tt?(Cu(e,n,c),Cn(e,n,c)):(we&&v&&au(n),n.flags|=1,ht(e,n,l,c),n.child)}function Xp(e,n,a,l,c){if(e===null){var d=a.type;return typeof d=="function"&&!nu(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Kp(e,n,d,l,c)):(e=Al(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!$u(e,c)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(p,l)&&e.ref===n.ref)return Cn(e,n,c)}return n.flags|=1,e=bn(d,l),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,a,l,c){if(e!==null){var d=e.memoizedProps;if(Pa(d,l)&&e.ref===n.ref)if(tt=!1,n.pendingProps=l=d,$u(e,c))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,Cn(e,n,c)}return qu(e,n,a,l,c)}function Qp(e,n,a,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,n.child=null;return Wp(e,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Il(n,d!==null?d.cachePool:null),d!==null?Zm(n,d):bu(),Jm(n);else return l=n.lanes=536870912,Wp(e,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Il(n,d.cachePool),Zm(n,d),ni(),n.memoizedState=null):(e!==null&&Il(n,null),bu(),ni());return ht(e,n,c,a),n.child}function er(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,a,l,c){var d=mu();return d=d===null?null:{parent:Je._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&Il(n,null),bu(),Jm(n),e!==null&&Ms(e,n,l,!0),n.childLanes=c,null}function Kl(e,n){return n=Wl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,a){return Yi(n,e.child,null,a),e=Kl(n,n.pendingProps),e.flags|=2,Ut(n),n.memoizedState=null,e}function BS(e,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=Kl(n,l),n.lanes=536870912,er(null,e);if(Eu(n),(e=Fe)?(e=c_(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:un,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},a=Mm(e),a.return=n,n.child=a,dt=n,Fe=null)):e=null,e===null)throw Wn(n);return n.lanes=536870912,null}return Kl(n,l)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Eu(n),c)if(n.flags&256)n.flags&=-257,n=$p(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(tt||Ms(e,n,a,!1),c=(a&e.childLanes)!==0,tt||c){if(l=Be,l!==null&&(p=Hh(l,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,zi(e,p),Rt(l,e,p),Fu;ao(),n=$p(e,n,a)}else e=d.treeContext,Fe=Qt(p.nextSibling),dt=n,we=!0,Qn=null,Xt=!1,e!==null&&Um(n,e),n=Kl(n,l),n.flags|=4096;return n}return e=bn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ql(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qu(e,n,a,l,c){return Gi(n),a=Tu(e,n,a,l,void 0,c),l=Nu(),e!==null&&!tt?(Cu(e,n,c),Cn(e,n,c)):(we&&l&&au(n),n.flags|=1,ht(e,n,a,c),n.child)}function Zp(e,n,a,l,c,d){return Gi(n),n.updateQueue=null,a=tp(n,l,a,c),ep(e),l=Nu(),e!==null&&!tt?(Cu(e,n,d),Cn(e,n,d)):(we&&l&&au(n),n.flags|=1,ht(e,n,a,d),n.child)}function Jp(e,n,a,l,c){if(Gi(n),n.stateNode===null){var d=Os,p=a.contextType;typeof p=="object"&&p!==null&&(d=ft(p)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},gu(n),p=a.contextType,d.context=typeof p=="object"&&p!==null?ft(p):Os,d.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Bu(n,a,p,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Hu.enqueueReplaceState(d,d.state,null),Qa(n,l,d,c),Ka(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var v=n.memoizedProps,E=Ki(a,v);d.props=E;var A=d.context,D=a.contextType;p=Os,typeof D=="object"&&D!==null&&(p=ft(D));var U=a.getDerivedStateFromProps;D=typeof U=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,D||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||A!==p)&&Pp(n,d,l,p),Zn=!1;var R=n.memoizedState;d.state=R,Qa(n,l,d,c),Ka(),A=n.memoizedState,v||R!==A||Zn?(typeof U=="function"&&(Bu(n,a,U,l),A=n.memoizedState),(E=Zn||zp(n,a,E,l,R,A,p))?(D||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),d.props=l,d.state=A,d.context=p,l=E):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,_u(e,n),p=n.memoizedProps,D=Ki(a,p),d.props=D,U=n.pendingProps,R=d.context,A=a.contextType,E=Os,typeof A=="object"&&A!==null&&(E=ft(A)),v=a.getDerivedStateFromProps,(A=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==U||R!==E)&&Pp(n,d,l,E),Zn=!1,R=n.memoizedState,d.state=R,Qa(n,l,d,c),Ka();var j=n.memoizedState;p!==U||R!==j||Zn||e!==null&&e.dependencies!==null&&Ol(e.dependencies)?(typeof v=="function"&&(Bu(n,a,v,l),j=n.memoizedState),(D=Zn||zp(n,a,D,l,R,j,E)||e!==null&&e.dependencies!==null&&Ol(e.dependencies))?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,E)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),d.props=l,d.state=j,d.context=E,l=D):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ql(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Yi(n,e.child,null,c),n.child=Yi(n,null,a,c)):ht(e,n,a,c),n.memoizedState=d.state,e=n.child):e=Cn(e,n,c),e}function eg(e,n,a,l){return Bi(),n.flags|=256,ht(e,n,a,l),n.child}var Vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:Fm()}}function Xu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Pt),e}function tg(e,n,a){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(we){if(c?ti(n):ni(),(e=Fe)?(e=c_(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:un,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},a=Mm(e),a.return=n,n.child=a,dt=n,Fe=null)):e=null,e===null)throw Wn(n);return Rd(e)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,c?(ni(),c=n.mode,v=Wl({mode:"hidden",children:v},c),l=Pi(l,c,a,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=Yu(a),l.childLanes=Xu(e,p,a),n.memoizedState=Vu,er(null,l)):(ti(n),Ku(n,v))}var E=e.memoizedState;if(E!==null&&(v=E.dehydrated,v!==null)){if(d)n.flags&256?(ti(n),n.flags&=-257,n=Qu(e,n,a)):n.memoizedState!==null?(ni(),n.child=e.child,n.flags|=128,n=null):(ni(),v=l.fallback,c=n.mode,l=Wl({mode:"visible",children:l.children},c),v=Pi(v,c,a,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,Yi(n,e.child,null,a),l=n.child,l.memoizedState=Yu(a),l.childLanes=Xu(e,p,a),n.memoizedState=Vu,n=er(null,l));else if(ti(n),Rd(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var A=p.dgst;p=A,l=Error(r(419)),l.stack="",l.digest=p,Ga({value:l,source:null,stack:null}),n=Qu(e,n,a)}else if(tt||Ms(e,n,a,!1),p=(a&e.childLanes)!==0,tt||p){if(p=Be,p!==null&&(l=Hh(p,a),l!==0&&l!==E.retryLane))throw E.retryLane=l,zi(e,l),Rt(p,e,l),Fu;Ad(v)||ao(),n=Qu(e,n,a)}else Ad(v)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Fe=Qt(v.nextSibling),dt=n,we=!0,Qn=null,Xt=!1,e!==null&&Um(n,e),n=Ku(n,l.children),n.flags|=4096);return n}return c?(ni(),v=l.fallback,c=n.mode,E=e.child,A=E.sibling,l=bn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,A!==null?v=bn(A,v):(v=Pi(v,c,a,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,er(null,l),l=n.child,v=e.child.memoizedState,v===null?v=Yu(a):(c=v.cachePool,c!==null?(E=Je._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=Fm(),v={baseLanes:v.baseLanes|a,cachePool:c}),l.memoizedState=v,l.childLanes=Xu(e,p,a),n.memoizedState=Vu,er(e.child,l)):(ti(n),a=e.child,e=a.sibling,a=bn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Ku(e,n){return n=Wl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wl(e,n){return e=kt(22,e,null,n),e.lanes=0,e}function Qu(e,n,a){return Yi(n,e.child,null,a),e=Ku(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ng(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),uu(e.return,n,a)}function Wu(e,n,a,l,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=d)}function ig(e,n,a){var l=n.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var p=$e.current,v=(p&2)!==0;if(v?(p=p&1|2,n.flags|=128):p&=1,M($e,p),ht(e,n,l,a),l=we?Ha:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ng(e,a,n);else if(e.tag===19)ng(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&zl(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Wu(n,!1,c,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&zl(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Wu(n,!0,a,null,d,l);break;case"together":Wu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Cn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ai|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ms(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=bn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function $u(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ol(e)))}function HS(e,n,a){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),$n(n,Je,e.memoizedState.cache),Bi();break;case 27:case 5:cn(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:$n(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Eu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ti(n),n.flags|=128,null):(a&n.child.childLanes)!==0?tg(e,n,a):(ti(n),e=Cn(e,n,a),e!==null?e.sibling:null);ti(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ms(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ig(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),M($e,$e.current),l)break;return null;case 22:return n.lanes=0,Qp(e,n,a,n.pendingProps);case 24:$n(n,Je,e.memoizedState.cache)}return Cn(e,n,a)}function sg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!$u(e,a)&&(n.flags&128)===0)return tt=!1,HS(e,n,a);tt=(e.flags&131072)!==0}else tt=!1,we&&(n.flags&1048576)!==0&&Lm(n,Ha,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=qi(n.elementType),n.type=e,typeof e=="function")nu(e)?(l=Ki(e,l),n.tag=1,n=Jp(null,n,e,l,a)):(n.tag=0,n=qu(null,n,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===z){n.tag=11,n=Yp(null,n,e,l,a);break e}else if(c===V){n.tag=14,n=Xp(null,n,e,l,a);break e}}throw n=H(e)||e,Error(r(306,n,""))}}return n;case 0:return qu(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ki(l,n.pendingProps),Jp(e,n,l,c,a);case 3:e:{if(We(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;c=d.element,_u(e,n),Qa(n,l,null,a);var p=n.memoizedState;if(l=p.cache,$n(n,Je,l),l!==d.cache&&du(n,[Je],a,!0),Ka(),l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=eg(e,n,l,a);break e}else if(l!==c){c=qt(Error(r(424)),n),Ga(c),n=eg(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Fe=Qt(e.firstChild),dt=n,we=!0,Qn=null,Xt=!0,a=Qm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bi(),l===c){n=Cn(e,n,a);break e}ht(e,n,l,a)}n=n.child}return n;case 26:return Ql(e,n),e===null?(a=p_(n.type,null,n.pendingProps,null))?n.memoizedState=a:we||(a=n.type,e=n.pendingProps,l=ho(se.current).createElement(a),l[ut]=n,l[xt]=e,mt(l,a,e),rt(l),n.stateNode=l):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return cn(n),e===null&&we&&(l=n.stateNode=f_(n.type,n.pendingProps,se.current),dt=n,Xt=!0,c=Fe,ui(n.type)?(Od=c,Fe=Qt(l.firstChild)):Fe=c),ht(e,n,n.pendingProps.children,a),Ql(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&we&&((c=l=Fe)&&(l=_E(l,n.type,n.pendingProps,Xt),l!==null?(n.stateNode=l,dt=n,Fe=Qt(l.firstChild),Xt=!1,c=!0):c=!1),c||Wn(n)),cn(n),c=n.type,d=n.pendingProps,p=e!==null?e.memoizedProps:null,l=d.children,Nd(c,d)?l=null:p!==null&&Nd(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Tu(e,n,IS,null,null,a),pr._currentValue=c),Ql(e,n),ht(e,n,l,a),n.child;case 6:return e===null&&we&&((e=a=Fe)&&(a=vE(a,n.pendingProps,Xt),a!==null?(n.stateNode=a,dt=n,Fe=null,e=!0):e=!1),e||Wn(n)),null;case 13:return tg(e,n,a);case 4:return We(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Yi(n,null,l,a):ht(e,n,l,a),n.child;case 11:return Yp(e,n,n.type,n.pendingProps,a);case 7:return ht(e,n,n.pendingProps,a),n.child;case 8:return ht(e,n,n.pendingProps.children,a),n.child;case 12:return ht(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,$n(n,n.type,l.value),ht(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Gi(n),c=ft(c),l=l(c),n.flags|=1,ht(e,n,l,a),n.child;case 14:return Xp(e,n,n.type,n.pendingProps,a);case 15:return Kp(e,n,n.type,n.pendingProps,a);case 19:return ig(e,n,a);case 31:return BS(e,n,a);case 22:return Qp(e,n,a,n.pendingProps);case 24:return Gi(n),l=ft(Je),e===null?(c=mu(),c===null&&(c=Be,d=fu(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),n.memoizedState={parent:l,cache:c},gu(n),$n(n,Je,c)):((e.lanes&a)!==0&&(_u(e,n),Qa(n,null,null,a),Ka()),c=e.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),$n(n,Je,l)):(l=d.cache,$n(n,Je,l),l!==c.cache&&du(n,[Je],a,!0))),ht(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function wn(e){e.flags|=4}function Zu(e,n,a,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(jg())e.flags|=8192;else throw Vi=Ml,pu}else e.flags&=-16777217}function ag(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!b_(n))if(jg())e.flags|=8192;else throw Vi=Ml,pu}function $l(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zh():536870912,e.lanes|=n,Ys|=n)}function tr(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function GS(e,n,a){var l=n.pendingProps;switch(ru(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xn(Je),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ds(n)?wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ou())),qe(n),null;case 26:var c=n.type,d=n.memoizedState;return e===null?(wn(n),d!==null?(qe(n),ag(n,d)):(qe(n),Zu(n,c,null,l,a))):d?d!==e.memoizedState?(wn(n),qe(n),ag(n,d)):(qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&wn(n),qe(n),Zu(n,c,e,l,a)),null;case 27:if(ol(n),a=se.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&wn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return qe(n),null}e=G.current,Ds(n)?zm(n):(e=f_(c,l,a),n.stateNode=e,wn(n))}return qe(n),null;case 5:if(ol(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&wn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return qe(n),null}if(d=G.current,Ds(n))zm(n);else{var p=ho(se.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}d[ut]=n,d[xt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=d;e:switch(mt(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wn(n)}}return qe(n),Zu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&wn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=se.current,Ds(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=dt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ut]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t_(e.nodeValue,a)),e||Wn(n,!0)}else e=ho(e).createTextNode(l),e[ut]=n,n.stateNode=e}return qe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ds(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ut]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),e=!1}else a=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Ut(n),n):(Ut(n),null);if((n.flags&128)!==0)throw Error(r(558))}return qe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ds(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ut]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),c=!1}else c=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ut(n),n):(Ut(n),null)}return Ut(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),$l(n,n.updateQueue),qe(n),null);case 4:return Me(),e===null&&bd(n.stateNode.containerInfo),qe(n),null;case 10:return xn(n.type),qe(n),null;case 19:if(k($e),l=n.memoizedState,l===null)return qe(n),null;if(c=(n.flags&128)!==0,d=l.rendering,d===null)if(c)tr(l,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=zl(e),d!==null){for(n.flags|=128,tr(l,!1),e=d.updateQueue,n.updateQueue=e,$l(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Dm(a,e),a=a.sibling;return M($e,$e.current&1|2),we&&Sn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&jt()>no&&(n.flags|=128,c=!0,tr(l,!1),n.lanes=4194304)}else{if(!c)if(e=zl(d),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,$l(n,e),tr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!we)return qe(n),null}else 2*jt()-l.renderingStartTime>no&&a!==536870912&&(n.flags|=128,c=!0,tr(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=jt(),e.sibling=null,a=$e.current,M($e,c?a&1|2:a&1),we&&Sn(n,l.treeForkCount),e):(qe(n),null);case 22:case 23:return Ut(n),Su(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),a=n.updateQueue,a!==null&&$l(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&k(Fi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xn(Je),qe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function FS(e,n){switch(ru(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xn(Je),Me(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ol(n),null;case 31:if(n.memoizedState!==null){if(Ut(n),n.alternate===null)throw Error(r(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ut(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k($e),null;case 4:return Me(),null;case 10:return xn(n.type),null;case 22:case 23:return Ut(n),Su(),e!==null&&k(Fi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xn(Je),null;case 25:return null;default:return null}}function rg(e,n){switch(ru(n),n.tag){case 3:xn(Je),Me();break;case 26:case 27:case 5:ol(n);break;case 4:Me();break;case 31:n.memoizedState!==null&&Ut(n);break;case 13:Ut(n);break;case 19:k($e);break;case 10:xn(n.type);break;case 22:case 23:Ut(n),Su(),e!==null&&k(Fi);break;case 24:xn(Je)}}function nr(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var d=a.create,p=a.inst;l=d(),p.destroy=l}a=a.next}while(a!==c)}}catch(v){De(n,n.return,v)}}function ii(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var p=l.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=n;var E=a,A=v;try{A()}catch(D){De(c,E,D)}}}l=l.next}while(l!==d)}}catch(D){De(n,n.return,D)}}function lg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{$m(n,a)}catch(l){De(e,e.return,l)}}}function og(e,n,a){a.props=Ki(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){De(e,n,l)}}function ir(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){De(e,n,c)}}function fn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){De(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){De(e,n,c)}else a.current=null}function cg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){De(e,e.return,c)}}function Ju(e,n,a){try{var l=e.stateNode;dE(l,e.type,a,n),l[xt]=n}catch(c){De(e,e.return,c)}}function ug(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ui(e.type)||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=vn));else if(l!==4&&(l===27&&ui(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,a),e=e.sibling;e!==null;)td(e,n,a),e=e.sibling}function Zl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ui(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zl(e,n,a),e=e.sibling;e!==null;)Zl(e,n,a),e=e.sibling}function dg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);mt(n,l,a),n[ut]=e,n[xt]=a}catch(d){De(e,e.return,d)}}var An=!1,nt=!1,nd=!1,fg=typeof WeakSet=="function"?WeakSet:Set,lt=null;function qS(e,n){if(e=e.containerInfo,xd=bo,e=Tm(e),Qc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,v=-1,E=-1,A=0,D=0,U=e,R=null;t:for(;;){for(var j;U!==a||c!==0&&U.nodeType!==3||(v=p+c),U!==d||l!==0&&U.nodeType!==3||(E=p+l),U.nodeType===3&&(p+=U.nodeValue.length),(j=U.firstChild)!==null;)R=U,U=j;for(;;){if(U===e)break t;if(R===a&&++A===c&&(v=p),R===d&&++D===l&&(E=p),(j=U.nextSibling)!==null)break;U=R,R=U.parentNode}U=j}a=v===-1||E===-1?null:{start:v,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},bo=!1,lt=n;lt!==null;)if(n=lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,lt=e;else for(;lt!==null;){switch(n=lt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var W=Ki(a.type,c);e=l.getSnapshotBeforeUpdate(W,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){De(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,lt=e;break}lt=n.return}}function hg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:On(e,a),l&4&&nr(5,a);break;case 1:if(On(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){De(a,a.return,p)}else{var c=Ki(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){De(a,a.return,p)}}l&64&&lg(a),l&512&&ir(a,a.return);break;case 3:if(On(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{$m(e,n)}catch(p){De(a,a.return,p)}}break;case 27:n===null&&l&4&&dg(a);case 26:case 5:On(e,a),n===null&&l&4&&cg(a),l&512&&ir(a,a.return);break;case 12:On(e,a);break;case 31:On(e,a),l&4&&gg(e,a);break;case 13:On(e,a),l&4&&_g(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=JS.bind(null,a),yE(e,a))));break;case 22:if(l=a.memoizedState!==null||An,!l){n=n!==null&&n.memoizedState!==null||nt,c=An;var d=nt;An=l,(nt=n)&&!d?jn(e,a,(a.subtreeFlags&8772)!==0):On(e,a),An=c,nt=d}break;case 30:break;default:On(e,a)}}function mg(e){var n=e.alternate;n!==null&&(e.alternate=null,mg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ic(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Nt=!1;function Rn(e,n,a){for(a=a.child;a!==null;)pg(e,n,a),a=a.sibling}function pg(e,n,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(wa,a)}catch{}switch(a.tag){case 26:nt||fn(a,n),Rn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||fn(a,n);var l=Ve,c=Nt;ui(a.type)&&(Ve=a.stateNode,Nt=!1),Rn(e,n,a),fr(a.stateNode),Ve=l,Nt=c;break;case 5:nt||fn(a,n);case 6:if(l=Ve,c=Nt,Ve=null,Rn(e,n,a),Ve=l,Nt=c,Ve!==null)if(Nt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(d){De(a,n,d)}else try{Ve.removeChild(a.stateNode)}catch(d){De(a,n,d)}break;case 18:Ve!==null&&(Nt?(e=Ve,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ea(e)):l_(Ve,a.stateNode));break;case 4:l=Ve,c=Nt,Ve=a.stateNode.containerInfo,Nt=!0,Rn(e,n,a),Ve=l,Nt=c;break;case 0:case 11:case 14:case 15:ii(2,a,n),nt||ii(4,a,n),Rn(e,n,a);break;case 1:nt||(fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&og(a,n,l)),Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:nt=(l=nt)||a.memoizedState!==null,Rn(e,n,a),nt=l;break;default:Rn(e,n,a)}}function gg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ea(e)}catch(a){De(n,n.return,a)}}}function _g(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ea(e)}catch(a){De(n,n.return,a)}}function VS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fg),n;default:throw Error(r(435,e.tag))}}function Jl(e,n){var a=VS(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=eE.bind(null,e,l);l.then(c,c)}})}function Ct(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=e,p=n,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(ui(v.type)){Ve=v.stateNode,Nt=!1;break e}break;case 5:Ve=v.stateNode,Nt=!1;break e;case 3:case 4:Ve=v.stateNode.containerInfo,Nt=!0;break e}v=v.return}if(Ve===null)throw Error(r(160));pg(d,p,c),Ve=null,Nt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vg(n,e),n=n.sibling}var tn=null;function vg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),wt(e),l&4&&(ii(3,e,e.return),nr(3,e),ii(5,e,e.return));break;case 1:Ct(n,e),wt(e),l&512&&(nt||a===null||fn(a,a.return)),l&64&&An&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=tn;if(Ct(n,e),wt(e),l&512&&(nt||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Oa]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),mt(d,l,a),d[ut]=e,rt(d),l=d;break e;case"link":var p=v_("link","href",c).get(l+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(d=p[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break t}}d=c.createElement(l),mt(d,l,a),c.head.appendChild(d);break;case"meta":if(p=v_("meta","content",c).get(l+(a.content||""))){for(v=0;v<p.length;v++)if(d=p[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break t}}d=c.createElement(l),mt(d,l,a),c.head.appendChild(d);break;default:throw Error(r(468,l))}d[ut]=e,rt(d),l=d}e.stateNode=l}else y_(c,e.type,e.stateNode);else e.stateNode=__(c,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?y_(c,e.type,e.stateNode):__(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ju(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ct(n,e),wt(e),l&512&&(nt||a===null||fn(a,a.return)),a!==null&&l&4&&Ju(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ct(n,e),wt(e),l&512&&(nt||a===null||fn(a,a.return)),e.flags&32){c=e.stateNode;try{xs(c,"")}catch(W){De(e,e.return,W)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Ju(e,c,a!==null?a.memoizedProps:c)),l&1024&&(nd=!0);break;case 6:if(Ct(n,e),wt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(W){De(e,e.return,W)}}break;case 3:if(go=null,c=tn,tn=mo(n.containerInfo),Ct(n,e),tn=c,wt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ea(n.containerInfo)}catch(W){De(e,e.return,W)}nd&&(nd=!1,yg(e));break;case 4:l=tn,tn=mo(e.stateNode.containerInfo),Ct(n,e),wt(e),tn=l;break;case 12:Ct(n,e),wt(e);break;case 31:Ct(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jl(e,l)));break;case 13:Ct(n,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(to=jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jl(e,l)));break;case 22:c=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,A=An,D=nt;if(An=A||c,nt=D||E,Ct(n,e),nt=D,An=A,wt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||E||An||nt||Qi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(d=E.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=E.stateNode;var U=E.memoizedProps.style,R=U!=null&&U.hasOwnProperty("display")?U.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(W){De(E,E.return,W)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(W){De(E,E.return,W)}}}else if(n.tag===18){if(a===null){E=n;try{var j=E.stateNode;c?o_(j,!0):o_(E.stateNode,!1)}catch(W){De(E,E.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jl(e,a))));break;case 19:Ct(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jl(e,l)));break;case 30:break;case 21:break;default:Ct(n,e),wt(e)}}function wt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(ug(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,d=ed(e);Zl(e,d,c);break;case 5:var p=a.stateNode;a.flags&32&&(xs(p,""),a.flags&=-33);var v=ed(e);Zl(e,v,p);break;case 3:case 4:var E=a.stateNode.containerInfo,A=ed(e);td(e,A,E);break;default:throw Error(r(161))}}catch(D){De(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function On(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hg(e,n.alternate,n),n=n.sibling}function Qi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),Qi(n);break;case 1:fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&og(n,n.return,a),Qi(n);break;case 27:fr(n.stateNode);case 26:case 5:fn(n,n.return),Qi(n);break;case 22:n.memoizedState===null&&Qi(n);break;case 30:Qi(n);break;default:Qi(n)}e=e.sibling}}function jn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,d=n,p=d.flags;switch(d.tag){case 0:case 11:case 15:jn(c,d,a),nr(4,d);break;case 1:if(jn(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){De(l,l.return,A)}if(l=d,c=l.updateQueue,c!==null){var v=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)Wm(E[c],v)}catch(A){De(l,l.return,A)}}a&&p&64&&lg(d),ir(d,d.return);break;case 27:dg(d);case 26:case 5:jn(c,d,a),a&&l===null&&p&4&&cg(d),ir(d,d.return);break;case 12:jn(c,d,a);break;case 31:jn(c,d,a),a&&p&4&&gg(c,d);break;case 13:jn(c,d,a),a&&p&4&&_g(c,d);break;case 22:d.memoizedState===null&&jn(c,d,a),ir(d,d.return);break;case 30:break;default:jn(c,d,a)}n=n.sibling}}function id(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fa(a))}function sd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fa(e))}function nn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bg(e,n,a,l),n=n.sibling}function bg(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,a,l),c&2048&&nr(9,n);break;case 1:nn(e,n,a,l);break;case 3:nn(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fa(e)));break;case 12:if(c&2048){nn(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,p=d.id,v=d.onPostCommit;typeof v=="function"&&v(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){De(n,n.return,E)}}else nn(e,n,a,l);break;case 31:nn(e,n,a,l);break;case 13:nn(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,p=n.alternate,n.memoizedState!==null?d._visibility&2?nn(e,n,a,l):sr(e,n):d._visibility&2?nn(e,n,a,l):(d._visibility|=2,Fs(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&id(p,n);break;case 24:nn(e,n,a,l),c&2048&&sd(n.alternate,n);break;default:nn(e,n,a,l)}}function Fs(e,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,p=n,v=a,E=l,A=p.flags;switch(p.tag){case 0:case 11:case 15:Fs(d,p,v,E,c),nr(8,p);break;case 23:break;case 22:var D=p.stateNode;p.memoizedState!==null?D._visibility&2?Fs(d,p,v,E,c):sr(d,p):(D._visibility|=2,Fs(d,p,v,E,c)),c&&A&2048&&id(p.alternate,p);break;case 24:Fs(d,p,v,E,c),c&&A&2048&&sd(p.alternate,p);break;default:Fs(d,p,v,E,c)}n=n.sibling}}function sr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:sr(a,l),c&2048&&id(l.alternate,l);break;case 24:sr(a,l),c&2048&&sd(l.alternate,l);break;default:sr(a,l)}n=n.sibling}}var ar=8192;function qs(e,n,a){if(e.subtreeFlags&ar)for(e=e.child;e!==null;)Sg(e,n,a),e=e.sibling}function Sg(e,n,a){switch(e.tag){case 26:qs(e,n,a),e.flags&ar&&e.memoizedState!==null&&jE(a,tn,e.memoizedState,e.memoizedProps);break;case 5:qs(e,n,a);break;case 3:case 4:var l=tn;tn=mo(e.stateNode.containerInfo),qs(e,n,a),tn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ar,ar=16777216,qs(e,n,a),ar=l):qs(e,n,a));break;default:qs(e,n,a)}}function Eg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];lt=l,Tg(l,e)}Eg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xg(e),e=e.sibling}function xg(e){switch(e.tag){case 0:case 11:case 15:rr(e),e.flags&2048&&ii(9,e,e.return);break;case 3:rr(e);break;case 12:rr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,eo(e)):rr(e);break;default:rr(e)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];lt=l,Tg(l,e)}Eg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ii(8,n,n.return),eo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,eo(n));break;default:eo(n)}e=e.sibling}}function Tg(e,n){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:ii(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,lt=l;else e:for(a=e;lt!==null;){l=lt;var c=l.sibling,d=l.return;if(mg(l),l===a){lt=null;break e}if(c!==null){c.return=d,lt=c;break e}lt=d}}}var YS={getCacheForType:function(e){var n=ft(Je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ft(Je).controller.signal}},XS=typeof WeakMap=="function"?WeakMap:Map,je=0,Be=null,Se=null,Te=0,Ie=0,zt=null,si=!1,Vs=!1,ad=!1,In=0,Xe=0,ai=0,Wi=0,rd=0,Pt=0,Ys=0,lr=null,At=null,ld=!1,to=0,Ng=0,no=1/0,io=null,ri=null,it=0,li=null,Xs=null,Dn=0,od=0,cd=null,Cg=null,or=0,ud=null;function Bt(){return(je&2)!==0&&Te!==0?Te&-Te:O.T!==null?gd():Gh()}function wg(){if(Pt===0)if((Te&536870912)===0||we){var e=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),Pt=e}else Pt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Pt}function Rt(e,n,a){(e===Be&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(Ks(e,0),oi(e,Te,Pt,!1)),Ra(e,a),((je&2)===0||e!==Be)&&(e===Be&&((je&2)===0&&(Wi|=a),Xe===4&&oi(e,Te,Pt,!1)),hn(e))}function Ag(e,n,a){if((je&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Aa(e,n),c=l?WS(e,n):fd(e,n,!0),d=l;do{if(c===0){Vs&&!l&&oi(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!KS(a)){c=fd(e,n,!1),d=!1;continue}if(c===2){if(d=n,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var v=e;c=lr;var E=v.current.memoizedState.isDehydrated;if(E&&(Ks(v,p).flags|=256),p=fd(v,p,!1),p!==2){if(ad&&!E){v.errorRecoveryDisabledLanes|=d,Wi|=d,c=4;break e}d=At,At=c,d!==null&&(At===null?At=d:At.push.apply(At,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){Ks(e,0),oi(e,n,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:oi(l,n,Pt,!si);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=to+300-jt(),10<c)){if(oi(l,n,Pt,!si),hl(l,0,!0)!==0)break e;Dn=n,l.timeoutHandle=a_(Rg.bind(null,l,a,At,io,ld,n,Pt,Wi,Ys,si,d,"Throttled",-0,0),c);break e}Rg(l,a,At,io,ld,n,Pt,Wi,Ys,si,d,null,-0,0)}}break}while(!0);hn(e)}function Rg(e,n,a,l,c,d,p,v,E,A,D,U,R,j){if(e.timeoutHandle=-1,U=n.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},Sg(n,d,U);var W=(d&62914560)===d?to-jt():(d&4194048)===d?Ng-jt():0;if(W=IE(U,W),W!==null){Dn=d,e.cancelPendingCommit=W(Ug.bind(null,e,n,d,a,l,c,p,v,E,D,U,null,R,j)),oi(e,d,p,!A);return}}Ug(e,n,d,a,l,c,p,v,E)}function KS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!Mt(d(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(e,n,a,l){n&=~rd,n&=~Wi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var d=31-Dt(c),p=1<<d;l[d]=-1,c&=~p}a!==0&&Ph(e,a,n)}function so(){return(je&6)===0?(cr(0),!1):!0}function dd(){if(Se!==null){if(Ie===0)var e=Se.return;else e=Se,En=Hi=null,wu(e),zs=null,Va=0,e=Se;for(;e!==null;)rg(e.alternate,e),e=e.return;Se=null}}function Ks(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,mE(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dn=0,dd(),Be=e,Se=a=bn(e.current,null),Te=n,Ie=0,zt=null,si=!1,Vs=Aa(e,n),ad=!1,Ys=Pt=rd=Wi=ai=Xe=0,At=lr=null,ld=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Dt(l),d=1<<c;n|=e[c],l&=~d}return In=n,Nl(),a}function Og(e,n){ge=null,O.H=Ja,n===Us||n===Dl?(n=Ym(),Ie=3):n===pu?(n=Ym(),Ie=4):Ie=n===Fu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,Se===null&&(Xe=1,Xl(e,qt(n,e.current)))}function jg(){var e=Lt.current;return e===null?!0:(Te&4194048)===Te?Kt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Kt:!1}function Ig(){var e=O.H;return O.H=Ja,e===null?Ja:e}function Dg(){var e=O.A;return O.A=YS,e}function ao(){Xe=4,si||(Te&4194048)!==Te&&Lt.current!==null||(Vs=!0),(ai&134217727)===0&&(Wi&134217727)===0||Be===null||oi(Be,Te,Pt,!1)}function fd(e,n,a){var l=je;je|=2;var c=Ig(),d=Dg();(Be!==e||Te!==n)&&(io=null,Ks(e,n)),n=!1;var p=Xe;e:do try{if(Ie!==0&&Se!==null){var v=Se,E=zt;switch(Ie){case 8:dd(),p=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(n=!0);var A=Ie;if(Ie=0,zt=null,Qs(e,v,E,A),a&&Vs){p=0;break e}break;default:A=Ie,Ie=0,zt=null,Qs(e,v,E,A)}}QS(),p=Xe;break}catch(D){Og(e,D)}while(!0);return n&&e.shellSuspendCounter++,En=Hi=null,je=l,O.H=c,O.A=d,Se===null&&(Be=null,Te=0,Nl()),p}function QS(){for(;Se!==null;)Mg(Se)}function WS(e,n){var a=je;je|=2;var l=Ig(),c=Dg();Be!==e||Te!==n?(io=null,no=jt()+500,Ks(e,n)):Vs=Aa(e,n);e:do try{if(Ie!==0&&Se!==null){n=Se;var d=zt;t:switch(Ie){case 1:Ie=0,zt=null,Qs(e,n,d,1);break;case 2:case 9:if(qm(d)){Ie=0,zt=null,kg(n);break}n=function(){Ie!==2&&Ie!==9||Be!==e||(Ie=7),hn(e)},d.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:qm(d)?(Ie=0,zt=null,kg(n)):(Ie=0,zt=null,Qs(e,n,d,7));break;case 5:var p=null;switch(Se.tag){case 26:p=Se.memoizedState;case 5:case 27:var v=Se;if(p?b_(p):v.stateNode.complete){Ie=0,zt=null;var E=v.sibling;if(E!==null)Se=E;else{var A=v.return;A!==null?(Se=A,ro(A)):Se=null}break t}}Ie=0,zt=null,Qs(e,n,d,5);break;case 6:Ie=0,zt=null,Qs(e,n,d,6);break;case 8:dd(),Xe=6;break e;default:throw Error(r(462))}}$S();break}catch(D){Og(e,D)}while(!0);return En=Hi=null,O.H=l,O.A=c,je=a,Se!==null?0:(Be=null,Te=0,Nl(),Xe)}function $S(){for(;Se!==null&&!bb();)Mg(Se)}function Mg(e){var n=sg(e.alternate,e,In);e.memoizedProps=e.pendingProps,n===null?ro(e):Se=n}function kg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Zp(a,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=Zp(a,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:wu(n);default:rg(a,n),n=Se=Dm(n,In),n=sg(a,n,In)}e.memoizedProps=e.pendingProps,n===null?ro(e):Se=n}function Qs(e,n,a,l){En=Hi=null,wu(n),zs=null,Va=0;var c=n.return;try{if(PS(e,c,n,a,Te)){Xe=1,Xl(e,qt(a,e.current)),Se=null;return}}catch(d){if(c!==null)throw Se=c,d;Xe=1,Xl(e,qt(a,e.current)),Se=null;return}n.flags&32768?(we||l===1?e=!0:Vs||(Te&536870912)!==0?e=!1:(si=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lg(n,e)):ro(n)}function ro(e){var n=e;do{if((n.flags&32768)!==0){Lg(n,si);return}e=n.return;var a=GS(n.alternate,n,In);if(a!==null){Se=a;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Xe===0&&(Xe=5)}function Lg(e,n){do{var a=FS(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Xe=6,Se=null}function Ug(e,n,a,l,c,d,p,v,E){e.cancelPendingCommit=null;do lo();while(it!==0);if((je&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=eu,Ob(e,a,d,p,v,E),e===Be&&(Se=Be=null,Te=0),Xs=n,li=e,Dn=a,od=d,cd=c,Cg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tE(cl,function(){return Gg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=F.p,F.p=2,p=je,je|=4;try{qS(e,n,a)}finally{je=p,F.p=c,O.T=l}}it=1,zg(),Pg(),Bg()}}function zg(){if(it===1){it=0;var e=li,n=Xs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=F.p;F.p=2;var c=je;je|=4;try{vg(n,e);var d=Td,p=Tm(e.containerInfo),v=d.focusedElem,E=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&xm(v.ownerDocument.documentElement,v)){if(E!==null&&Qc(v)){var A=E.start,D=E.end;if(D===void 0&&(D=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(D,v.value.length);else{var U=v.ownerDocument||document,R=U&&U.defaultView||window;if(R.getSelection){var j=R.getSelection(),W=v.textContent.length,ce=Math.min(E.start,W),Ue=E.end===void 0?ce:Math.min(E.end,W);!j.extend&&ce>Ue&&(p=Ue,Ue=ce,ce=p);var N=Em(v,ce),x=Em(v,Ue);if(N&&x&&(j.rangeCount!==1||j.anchorNode!==N.node||j.anchorOffset!==N.offset||j.focusNode!==x.node||j.focusOffset!==x.offset)){var w=U.createRange();w.setStart(N.node,N.offset),j.removeAllRanges(),ce>Ue?(j.addRange(w),j.extend(x.node,x.offset)):(w.setEnd(x.node,x.offset),j.addRange(w))}}}}for(U=[],j=v;j=j.parentNode;)j.nodeType===1&&U.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<U.length;v++){var L=U[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}bo=!!xd,Td=xd=null}finally{je=c,F.p=l,O.T=a}}e.current=n,it=2}}function Pg(){if(it===2){it=0;var e=li,n=Xs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=F.p;F.p=2;var c=je;je|=4;try{hg(e,n.alternate,n)}finally{je=c,F.p=l,O.T=a}}it=3}}function Bg(){if(it===4||it===3){it=0,Sb();var e=li,n=Xs,a=Dn,l=Cg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,Xs=li=null,Hg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ri=null),Oc(a),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(wa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=F.p,F.p=2,O.T=null;try{for(var d=e.onRecoverableError,p=0;p<l.length;p++){var v=l[p];d(v.value,{componentStack:v.stack})}}finally{O.T=n,F.p=c}}(Dn&3)!==0&&lo(),hn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===ud?or++:(or=0,ud=e):or=0,cr(0)}}function Hg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fa(n)))}function lo(){return zg(),Pg(),Bg(),Gg()}function Gg(){if(it!==5)return!1;var e=li,n=od;od=0;var a=Oc(Dn),l=O.T,c=F.p;try{F.p=32>a?32:a,O.T=null,a=cd,cd=null;var d=li,p=Dn;if(it=0,Xs=li=null,Dn=0,(je&6)!==0)throw Error(r(331));var v=je;if(je|=4,xg(d.current),bg(d,d.current,p,a),je=v,cr(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(wa,d)}catch{}return!0}finally{F.p=c,O.T=l,Hg(e,n)}}function Fg(e,n,a){n=qt(a,n),n=Gu(e.stateNode,n,2),e=ei(e,n,2),e!==null&&(Ra(e,2),hn(e))}function De(e,n,a){if(e.tag===3)Fg(e,e,a);else for(;n!==null;){if(n.tag===3){Fg(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ri===null||!ri.has(l))){e=qt(a,e),a=qp(2),l=ei(n,a,2),l!==null&&(Vp(a,l,n,e),Ra(l,2),hn(l));break}}n=n.return}}function hd(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new XS;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(ad=!0,c.add(a),e=ZS.bind(null,e,n,a),n.then(e,e))}function ZS(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Te&a)===a&&(Xe===4||Xe===3&&(Te&62914560)===Te&&300>jt()-to?(je&2)===0&&Ks(e,0):rd|=a,Ys===Te&&(Ys=0)),hn(e)}function qg(e,n){n===0&&(n=zh()),e=zi(e,n),e!==null&&(Ra(e,n),hn(e))}function JS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),qg(e,a)}function eE(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),qg(e,a)}function tE(e,n){return Cc(e,n)}var oo=null,Ws=null,md=!1,co=!1,pd=!1,ci=0;function hn(e){e!==Ws&&e.next===null&&(Ws===null?oo=Ws=e:Ws=Ws.next=e),co=!0,md||(md=!0,iE())}function cr(e,n){if(!pd&&co){pd=!0;do for(var a=!1,l=oo;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var p=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-Dt(42|e)+1)-1,d&=c&~(p&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Kg(l,d))}else d=Te,d=hl(l,l===Be?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Aa(l,d)||(a=!0,Kg(l,d));l=l.next}while(a);pd=!1}}function nE(){Vg()}function Vg(){co=md=!1;var e=0;ci!==0&&hE()&&(e=ci);for(var n=jt(),a=null,l=oo;l!==null;){var c=l.next,d=Yg(l,n);d===0?(l.next=null,a===null?oo=c:a.next=c,c===null&&(Ws=a)):(a=l,(e!==0||(d&3)!==0)&&(co=!0)),l=c}it!==0&&it!==5||cr(e),ci!==0&&(ci=0)}function Yg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-Dt(d),v=1<<p,E=c[p];E===-1?((v&a)===0||(v&l)!==0)&&(c[p]=Rb(v,n)):E<=n&&(e.expiredLanes|=v),d&=~v}if(n=Be,a=Te,a=hl(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&wc(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Aa(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&wc(l),Oc(a)){case 2:case 8:a=Lh;break;case 32:a=cl;break;case 268435456:a=Uh;break;default:a=cl}return l=Xg.bind(null,e),a=Cc(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&wc(l),e.callbackPriority=2,e.callbackNode=null,2}function Xg(e,n){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lo()&&e.callbackNode!==a)return null;var l=Te;return l=hl(e,e===Be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ag(e,l,n),Yg(e,jt()),e.callbackNode!=null&&e.callbackNode===a?Xg.bind(null,e):null)}function Kg(e,n){if(lo())return null;Ag(e,n,!0)}function iE(){pE(function(){(je&6)!==0?Cc(kh,nE):Vg()})}function gd(){if(ci===0){var e=ks;e===0&&(e=ul,ul<<=1,(ul&261888)===0&&(ul=256)),ci=e}return ci}function Qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function Wg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function sE(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var d=Qg((c[xt]||null).action),p=l.submitter;p&&(n=(n=p[xt]||null)?Qg(n.formAction):p.getAttribute("formAction"),n!==null&&(d=n,p=null));var v=new Sl("action","action",null,l,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ci!==0){var E=p?Wg(c,p):new FormData(c);Lu(a,{pending:!0,data:E,method:c.method,action:d},null,E)}}else typeof d=="function"&&(v.preventDefault(),E=p?Wg(c,p):new FormData(c),Lu(a,{pending:!0,data:E,method:c.method,action:d},d,E))},currentTarget:c}]})}}for(var _d=0;_d<Jc.length;_d++){var vd=Jc[_d],aE=vd.toLowerCase(),rE=vd[0].toUpperCase()+vd.slice(1);en(aE,"on"+rE)}en(wm,"onAnimationEnd"),en(Am,"onAnimationIteration"),en(Rm,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(ES,"onTransitionRun"),en(xS,"onTransitionStart"),en(TS,"onTransitionCancel"),en(Om,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ur));function $g(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var p=l.length-1;0<=p;p--){var v=l[p],E=v.instance,A=v.currentTarget;if(v=v.listener,E!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=A;try{d(c)}catch(D){Tl(D)}c.currentTarget=null,d=E}else for(p=0;p<l.length;p++){if(v=l[p],E=v.instance,A=v.currentTarget,v=v.listener,E!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=A;try{d(c)}catch(D){Tl(D)}c.currentTarget=null,d=E}}}}function Ee(e,n){var a=n[jc];a===void 0&&(a=n[jc]=new Set);var l=e+"__bubble";a.has(l)||(Zg(n,e,2,!1),a.add(l))}function yd(e,n,a){var l=0;n&&(l|=4),Zg(a,e,l,n)}var uo="_reactListening"+Math.random().toString(36).slice(2);function bd(e){if(!e[uo]){e[uo]=!0,Vh.forEach(function(a){a!=="selectionchange"&&(lE.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uo]||(n[uo]=!0,yd("selectionchange",!1,n))}}function Zg(e,n,a,l){switch(w_(n)){case 2:var c=kE;break;case 8:c=LE;break;default:c=kd}a=c.bind(null,n,a,e),c=void 0,!Bc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function Sd(e,n,a,l,c){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var v=l.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=l.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=vs(v),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){l=d=p;continue e}v=v.parentNode}}l=l.return}im(function(){var A=d,D=zc(a),U=[];e:{var R=jm.get(e);if(R!==void 0){var j=Sl,W=e;switch(e){case"keypress":if(yl(a)===0)break e;case"keydown":case"keyup":j=eS;break;case"focusin":W="focus",j=qc;break;case"focusout":W="blur",j=qc;break;case"beforeblur":case"afterblur":j=qc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Gb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=iS;break;case wm:case Am:case Rm:j=Vb;break;case Om:j=aS;break;case"scroll":case"scrollend":j=Bb;break;case"wheel":j=lS;break;case"copy":case"cut":case"paste":j=Xb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=om;break;case"toggle":case"beforetoggle":j=cS}var ce=(n&4)!==0,Ue=!ce&&(e==="scroll"||e==="scrollend"),N=ce?R!==null?R+"Capture":null:R;ce=[];for(var x=A,w;x!==null;){var L=x;if(w=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||w===null||N===null||(L=Ia(x,N),L!=null&&ce.push(dr(x,L,w))),Ue)break;x=x.return}0<ce.length&&(R=new j(R,W,null,a,D),U.push({event:R,listeners:ce}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",R&&a!==Uc&&(W=a.relatedTarget||a.fromElement)&&(vs(W)||W[_s]))break e;if((j||R)&&(R=D.window===D?D:(R=D.ownerDocument)?R.defaultView||R.parentWindow:window,j?(W=a.relatedTarget||a.toElement,j=A,W=W?vs(W):null,W!==null&&(Ue=u(W),ce=W.tag,W!==Ue||ce!==5&&ce!==27&&ce!==6)&&(W=null)):(j=null,W=A),j!==W)){if(ce=rm,L="onMouseLeave",N="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ce=om,L="onPointerLeave",N="onPointerEnter",x="pointer"),Ue=j==null?R:ja(j),w=W==null?R:ja(W),R=new ce(L,x+"leave",j,a,D),R.target=Ue,R.relatedTarget=w,L=null,vs(D)===A&&(ce=new ce(N,x+"enter",W,a,D),ce.target=w,ce.relatedTarget=Ue,L=ce),Ue=L,j&&W)t:{for(ce=oE,N=j,x=W,w=0,L=N;L;L=ce(L))w++;L=0;for(var re=x;re;re=ce(re))L++;for(;0<w-L;)N=ce(N),w--;for(;0<L-w;)x=ce(x),L--;for(;w--;){if(N===x||x!==null&&N===x.alternate){ce=N;break t}N=ce(N),x=ce(x)}ce=null}else ce=null;j!==null&&Jg(U,R,j,ce,!1),W!==null&&Ue!==null&&Jg(U,Ue,W,ce,!0)}}e:{if(R=A?ja(A):window,j=R.nodeName&&R.nodeName.toLowerCase(),j==="select"||j==="input"&&R.type==="file")var Ae=gm;else if(mm(R))if(_m)Ae=yS;else{Ae=_S;var J=gS}else j=R.nodeName,!j||j.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&Lc(A.elementType)&&(Ae=gm):Ae=vS;if(Ae&&(Ae=Ae(e,A))){pm(U,Ae,a,D);break e}J&&J(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&kc(R,"number",R.value)}switch(J=A?ja(A):window,e){case"focusin":(mm(J)||J.contentEditable==="true")&&(ws=J,Wc=A,Ba=null);break;case"focusout":Ba=Wc=ws=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Nm(U,a,D);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":Nm(U,a,D)}var _e;if(Yc)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Cs?fm(e,a)&&(Ne="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(cm&&a.locale!=="ko"&&(Cs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Cs&&(_e=sm()):(Xn=D,Hc="value"in Xn?Xn.value:Xn.textContent,Cs=!0)),J=fo(A,Ne),0<J.length&&(Ne=new lm(Ne,e,null,a,D),U.push({event:Ne,listeners:J}),_e?Ne.data=_e:(_e=hm(a),_e!==null&&(Ne.data=_e)))),(_e=dS?fS(e,a):hS(e,a))&&(Ne=fo(A,"onBeforeInput"),0<Ne.length&&(J=new lm("onBeforeInput","beforeinput",null,a,D),U.push({event:J,listeners:Ne}),J.data=_e)),sE(U,e,A,a,D)}$g(U,n)})}function dr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fo(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ia(e,a),c!=null&&l.unshift(dr(e,c,d)),c=Ia(e,n),c!=null&&l.push(dr(e,c,d))),e.tag===3)return l;e=e.return}return[]}function oE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jg(e,n,a,l,c){for(var d=n._reactName,p=[];a!==null&&a!==l;){var v=a,E=v.alternate,A=v.stateNode;if(v=v.tag,E!==null&&E===l)break;v!==5&&v!==26&&v!==27||A===null||(E=A,c?(A=Ia(a,d),A!=null&&p.unshift(dr(a,A,E))):c||(A=Ia(a,d),A!=null&&p.push(dr(a,A,E)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(cE,`
`).replace(uE,"")}function t_(e,n){return n=e_(n),e_(e)===n}function Le(e,n,a,l,c,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||xs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&xs(e,""+l);break;case"className":pl(e,"class",l);break;case"tabIndex":pl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,a,l);break;case"style":tm(e,l,d);break;case"data":if(n!=="object"){pl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_l(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Le(e,n,"name",c.name,c,null),Le(e,n,"formEncType",c.formEncType,c,null),Le(e,n,"formMethod",c.formMethod,c,null),Le(e,n,"formTarget",c.formTarget,c,null)):(Le(e,n,"encType",c.encType,c,null),Le(e,n,"method",c.method,c,null),Le(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_l(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=vn);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=_l(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),ml(e,"popover",l);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zb.get(a)||a,ml(e,a,l))}}function Ed(e,n,a,l,c,d){switch(a){case"style":tm(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?xs(e,l):(typeof l=="number"||typeof l=="bigint")&&xs(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),d=e[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ml(e,a,l)}}}function mt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Le(e,n,d,p,a,null)}}c&&Le(e,n,"srcSet",a.srcSet,a,null),l&&Le(e,n,"src",a.src,a,null);return;case"input":Ee("invalid",e);var v=d=p=c=null,E=null,A=null;for(l in a)if(a.hasOwnProperty(l)){var D=a[l];if(D!=null)switch(l){case"name":c=D;break;case"type":p=D;break;case"checked":E=D;break;case"defaultChecked":A=D;break;case"value":d=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:Le(e,n,l,D,a,null)}}$h(e,d,v,E,A,p,c,!1);return;case"select":Ee("invalid",e),l=p=d=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":p=v;break;case"multiple":l=v;default:Le(e,n,c,v,a,null)}n=d,a=p,e.multiple=!!l,n!=null?Es(e,!!l,n,!1):a!=null&&Es(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),d=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":l=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Le(e,n,p,v,a,null)}Jh(e,l,c,d);return;case"option":for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null)&&(E==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Le(e,n,E,l,a,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<ur.length;l++)Ee(ur[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Le(e,n,A,l,a,null)}return;default:if(Lc(n)){for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!==void 0&&Ed(e,n,D,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Le(e,n,v,l,a,null))}function dE(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,v=null,E=null,A=null,D=null;for(j in a){var U=a[j];if(a.hasOwnProperty(j)&&U!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":E=U;default:l.hasOwnProperty(j)||Le(e,n,j,null,l,U)}}for(var R in l){var j=l[R];if(U=a[R],l.hasOwnProperty(R)&&(j!=null||U!=null))switch(R){case"type":d=j;break;case"name":c=j;break;case"checked":A=j;break;case"defaultChecked":D=j;break;case"value":p=j;break;case"defaultValue":v=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==U&&Le(e,n,R,j,l,U)}}Mc(e,p,v,E,A,D,d,c);return;case"select":j=p=v=R=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":j=E;default:l.hasOwnProperty(d)||Le(e,n,d,null,l,E)}for(c in l)if(d=l[c],E=a[c],l.hasOwnProperty(c)&&(d!=null||E!=null))switch(c){case"value":R=d;break;case"defaultValue":v=d;break;case"multiple":p=d;default:d!==E&&Le(e,n,c,d,l,E)}n=v,a=p,l=j,R!=null?Es(e,!!a,R,!1):!!l!=!!a&&(n!=null?Es(e,!!a,n,!0):Es(e,!!a,a?[]:"",!1));return;case"textarea":j=R=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Le(e,n,v,null,l,c)}for(p in l)if(c=l[p],d=a[p],l.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":R=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Le(e,n,p,c,l,d)}Zh(e,R,j);return;case"option":for(var W in a)R=a[W],a.hasOwnProperty(W)&&R!=null&&!l.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:Le(e,n,W,null,l,R));for(E in l)R=l[E],j=a[E],l.hasOwnProperty(E)&&R!==j&&(R!=null||j!=null)&&(E==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Le(e,n,E,R,l,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)R=a[ce],a.hasOwnProperty(ce)&&R!=null&&!l.hasOwnProperty(ce)&&Le(e,n,ce,null,l,R);for(A in l)if(R=l[A],j=a[A],l.hasOwnProperty(A)&&R!==j&&(R!=null||j!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,n));break;default:Le(e,n,A,R,l,j)}return;default:if(Lc(n)){for(var Ue in a)R=a[Ue],a.hasOwnProperty(Ue)&&R!==void 0&&!l.hasOwnProperty(Ue)&&Ed(e,n,Ue,void 0,l,R);for(D in l)R=l[D],j=a[D],!l.hasOwnProperty(D)||R===j||R===void 0&&j===void 0||Ed(e,n,D,R,l,j);return}}for(var N in a)R=a[N],a.hasOwnProperty(N)&&R!=null&&!l.hasOwnProperty(N)&&Le(e,n,N,null,l,R);for(U in l)R=l[U],j=a[U],!l.hasOwnProperty(U)||R===j||R==null&&j==null||Le(e,n,U,R,l,j)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],d=c.transferSize,p=c.initiatorType,v=c.duration;if(d&&v&&n_(p)){for(p=0,v=c.responseEnd,l+=1;l<a.length;l++){var E=a[l],A=E.startTime;if(A>v)break;var D=E.transferSize,U=E.initiatorType;D&&n_(U)&&(E=E.responseEnd,p+=D*(E<v?1:(v-A)/(E-A)))}if(--l,n+=8*(d+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xd=null,Td=null;function ho(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function hE(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(gE)}:a_;function gE(e){setTimeout(function(){throw e})}function ui(e){return e==="head"}function l_(e,n){var a=n,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),ea(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")fr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fr(a);for(var d=a.firstChild;d;){var p=d.nextSibling,v=d.nodeName;d[Oa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&fr(e.ownerDocument.body);a=c}while(a);ea(n)}function o_(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),Ic(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _E(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Oa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function vE(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qt(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yE(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Od=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Qt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,a){switch(n=ho(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ic(e)}var Wt=new Map,h_=new Set;function mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=F.d;F.d={f:bE,r:SE,D:EE,C:xE,L:TE,m:NE,X:wE,S:CE,M:AE};function bE(){var e=Mn.f(),n=so();return e||n}function SE(e){var n=ys(e);n!==null&&n.tag===5&&n.type==="form"?Op(n):Mn.r(e)}var $s=typeof document>"u"?null:document;function m_(e,n,a){var l=$s;if(l&&typeof n=="string"&&n){var c=Gt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),h_.has(c)||(h_.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),mt(n,"link",e),rt(n),l.head.appendChild(n)))}}function EE(e){Mn.D(e),m_("dns-prefetch",e,null)}function xE(e,n){Mn.C(e,n),m_("preconnect",e,n)}function TE(e,n,a){Mn.L(e,n,a);var l=$s;if(l&&e&&n){var c='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Gt(a.imageSizes)+'"]')):c+='[href="'+Gt(e)+'"]';var d=c;switch(n){case"style":d=Zs(e);break;case"script":d=Js(e)}Wt.has(d)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Wt.set(d,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(hr(d))||n==="script"&&l.querySelector(mr(d))||(n=l.createElement("link"),mt(n,"link",e),rt(n),l.head.appendChild(n)))}}function NE(e,n){Mn.m(e,n);var a=$s;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Js(e)}if(!Wt.has(d)&&(e=S({rel:"modulepreload",href:e},n),Wt.set(d,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mr(d)))return}l=a.createElement("link"),mt(l,"link",e),rt(l),a.head.appendChild(l)}}}function CE(e,n,a){Mn.S(e,n,a);var l=$s;if(l&&e){var c=bs(l).hoistableStyles,d=Zs(e);n=n||"default";var p=c.get(d);if(!p){var v={loading:0,preload:null};if(p=l.querySelector(hr(d)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Wt.get(d))&&jd(e,a);var E=p=l.createElement("link");rt(E),mt(E,"link",e),E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,po(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(d,p)}}}function wE(e,n){Mn.X(e,n);var a=$s;if(a&&e){var l=bs(a).hoistableScripts,c=Js(e),d=l.get(c);d||(d=a.querySelector(mr(c)),d||(e=S({src:e,async:!0},n),(n=Wt.get(c))&&Id(e,n),d=a.createElement("script"),rt(d),mt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function AE(e,n){Mn.M(e,n);var a=$s;if(a&&e){var l=bs(a).hoistableScripts,c=Js(e),d=l.get(c);d||(d=a.querySelector(mr(c)),d||(e=S({src:e,async:!0,type:"module"},n),(n=Wt.get(c))&&Id(e,n),d=a.createElement("script"),rt(d),mt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function p_(e,n,a,l){var c=(c=se.current)?mo(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Zs(a.href),a=bs(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Zs(a.href);var d=bs(c).hoistableStyles,p=d.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=c.querySelector(hr(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Wt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wt.set(e,a),d||RE(c,e,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Js(a),a=bs(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Zs(e){return'href="'+Gt(e)+'"'}function hr(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function RE(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mt(n,"link",a),rt(n),e.head.appendChild(n))}function Js(e){return'[src="'+Gt(e)+'"]'}function mr(e){return"script[async]"+e}function __(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(l)return n.instance=l,rt(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),mt(l,"style",c),po(l,a.precedence,e),n.instance=l;case"stylesheet":c=Zs(a.href);var d=e.querySelector(hr(c));if(d)return n.state.loading|=4,n.instance=d,rt(d),d;l=g_(a),(c=Wt.get(c))&&jd(l,c),d=(e.ownerDocument||e).createElement("link"),rt(d);var p=d;return p._p=new Promise(function(v,E){p.onload=v,p.onerror=E}),mt(d,"link",l),n.state.loading|=4,po(d,a.precedence,e),n.instance=d;case"script":return d=Js(a.src),(c=e.querySelector(mr(d)))?(n.instance=c,rt(c),c):(l=a,(c=Wt.get(d))&&(l=S({},a),Id(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),rt(c),mt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,po(l,a.precedence,e));return n.instance}function po(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,p=0;p<l.length;p++){var v=l[p];if(v.dataset.precedence===n)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function jd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var go=null;function v_(e,n,a){if(go===null){var l=new Map,c=go=new Map;c.set(a,l)}else c=go,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Oa]||d[ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(n)||"";p=e+p;var v=l.get(p);v?v.push(d):l.set(p,[d])}}return l}function y_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function OE(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jE(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Zs(l.href),d=n.querySelector(hr(c));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_o.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=d,rt(d);return}d=n.ownerDocument||n,l=g_(l),(c=Wt.get(c))&&jd(l,c),d=d.createElement("link"),rt(d);var p=d;p._p=new Promise(function(v,E){p.onload=v,p.onerror=E}),mt(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_o.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function IE(e,n){return e.stylesheets&&e.count===0&&yo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&yo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*fE());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function _o(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vo=null;function yo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vo=new Map,n.forEach(DE,e),vo=null,_o.call(e))}function DE(e,n){if(!(n.state.loading&4)){var a=vo.get(e);if(a)var l=a.get(null);else{a=new Map,vo.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),d=a.get(p)||l,d===l&&a.set(null,c),a.set(p,c),this.count++,l=_o.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var pr={$$typeof:X,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function ME(e,n,a,l,c,d,p,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ac(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.hiddenUpdates=Ac(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function S_(e,n,a,l,c,d,p,v,E,A,D,U){return e=new ME(e,n,a,p,E,A,D,U,v),n=1,d===!0&&(n|=24),d=kt(3,null,null,n),e.current=d,d.stateNode=e,n=fu(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},gu(d),e}function E_(e){return e?(e=Os,e):Os}function x_(e,n,a,l,c,d){c=E_(c),l.context===null?l.context=c:l.pendingContext=c,l=Jn(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ei(e,l,n),a!==null&&(Rt(a,e,n),Xa(a,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Md(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=zi(e,67108864);n!==null&&Rt(n,e,67108864),Md(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=Bt();n=Rc(n);var a=zi(e,n);a!==null&&Rt(a,e,n),Md(e,n)}}var bo=!0;function kE(e,n,a,l){var c=O.T;O.T=null;var d=F.p;try{F.p=2,kd(e,n,a,l)}finally{F.p=d,O.T=c}}function LE(e,n,a,l){var c=O.T;O.T=null;var d=F.p;try{F.p=8,kd(e,n,a,l)}finally{F.p=d,O.T=c}}function kd(e,n,a,l){if(bo){var c=Ld(l);if(c===null)Sd(e,n,l,So,a),A_(e,l);else if(zE(c,e,n,a,l))l.stopPropagation();else if(A_(e,l),n&4&&-1<UE.indexOf(e)){for(;c!==null;){var d=ys(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Di(d.pendingLanes);if(p!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var E=1<<31-Dt(p);v.entanglements[1]|=E,p&=~E}hn(d),(je&6)===0&&(no=jt()+500,cr(0))}}break;case 31:case 13:v=zi(d,2),v!==null&&Rt(v,d,2),so(),Md(d,2)}if(d=Ld(l),d===null&&Sd(e,n,l,So,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else Sd(e,n,l,null,a)}}function Ld(e){return e=zc(e),Ud(e)}var So=null;function Ud(e){if(So=null,e=vs(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return So=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eb()){case kh:return 2;case Lh:return 8;case cl:case xb:return 32;case Uh:return 268435456;default:return 32}default:return 32}}var zd=!1,di=null,fi=null,hi=null,gr=new Map,_r=new Map,mi=[],UE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,n){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":gr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(n.pointerId)}}function vr(e,n,a,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=ys(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function zE(e,n,a,l,c){switch(n){case"focusin":return di=vr(di,e,n,a,l,c),!0;case"dragenter":return fi=vr(fi,e,n,a,l,c),!0;case"mouseover":return hi=vr(hi,e,n,a,l,c),!0;case"pointerover":var d=c.pointerId;return gr.set(d,vr(gr.get(d)||null,e,n,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,_r.set(d,vr(_r.get(d)||null,e,n,a,l,c)),!0}return!1}function R_(e){var n=vs(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Fh(e.priority,function(){C_(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,Fh(e.priority,function(){C_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Uc=l,a.target.dispatchEvent(l),Uc=null}else return n=ys(a),n!==null&&N_(n),e.blockedOn=a,!1;n.shift()}return!0}function O_(e,n,a){Eo(e)&&a.delete(n)}function PE(){zd=!1,di!==null&&Eo(di)&&(di=null),fi!==null&&Eo(fi)&&(fi=null),hi!==null&&Eo(hi)&&(hi=null),gr.forEach(O_),_r.forEach(O_)}function xo(e,n){e.blockedOn===n&&(e.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PE)))}var To=null;function j_(e){To!==e&&(To=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===e&&(To=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Ud(l||a)===null)continue;break}var d=ys(a);d!==null&&(e.splice(n,3),n-=3,Lu(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ea(e){function n(E){return xo(E,e)}di!==null&&xo(di,e),fi!==null&&xo(fi,e),hi!==null&&xo(hi,e),gr.forEach(n),_r.forEach(n);for(var a=0;a<mi.length;a++){var l=mi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<mi.length&&(a=mi[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&mi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],p=c[xt]||null;if(typeof d=="function")p||j_(a);else if(p){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[xt]||null)v=p.formAction;else if(Ud(c)!==null)continue}else v=p.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),j_(a)}}}function I_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Pd(e){this._internalRoot=e}No.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Bt();x_(a,l,e,n,null,null)},No.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),so(),n[_s]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<mi.length&&n!==0&&n<mi[a].priority;a++);mi.splice(a,0,e),a===0&&R_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(r(527,D_,"19.2.4"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var BE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{wa=Co.inject(BE),It=Co}catch{}}return br.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=Bp,d=Hp,p=Gp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=S_(e,1,!1,null,null,a,l,null,c,d,p,I_),e[_s]=n.current,bd(e),new Pd(n)},br.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",d=Bp,p=Hp,v=Gp,E=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),n=S_(e,1,!0,n,a??null,l,c,E,d,p,v,I_),n.context=E_(null),a=n.current,l=Bt(),l=Rc(l),c=Jn(l),c.callback=null,ei(a,c,l),a=l,n.current.lanes=a,Ra(n,a),hn(n),e[_s]=n.current,bd(e),new No(n)},br.version="19.2.4",br}var F_;function WE(){if(F_)return Gd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=QE(),Gd.exports}var $E=WE();function es(s,t=[],i=null){const[r,o]=$.useState(null),[u,h]=$.useState(!0),[m,g]=$.useState(null),_=$.useCallback(async()=>{try{h(!0),g(null);const b=await s();o(b)}catch(b){g(b.message||"Failed to fetch data")}finally{h(!1)}},[s,...t]);return $.useEffect(()=>{_()},[_]),$.useEffect(()=>{if(!i)return;const b=setInterval(_,i);return()=>clearInterval(b)},[_,i]),{data:r,loading:u,error:m,reload:_}}const ZE="https://fantasy.premierleague.com/api";let Yr=5398119;function Yd(s){Yr=Number(s)}function JE(){return Yr}let wo=null,Ao=null;const Ro={},q_=[s=>`https://corsproxy.io/?url=${encodeURIComponent(s)}`,s=>`https://api.allorigins.win/raw?url=${encodeURIComponent(s)}`,s=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(s)}`,s=>`https://thingproxy.freeboard.io/fetch/${s}`];async function Xd(s,t=8e3){const i=new AbortController,r=setTimeout(()=>i.abort(),t);try{const o=await fetch(s,{signal:i.signal});return clearTimeout(r),o}catch(o){throw clearTimeout(r),o}}async function fs(s){try{const h=await Xd(`/api/fpl-proxy?path=${encodeURIComponent(s)}`);if(h.ok)return await h.json()}catch{}const t={"bootstrap-static/":"bootstrap.json","fixtures/":"fixtures.json"},i=s.match(/^event\/(\d+)\/live\/$/),r=t[s]||(i?`live/gw${i[1]}.json`:null);if(r)try{const m=await Xd(`/FF2026/data/${r}`,3e3);if(m.ok){const g=await m.json();if(g&&(Array.isArray(g)?g.length>0:Object.keys(g).length>0))return g}}catch{}const o=`${ZE}/${s}`;let u;for(let h=0;h<q_.length;h++)try{const m=q_[h](o),g=await Xd(m);if(!g.ok)throw new Error(`FPL API error (${g.status})`);return await g.json()}catch(m){u=m}throw new Error(`Unable to reach the FPL API. All proxy methods failed. Last error: ${u?.message||"Unknown"}. Try refreshing or running the app locally with "npm run dev".`)}async function hs(){return wo||(wo=fs("bootstrap-static/").catch(s=>{throw wo=null,s})),wo}async function Mf(){return fs(`entry/${Yr}/`)}async function kf(){return fs(`entry/${Yr}/history/`)}async function Lf(s){return fs(`entry/${Yr}/event/${s}/picks/`)}async function Xr(){return Ao||(Ao=fs("fixtures/").catch(s=>{throw Ao=null,s})),Ao}async function Uf(s){return Ro[s]||(Ro[s]=fs(`event/${s}/live/`).catch(t=>{throw delete Ro[s],t})),Ro[s]}async function e1(s){return fs(`leagues-classic/${s}/standings/`)}const V_={ATK:{form:.18,ppg:.14,ict:.18,fdr:.14,homeAway:.1,teamStr:.12,availability:.09,bonus:.05},DEF:{form:.2,ppg:.16,ict:.1,fdr:.16,homeAway:.1,teamStr:.14,availability:.09,bonus:.05}};function t1(s){return s==="GKP"||s==="DEF"?V_.DEF:V_.ATK}function is(s,t,i){return Math.max(t,Math.min(i,s))}function Y_(s){return is(s/50,0,10)}function n1(s){return is((5-s)*2.5,0,10)}function i1(s){return s==null||s===""?10:is(s/10,0,10)}function s1(s,t){if(!t||t<=0)return 5;const i=s/t;return is(i*3.3,0,10)}function a1(s,t,i){if(!s)return 5;const r=t==="GKP"||t==="DEF";let o;return r?o=i?s.strength_defence_home:s.strength_defence_away:o=i?s.strength_attack_home:s.strength_attack_away,o?is((o-900)/60,0,10):5}function r1(s){return s?7.5:4.5}function l1(s){return s>=7?"In great form":s>=5?"Decent form":s>=3?"Average form":"Poor form"}function o1(s,t){const i=t||"";return s<=2?`Easy fixture ${i}`:s<=3?`Medium fixture ${i}`:`Tough fixture ${i}`}function c1(s){return s>=7?"High attacking threat":s>=4?"Moderate involvement":"Low attacking involvement"}function u1(s){return s==null||s===""||s>=100?"Fully available":s>=75?"Likely to play":s>=50?"Fitness doubt":s>=25?"Unlikely to play":"Expected to miss"}function zo(s,t,i){const r=t1(s.position),o=t?.opponent?.includes("(H)")??!1,u=i?.[s.teamId]||null,h=s.appearances||(s.minutes?Math.round(s.minutes/70):0),m=[{name:"form",value:s.form||0,norm:is(s.form||0,0,10),weight:r.form,label:l1(s.form||0)},{name:"ppg",value:s.pointsPerGame||0,norm:is((s.pointsPerGame||0)*2,0,10),weight:r.ppg,label:`${(s.pointsPerGame||0).toFixed(1)} pts/game average`},{name:"ict",value:s.ictIndex||0,norm:Y_(s.ictIndex||0),weight:r.ict,label:c1(Y_(s.ictIndex||0))},{name:"fdr",value:t?.difficulty||3,norm:n1(t?.difficulty||3),weight:r.fdr,label:o1(t?.difficulty||3,t?.opponent)},{name:"homeAway",value:o?1:0,norm:r1(o),weight:r.homeAway,label:o?"Home advantage":"Away match"},{name:"teamStr",value:0,norm:a1(u,s.position,o),weight:r.teamStr,label:`Team ${s.position==="GKP"||s.position==="DEF"?"defence":"attack"} strength`},{name:"availability",value:s.chanceOfPlaying??100,norm:i1(s.chanceOfPlaying),weight:r.availability,label:u1(s.chanceOfPlaying)},{name:"bonus",value:s.bonus||0,norm:s1(s.bonus||0,h),weight:r.bonus,label:`${((s.bonus||0)/Math.max(h,1)).toFixed(1)} bonus/game`}];let g=0;for(const S of m)S.impact=+(S.norm*S.weight).toFixed(2),g+=S.impact;const _=+(g*.85).toFixed(1),b=m.filter(S=>S.impact>.5).sort((S,y)=>y.impact-S.impact).slice(0,3).map(S=>S.label);return{xpts:_,factors:m,topReasons:b}}function ss(s,t,i,r=3){const o=(t||[]).slice(0,r);if(o.length===0){const b=zo(s,{difficulty:3,opponent:"TBD"},i);return{totalXpts:+(b.xpts*r).toFixed(1),perGw:Array(r).fill(b),avgXpts:b.xpts,topReasons:b.topReasons}}const u=o.map(b=>zo(s,b,i)),h=+u.reduce((b,S)=>b+S.xpts,0).toFixed(1),m=+(h/u.length).toFixed(1),g={};for(const b of u)for(const S of b.topReasons)g[S]=(g[S]||0)+1;const _=Object.entries(g).sort((b,S)=>S[1]-b[1]).slice(0,3).map(([b])=>b);return{totalXpts:h,perGw:u,avgXpts:m,topReasons:_}}function ly(s,t){const i=s.map(r=>{const{totalXpts:o,avgXpts:u,topReasons:h}=ss(r,r.upcomingFixtures,t,3);return{...r,xpts:u,totalXpts3:o,topReasons:h}});return i.sort((r,o)=>o.xpts-r.xpts),{ranked:i,captain:i[0]||null,viceCaptain:i[1]||null}}function X_(s,t,i=3){return s.map(r=>{const{totalXpts:o,avgXpts:u,topReasons:h}=ss(r,r.upcomingFixtures,t,i);return{...r,xpts:u,totalXpts:o,topReasons:h}}).sort((r,o)=>o.xpts-r.xpts)}function va(s){const t={};for(const m of s.teams)t[m.id]=m;const i={};for(const m of s.element_types)i[m.id]=m.singular_name_short;const r={};for(const m of s.elements)r[m.id]=m;const o={};for(const m of s.events)o[m.id]=m;const u=s.events.find(m=>m.is_current),h=s.events.find(m=>m.is_next);return{teams:t,positionMap:i,players:r,events:o,currentEvent:u,nextEvent:h}}function zf(s,t,i){const r={},o=s.filter(u=>u.event&&u.event>i&&!u.finished).sort((u,h)=>u.event-h.event);for(const u of o)r[u.team_h]||(r[u.team_h]=[]),r[u.team_h].length<5&&r[u.team_h].push({gw:u.event,opponent:`${t[u.team_a]?.short_name||"?"} (H)`,difficulty:u.team_h_difficulty}),r[u.team_a]||(r[u.team_a]=[]),r[u.team_a].length<5&&r[u.team_a].push({gw:u.event,opponent:`${t[u.team_h]?.short_name||"?"} (A)`,difficulty:u.team_a_difficulty});return r}function d1(s){let t=1;const i=new Set(s.chips.map(r=>r.event));for(const r of s.current){if(i.has(r.event)){t=Math.min(t+1,5);continue}r.event_transfers===0?t=Math.min(t+1,5):r.event_transfers_cost>0?t=1:t=Math.max(1,Math.min(t-r.event_transfers+1,5))}return t}async function f1(){const[s,t,i,r]=await Promise.all([hs(),Mf(),Xr(),kf()]),{teams:o,positionMap:u,players:h,currentEvent:m}=va(s),g=m?.id||t.current_event,[_,b]=await Promise.all([Lf(g),Uf(g)]),S={};for(const Q of b.elements)S[Q.id]=Q.stats.total_points;const y=zf(i,o,g);function C(Q){const V=h[Q.element],me=o[V.team],be=y[V.team]||[],fe=be[0],he=parseFloat(V.form)||0;return{id:V.id,name:V.web_name,position:u[V.element_type],club:me?.name||"Unknown",clubShort:me?.short_name||"???",teamId:V.team,price:V.now_cost/10,totalPoints:V.total_points,gameweekPoints:S[V.id]??V.event_points??0,form:he,upcomingFixtures:be.slice(0,5),upcomingFixture:fe?fe.opponent:"TBD",fixtureDifficulty:fe?fe.difficulty:3,isCaptain:Q.is_captain,isViceCaptain:Q.is_vice_captain,benchOrder:Q.position>11?Q.position-11:0,ictIndex:parseFloat(V.ict_index)||0,pointsPerGame:parseFloat(V.points_per_game)||0,chanceOfPlaying:V.chance_of_playing_next_round,bonus:V.bonus||0,minutes:V.minutes||0}}const I=_.picks.filter(Q=>Q.position<=11).map(C),P=_.picks.filter(Q=>Q.position>11).sort((Q,V)=>Q.position-V.position).map(C),B=_.picks.find(Q=>Q.is_captain),Y=(B&&S[B.element]||0)*(B?.multiplier||2),X=new Set(r.chips.map(Q=>Q.name)),z=_.entry_history,K={totalPoints:z.total_points,teamValue:z.value/10,moneyInBank:z.bank/10,overallRank:z.overall_rank||t.summary_overall_rank||0,gameweekRank:z.rank||0,currentGameweek:g,gameweekPoints:z.points,captainPoints:Y,averagePoints:m?.average_entry_score||0,highestPoints:m?.highest_score||0,transfers:{made:z.event_transfers,cost:z.event_transfers_cost,available:d1(r)},chips:{wildcard:!X.has("wildcard"),benchBoost:!X.has("bboost"),tripleCaptain:!X.has("3xc"),freeHit:!X.has("freehit")}};return{players:I,bench:P,summary:K,teams:o}}async function h1(){const[s,t]=await Promise.all([hs(),kf()]),{events:i}=va(s);return t.current.slice(-7).map(o=>({gw:o.event,points:o.points,average:i[o.event]?.average_entry_score||0,rank:o.overall_rank}))}async function m1(){const[s,t]=await Promise.all([hs(),Xr()]),{currentEvent:i}=va(s),r=i?.id||1,o=s.events.filter(m=>m.id>r).slice(0,5);if(o.length===0)return[{gw:r+1,projected:50,difficulty:"Medium"}];const u=s.events.filter(m=>m.finished),h=u.length>0?Math.round(u.reduce((m,g)=>m+(g.average_entry_score||0),0)/u.length):50;return o.map(m=>{const g=t.filter(C=>C.event===m.id),_=g.length>0?g.reduce((C,I)=>C+I.team_h_difficulty+I.team_a_difficulty,0)/(g.length*2):3,b=_<2.5?"Easy":_>3.5?"Hard":"Medium",S=_<3?1.1:_>3?.9:1,y=Math.round(h*S);return{gw:m.id,projected:y,difficulty:b}})}async function p1(){const[s,t,i]=await Promise.all([hs(),Mf(),Xr()]),{teams:r,positionMap:o,currentEvent:u}=va(s),h=u?.id||t.current_event,m=await Lf(h),g=new Set(m.picks.map(y=>y.element)),_=zf(i,r,h);return{candidates:s.elements.filter(y=>!g.has(y.id)&&y.minutes>0&&y.status==="a").sort((y,C)=>parseFloat(C.form)-parseFloat(y.form)).slice(0,150).map(y=>{const C=r[y.team],I=parseFloat(y.form)||0,P=_[y.team]||[];return{id:y.id,name:y.web_name,position:o[y.element_type],club:C?.name||"Unknown",clubShort:C?.short_name||"???",teamId:y.team,price:y.now_cost/10,totalPoints:y.total_points,form:I,selectedByPercent:parseFloat(y.selected_by_percent)||0,upcomingFixtures:P.slice(0,5),expectedPoints:P.slice(0,5).map(B=>Math.max(1,Math.round(I+(3-B.difficulty)*.8))),ictIndex:parseFloat(y.ict_index)||0,pointsPerGame:parseFloat(y.points_per_game)||0,chanceOfPlaying:y.chance_of_playing_next_round,bonus:y.bonus||0,minutes:y.minutes||0}}),teams:r}}async function g1(){const t=(await Mf()).leagues?.classic||[],i=t.find(o=>o.league_type==="x")||t.find(o=>o.max_entries&&o.max_entries<1e3)||t[0];if(!i)return{name:"No League Found",myPosition:0,totalMembers:0,standings:[]};const r=await e1(i.id);return{name:r.league.name,myPosition:i.entry_rank||0,totalMembers:i.entry_count||r.standings.results.length,standings:r.standings.results.slice(0,10).map((o,u)=>({rank:o.rank||u+1,name:o.entry_name,manager:o.entry===JE()?"You":o.player_name,points:o.total}))}}async function _1(){const[s,t]=await Promise.all([hs(),Xr()]),{teams:i,positionMap:r,currentEvent:o}=va(s),u=o?.id||1,h=t.filter(y=>y.event&&y.event>u&&!y.finished).sort((y,C)=>y.event-C.event||y.kickoff_time?.localeCompare(C.kickoff_time||"")),m=[...new Set(h.map(y=>y.event))].slice(0,5),g={};for(const y of s.events)g[y.id]=y.deadline_time;const _={};for(const y of h)_[y.team_h]||(_[y.team_h]={}),_[y.team_h][y.event]={difficulty:y.team_h_difficulty,opponent:`${i[y.team_a]?.short_name||"?"} (H)`},_[y.team_a]||(_[y.team_a]={}),_[y.team_a][y.event]={difficulty:y.team_a_difficulty,opponent:`${i[y.team_h]?.short_name||"?"} (A)`};const b=s.elements.filter(y=>y.minutes>0&&y.status==="a"&&parseFloat(y.form)>0);function S(y){const C=b.filter(B=>_[B.team]?.[y]).map(B=>{const Z=_[B.team][y],Y=parseFloat(B.form)||0,X=Y+(3-Z.difficulty)*1.2;return{id:B.id,name:B.web_name,position:r[B.element_type],club:i[B.team]?.short_name||"???",price:B.now_cost/10,form:Y,totalPoints:B.total_points,opponent:Z.opponent,difficulty:Z.difficulty,score:X}}).sort((B,Z)=>Z.score-B.score),I=[],P={};for(const B of C){const Z=P[B.position]||0;if(Z<2&&(I.push(B),P[B.position]=Z+1),I.length>=8)break}return I}return m.map(y=>({gw:y,deadline:g[y]||null,matches:h.filter(C=>C.event===y).map(C=>({id:C.id,kickoff:C.kickoff_time,homeTeam:i[C.team_h]?.name||"TBD",homeShort:i[C.team_h]?.short_name||"?",awayTeam:i[C.team_a]?.name||"TBD",awayShort:i[C.team_a]?.short_name||"?",homeDifficulty:C.team_h_difficulty,awayDifficulty:C.team_a_difficulty})),picks:S(y)}))}async function v1(){const[s,t,i]=await Promise.all([hs(),kf(),Xr()]),{teams:r,positionMap:o,players:u,currentEvent:h}=va(s),m=t.current.filter(Y=>Y.event_transfers>0);if(m.length===0)return{transfers:[],teams:r};const g=h?.id||t.current[t.current.length-1]?.event||1,_=zf(i,r,g),b=t.current.map(Y=>Y.event),S={},y=5;for(let Y=0;Y<b.length;Y+=y){const X=b.slice(Y,Y+y),z=await Promise.all(X.map(K=>Lf(K).catch(()=>null)));X.forEach((K,Q)=>{z[Q]&&(S[K]=z[Q])})}const C=[];for(const Y of m){const X=Y.event,z=b[b.indexOf(X)-1];if(!z||!S[z]||!S[X])continue;const K=new Set(S[z].picks.map(fe=>fe.element)),Q=new Set(S[X].picks.map(fe=>fe.element)),V=[...Q].filter(fe=>!K.has(fe)),me=[...K].filter(fe=>!Q.has(fe)),be=Math.min(V.length,me.length);for(let fe=0;fe<be;fe++){const he=u[V[fe]],oe=u[me[fe]];!he||!oe||C.push({gameweek:X,transferCost:Y.event_transfers_cost,playerIn:{id:he.id,name:he.web_name,position:o[he.element_type],club:r[he.team]?.short_name||"???",clubFull:r[he.team]?.name||"Unknown",price:he.now_cost/10,teamId:he.team,form:parseFloat(he.form)||0,ictIndex:parseFloat(he.ict_index)||0,pointsPerGame:parseFloat(he.points_per_game)||0,chanceOfPlaying:he.chance_of_playing_next_round,bonus:he.bonus||0,minutes:he.minutes||0,upcomingFixtures:(_[he.team]||[]).slice(0,5)},playerOut:{id:oe.id,name:oe.web_name,position:o[oe.element_type],club:r[oe.team]?.short_name||"???",clubFull:r[oe.team]?.name||"Unknown",price:oe.now_cost/10,teamId:oe.team,form:parseFloat(oe.form)||0,ictIndex:parseFloat(oe.ict_index)||0,pointsPerGame:parseFloat(oe.points_per_game)||0,chanceOfPlaying:oe.chance_of_playing_next_round,bonus:oe.bonus||0,minutes:oe.minutes||0,upcomingFixtures:(_[oe.team]||[]).slice(0,5)}})}}const I=Math.max(...b),P=new Set;for(const Y of C)for(let X=Y.gameweek;X<=I;X++)P.add(X);const B={},Z=[...P].sort((Y,X)=>Y-X);for(let Y=0;Y<Z.length;Y+=y){const X=Z.slice(Y,Y+y),z=await Promise.all(X.map(K=>Uf(K).catch(()=>null)));X.forEach((K,Q)=>{B[K]=z[Q]})}for(const Y of C){let X=0,z=0;const K=[];for(let Q=Y.gameweek;Q<=I;Q++){const V=B[Q];if(!V)continue;const me=V.elements.find(oe=>oe.id===Y.playerIn.id),be=V.elements.find(oe=>oe.id===Y.playerOut.id),fe=me?.stats?.total_points||0,he=be?.stats?.total_points||0;X+=fe,z+=he,K.push({gw:Q,inPts:fe,outPts:he,diff:fe-he})}Y.playerIn.pointsSinceTransfer=X,Y.playerOut.pointsSinceTransfer=z,Y.netGain=X-z,Y.gwBreakdown=K,Y.gameweeksCompared=K.length}return C.sort((Y,X)=>X.gameweek-Y.gameweek),{transfers:C,teams:r}}function y1(s,t,i,r){const o=ss(s,s.upcomingFixtures,r,i),u=ss(t,t.upcomingFixtures,r,i),h=o.totalXpts,m=u.totalXpts,g=+(m-h).toFixed(1),_=(t.form||0)-(s.form||0),b=(t.price||0)-(s.price||0),S=t.upcomingFixtures?.length?t.upcomingFixtures.slice(0,i).reduce((X,z)=>X+z.difficulty,0)/i:3,C=(s.upcomingFixtures?.length?s.upcomingFixtures.slice(0,i).reduce((X,z)=>X+z.difficulty,0)/i:3)-S;let I;Math.abs(g)<=2&&Math.abs(_)<1?I="Low":Math.abs(g)>5||S>3.5?I="High":I="Medium";let P;g>3&&_>=0?P="Strong Buy":g<-2||_<-1.5?P="Avoid":P="Neutral";const B=u.topReasons,Z=o.topReasons,Y={"Strong Buy":`${t.name} (${m} xPts) is projected to outscore ${s.name} (${h} xPts) over ${i} GW${i>1?"s":""}. Key factors: ${B.join(", ").toLowerCase()}.`,Neutral:`Sideways move. ${t.name} (${m} xPts) vs ${s.name} (${h} xPts) over ${i} GW${i>1?"s":""}. Consider saving the transfer.`,Avoid:`${s.name} (${h} xPts) is the better option. Key: ${Z.join(", ").toLowerCase()}.`};return{pointsDiff:g,formDiff:_.toFixed(1),priceDiff:b.toFixed(1),fixtureDiff:C.toFixed(1),riskLevel:I,recommendation:P,explanation:Y[P],outProjected:h,inProjected:m,outReasons:Z,inReasons:B,avgInDifficulty:S.toFixed(1)}}function Kr({message:s="Loading..."}){return f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:s})]})}function Qr({message:s,onRetry:t}){return f.jsxs("div",{className:"error-container",children:[f.jsx("div",{className:"error-icon",children:"!"}),f.jsx("p",{children:s}),t&&f.jsx("button",{className:"btn btn-primary",onClick:t,children:"Try Again"})]})}const K_={GKP:0,DEF:1,MID:2,FWD:3};function b1({player:s,isExpanded:t,onToggle:i}){const r=s.form>=7?"positive":s.form<=4?"negative":"",o=s.upcomingFixtures||[];return f.jsxs("div",{className:`player-card ${t?"expanded":""}`,onClick:i,children:[f.jsxs("div",{className:"player-card-header",children:[f.jsx("span",{className:`position-badge position-${s.position}`,children:s.position}),f.jsx("span",{className:"player-club",children:s.clubShort}),s.isCaptain&&f.jsx("span",{className:"badge captain",children:"C"}),s.isViceCaptain&&f.jsx("span",{className:"badge vice-captain",children:"V"})]}),f.jsx("div",{className:"player-name",children:s.name}),f.jsx("div",{className:"player-club-full",children:s.club}),f.jsxs("div",{className:"player-stats",children:[f.jsxs("div",{className:"stat",children:[f.jsx("span",{className:"stat-label",children:"Price"}),f.jsxs("span",{className:"stat-value",children:["",s.price,"m"]})]}),f.jsxs("div",{className:"stat",children:[f.jsx("span",{className:"stat-label",children:"Points"}),f.jsx("span",{className:"stat-value",children:s.totalPoints})]}),f.jsxs("div",{className:"stat",children:[f.jsx("span",{className:"stat-label",children:"Form"}),f.jsx("span",{className:`stat-value ${r}`,children:s.form})]}),f.jsxs("div",{className:"stat",children:[f.jsx("span",{className:"stat-label",children:"GW Pts"}),f.jsx("span",{className:"stat-value highlight",children:s.gameweekPoints})]})]}),f.jsxs("div",{className:"player-fixture",children:[f.jsx("span",{className:"fixture-label",children:"Next:"}),f.jsx("span",{className:`fixture-value fdr-${s.fixtureDifficulty}`,children:s.upcomingFixture}),f.jsx("span",{className:`expand-arrow ${t?"open":""}`,children:f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),t&&f.jsxs("div",{className:"player-expanded",onClick:u=>u.stopPropagation(),children:[o.length>0&&f.jsxs("div",{className:"expanded-fixtures",children:[f.jsx("div",{className:"expanded-section-title",children:"Upcoming Fixtures"}),f.jsx("div",{className:"expanded-fixture-list",children:o.map(u=>f.jsxs("div",{className:"expanded-fixture-row",children:[f.jsxs("span",{className:"ef-gw",children:["GW",u.gw]}),f.jsx("span",{className:`ef-opponent fdr-${u.difficulty}`,children:u.opponent}),f.jsx("span",{className:"ef-diff-dots",children:[1,2,3,4,5].map(h=>f.jsx("span",{className:`ef-dot ${h<=u.difficulty?"filled":""}`},h))})]},u.gw))})]}),f.jsxs("div",{className:"expanded-stats",children:[f.jsx("div",{className:"expanded-section-title",children:"Season Stats"}),f.jsxs("div",{className:"expanded-stats-grid",children:[f.jsxs("div",{className:"es-item",children:[f.jsx("span",{className:"es-value",children:s.totalPoints}),f.jsx("span",{className:"es-label",children:"Total Pts"})]}),f.jsxs("div",{className:"es-item",children:[f.jsx("span",{className:"es-value",children:s.gameweekPoints}),f.jsx("span",{className:"es-label",children:"GW Pts"})]}),f.jsxs("div",{className:"es-item",children:[f.jsx("span",{className:`es-value ${r}`,children:s.form}),f.jsx("span",{className:"es-label",children:"Form"})]}),f.jsxs("div",{className:"es-item",children:[f.jsxs("span",{className:"es-value",children:["",s.price,"m"]}),f.jsx("span",{className:"es-label",children:"Price"})]})]})]})]})]})}function S1({summary:s}){return f.jsxs("div",{className:"team-summary",children:[f.jsxs("h3",{children:["Team Summary  GW",s.currentGameweek]}),f.jsxs("div",{className:"summary-grid",children:[f.jsxs("div",{className:"summary-item featured",children:[f.jsx("span",{className:"summary-value",children:s.gameweekPoints}),f.jsx("span",{className:"summary-label",children:"GW Points"})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-value",children:s.totalPoints}),f.jsx("span",{className:"summary-label",children:"Total Points"})]}),f.jsxs("div",{className:"summary-item",children:[f.jsxs("span",{className:"summary-value",children:["",s.teamValue,"m"]}),f.jsx("span",{className:"summary-label",children:"Team Value"})]}),f.jsxs("div",{className:"summary-item",children:[f.jsxs("span",{className:"summary-value",children:["",s.moneyInBank,"m"]}),f.jsx("span",{className:"summary-label",children:"In Bank"})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-value",children:s.overallRank.toLocaleString()}),f.jsx("span",{className:"summary-label",children:"Overall Rank"})]}),f.jsxs("div",{className:"summary-item",children:[f.jsx("span",{className:"summary-value",children:s.transfers.available}),f.jsx("span",{className:"summary-label",children:"Free Transfers"})]})]}),f.jsxs("div",{className:"chips-section",children:[f.jsx("span",{className:"chips-label",children:"Chips Available:"}),f.jsxs("div",{className:"chips-list",children:[s.chips.wildcard&&f.jsx("span",{className:"chip available",children:"Wildcard"}),s.chips.benchBoost&&f.jsx("span",{className:"chip available",children:"Bench Boost"}),s.chips.tripleCaptain&&f.jsx("span",{className:"chip available",children:"Triple Captain"}),s.chips.freeHit&&f.jsx("span",{className:"chip available",children:"Free Hit"}),!s.chips.tripleCaptain&&f.jsx("span",{className:"chip used",children:"Triple Captain"})]})]})]})}function E1({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const[o,u]=$.useState(null);if(t)return f.jsx(Kr,{message:"Loading your team..."});if(i)return f.jsx(Qr,{message:i,onRetry:r});const{players:h,summary:m}=s,g=[...h].sort((_,b)=>K_[_.position]-K_[b.position]);return f.jsxs("div",{className:"my-team",children:[f.jsx(S1,{summary:m}),f.jsxs("div",{className:"players-section",children:[f.jsx("h3",{children:"Your Squad"}),f.jsx("div",{className:"players-grid",children:g.map(_=>f.jsx(b1,{player:_,isExpanded:o===_.id,onToggle:()=>u(o===_.id?null:_.id)},_.id))})]})]})}function x1({data:s,maxValue:t,labelKey:i,valueKey:r,compareKey:o}){return f.jsx("div",{className:"bar-chart",children:s.map((u,h)=>f.jsxs("div",{className:"bar-group",children:[f.jsxs("div",{className:"bar-container",children:[o&&f.jsx("div",{className:"bar bar-compare",style:{height:`${u[o]/t*100}%`},title:`Avg: ${u[o]}`}),f.jsx("div",{className:"bar bar-primary",style:{height:`${u[r]/t*100}%`},title:`${u[r]} pts`,children:f.jsx("span",{className:"bar-value",children:u[r]})})]}),f.jsx("span",{className:"bar-label",children:u[i]})]},h))})}function T1({projections:s}){return f.jsxs("div",{className:"projections-table",children:[f.jsxs("div",{className:"table-header",children:[f.jsx("span",{children:"GW"}),f.jsx("span",{children:"Projected"}),f.jsx("span",{children:"Difficulty"})]}),s.map(t=>f.jsxs("div",{className:"table-row",children:[f.jsxs("span",{children:["GW",t.gw]}),f.jsx("span",{className:"projected-value",children:t.projected}),f.jsx("span",{className:`difficulty difficulty-${t.difficulty.toLowerCase()}`,children:t.difficulty})]},t.gw))]})}function N1({league:s}){return f.jsxs("div",{className:"league-standings",children:[f.jsxs("div",{className:"table-header league-header",children:[f.jsx("span",{children:"#"}),f.jsx("span",{children:"Team"}),f.jsx("span",{children:"Pts"})]}),s.standings.map(t=>f.jsxs("div",{className:`table-row league-row ${t.manager==="You"?"my-row":""}`,children:[f.jsx("span",{className:"rank",children:t.rank}),f.jsxs("span",{className:"team-name",children:[t.name,f.jsx("small",{children:t.manager})]}),f.jsx("span",{className:"league-points",children:t.points})]},t.rank))]})}function C1({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const{data:o,loading:u,error:h,reload:m}=es(h1),{data:g,loading:_,error:b}=es(m1),{data:S,loading:y,error:C}=es(g1),I=u||_||t||y,P=h||b||i||C;if(I)return f.jsx(Kr,{message:"Loading performance data..."});if(P)return f.jsx(Qr,{message:P,onRetry:m});const{summary:B}=s,Z=Math.max(...o.map(K=>Math.max(K.points,K.average)))+10,Y=o.reduce((K,Q)=>K+Q.points,0),X=o.reduce((K,Q)=>K+Q.average,0),z=Y-X;return f.jsxs("div",{className:"points-performance",children:[f.jsxs("div",{className:"metrics-row",children:[f.jsxs("div",{className:"metric-card featured",children:[f.jsx("span",{className:"metric-value",children:B.gameweekPoints}),f.jsxs("span",{className:"metric-label",children:["GW",B.currentGameweek," Points"]})]}),f.jsxs("div",{className:"metric-card",children:[f.jsx("span",{className:"metric-value",children:B.totalPoints}),f.jsx("span",{className:"metric-label",children:"Total Points"})]}),f.jsxs("div",{className:"metric-card",children:[f.jsx("span",{className:"metric-value",children:B.captainPoints}),f.jsx("span",{className:"metric-label",children:"Captain Bonus"})]}),f.jsxs("div",{className:"metric-card",children:[f.jsxs("span",{className:`metric-value ${z>0?"positive":"negative"}`,children:[z>0?"+":"",z]}),f.jsx("span",{className:"metric-label",children:"vs League Avg"})]})]}),f.jsxs("div",{className:"panels-grid",children:[f.jsxs("div",{className:"panel",children:[f.jsx("h3",{children:"Gameweek Trend"}),f.jsxs("div",{className:"chart-legend",children:[f.jsxs("span",{className:"legend-item",children:[f.jsx("span",{className:"legend-dot primary"})," You"]}),f.jsxs("span",{className:"legend-item",children:[f.jsx("span",{className:"legend-dot compare"})," Average"]})]}),f.jsx(x1,{data:o,maxValue:Z,labelKey:"gw",valueKey:"points",compareKey:"average"})]}),f.jsxs("div",{className:"panel",children:[f.jsx("h3",{children:"Upcoming Projections"}),f.jsx(T1,{projections:g})]}),f.jsxs("div",{className:"panel",children:[f.jsx("h3",{children:S.name}),f.jsx(N1,{league:S})]}),f.jsxs("div",{className:"panel",children:[f.jsx("h3",{children:"Rank Progression"}),f.jsx("div",{className:"rank-trend",children:o.map((K,Q)=>{const me=(Q>0?o[Q-1].rank:K.rank)-K.rank;return f.jsxs("div",{className:"rank-item",children:[f.jsxs("span",{className:"rank-gw",children:["GW",K.gw]}),f.jsx("span",{className:"rank-number",children:K.rank.toLocaleString()}),f.jsx("span",{className:`rank-change ${me>0?"positive":me<0?"negative":""}`,children:me>0?`+${me.toLocaleString()}`:me<0?me.toLocaleString():"-"})]},K.gw)})})]})]})]})}const w1=["All","GKP","DEF","MID","FWD"],A1=[{value:"xpts",label:"xPts"},{value:"form",label:"Form"},{value:"totalPoints",label:"Total Pts"},{value:"price-asc",label:"Price (low)"},{value:"price-desc",label:"Price (high)"},{value:"selectedByPercent",label:"Ownership %"}];function Q_({label:s,players:t,selected:i,onChange:r,disabledId:o}){return f.jsxs("div",{className:"selector",children:[f.jsx("label",{children:s}),f.jsxs("select",{value:i||"",onChange:u=>r(Number(u.target.value)||null),children:[f.jsx("option",{value:"",children:"Select a player..."}),t.filter(u=>u.id!==o).map(u=>f.jsxs("option",{value:u.id,children:[u.name," (",u.position,") - ",u.clubShort," - ",u.price,"m"]},u.id))]})]})}function W_({player:s,label:t,teams:i}){const r=$.useMemo(()=>s?ss(s,s.upcomingFixtures,i,3):null,[s,i]);if(!s)return null;const o=s.upcomingFixtures?.[0];return f.jsxs("div",{className:"player-stat-card",children:[f.jsxs("div",{className:"stat-card-header",children:[f.jsx("span",{className:"stat-card-label",children:t}),f.jsx("span",{className:`position-badge position-${s.position}`,children:s.position})]}),f.jsx("div",{className:"stat-card-name",children:s.name}),f.jsx("div",{className:"stat-card-club",children:s.club}),f.jsxs("div",{className:"stat-card-stats",children:[f.jsxs("div",{className:"stat-card-item",children:[f.jsx("span",{className:"sc-value",children:s.totalPoints}),f.jsx("span",{className:"sc-label",children:"Pts"})]}),f.jsxs("div",{className:"stat-card-item",children:[f.jsx("span",{className:"sc-value",children:s.form}),f.jsx("span",{className:"sc-label",children:"Form"})]}),f.jsxs("div",{className:"stat-card-item",children:[f.jsxs("span",{className:"sc-value",children:["",s.price,"m"]}),f.jsx("span",{className:"sc-label",children:"Price"})]}),f.jsxs("div",{className:"stat-card-item",children:[r?f.jsx("span",{className:"sc-value trade-xpts-value",children:r.avgXpts}):f.jsx("span",{className:"sc-value",children:"-"}),f.jsx("span",{className:"sc-label",children:"xPts"})]}),f.jsxs("div",{className:"stat-card-item",children:[o?f.jsx("span",{className:`sc-value fixture-badge fdr-${o.difficulty}`,children:o.opponent}):f.jsx("span",{className:"sc-value",children:"-"}),f.jsx("span",{className:"sc-label",children:"Next"})]})]}),r?.topReasons?.length>0&&f.jsx("div",{className:"trade-xpts-reasons",children:r.topReasons.map((u,h)=>f.jsx("span",{className:"trade-reason-chip",children:u},h))})]})}function R1({playerOut:s,playerIn:t,gameweeks:i}){const r=s.upcomingFixtures?.slice(0,i)||[],o=t.upcomingFixtures?.slice(0,i)||[],u=[...new Set([...r.map(g=>g.gw),...o.map(g=>g.gw)])].sort((g,_)=>g-_),h=Object.fromEntries(r.map(g=>[g.gw,g])),m=Object.fromEntries(o.map(g=>[g.gw,g]));return f.jsxs("div",{className:"fixture-comparison",children:[f.jsx("h4",{children:"Fixture Comparison"}),f.jsxs("div",{className:"fixture-table",children:[f.jsxs("div",{className:"fixture-row header three-col",children:[f.jsx("span",{children:s.name}),f.jsx("span",{children:"GW"}),f.jsx("span",{children:t.name})]}),u.map(g=>{const _=h[g],b=m[g];return f.jsxs("div",{className:"fixture-row three-col",children:[f.jsx("span",{className:_?`fixture-badge fdr-${_.difficulty}`:"fixture-blank",children:_?_.opponent:"-"}),f.jsxs("span",{className:"fixture-gw",children:["GW",g]}),f.jsx("span",{className:b?`fixture-badge fdr-${b.difficulty}`:"fixture-blank",children:b?b.opponent:"-"})]},g)})]})]})}function O1({result:s,playerOut:t,playerIn:i}){const r=s.recommendation==="Strong Buy"?"strong-buy":s.recommendation==="Avoid"?"avoid":"neutral";return f.jsxs("div",{className:"trade-result",children:[f.jsx("div",{className:`recommendation-badge ${r}`,children:s.recommendation}),f.jsxs("div",{className:"result-metrics",children:[f.jsxs("div",{className:"result-metric",children:[f.jsx("span",{className:"result-label",children:"Projected xPts Diff"}),f.jsxs("span",{className:`result-value ${s.pointsDiff>0?"positive":s.pointsDiff<0?"negative":""}`,children:[s.pointsDiff>0?"+":"",s.pointsDiff]})]}),f.jsxs("div",{className:"result-metric",children:[f.jsx("span",{className:"result-label",children:"Form Comparison"}),f.jsxs("span",{className:`result-value ${Number(s.formDiff)>0?"positive":Number(s.formDiff)<0?"negative":""}`,children:[Number(s.formDiff)>0?"+":"",s.formDiff]})]}),f.jsxs("div",{className:"result-metric",children:[f.jsx("span",{className:"result-label",children:"Price Impact"}),f.jsxs("span",{className:`result-value ${Number(s.priceDiff)<0?"positive":Number(s.priceDiff)>0?"negative":""}`,children:[Number(s.priceDiff)>0?"+":"","",s.priceDiff,"m"]})]}),f.jsxs("div",{className:"result-metric",children:[f.jsx("span",{className:"result-label",children:"Fixture Swing"}),f.jsxs("span",{className:`result-value ${Number(s.fixtureDiff)>0?"positive":Number(s.fixtureDiff)<0?"negative":""}`,children:[Number(s.fixtureDiff)>0?"+":"",s.fixtureDiff]})]}),f.jsxs("div",{className:"result-metric",children:[f.jsx("span",{className:"result-label",children:"Risk Rating"}),f.jsx("span",{className:`risk-badge risk-${s.riskLevel.toLowerCase()}`,children:s.riskLevel})]})]}),f.jsxs("div",{className:"points-projection",children:[f.jsxs("div",{className:"projection-bar",children:[f.jsx("span",{className:"proj-label",children:t.name}),f.jsx("div",{className:"proj-track",children:f.jsxs("div",{className:"proj-fill out",style:{width:`${s.outProjected/Math.max(s.outProjected,s.inProjected)*100}%`},children:[s.outProjected," xPts"]})})]}),f.jsxs("div",{className:"projection-bar",children:[f.jsx("span",{className:"proj-label",children:i.name}),f.jsx("div",{className:"proj-track",children:f.jsxs("div",{className:"proj-fill in",style:{width:`${s.inProjected/Math.max(s.outProjected,s.inProjected)*100}%`},children:[s.inProjected," xPts"]})})]})]}),(s.inReasons?.length>0||s.outReasons?.length>0)&&f.jsxs("div",{className:"trade-reasons-section",children:[s.inReasons?.length>0&&f.jsxs("div",{className:"trade-reasons-group",children:[f.jsx("span",{className:"trade-reasons-label",children:i.name}),f.jsx("div",{className:"trade-reasons-chips",children:s.inReasons.map((o,u)=>f.jsx("span",{className:"trade-reason-chip positive",children:o},u))})]}),s.outReasons?.length>0&&f.jsxs("div",{className:"trade-reasons-group",children:[f.jsx("span",{className:"trade-reasons-label",children:t.name}),f.jsx("div",{className:"trade-reasons-chips",children:s.outReasons.map((o,u)=>f.jsx("span",{className:"trade-reason-chip",children:o},u))})]})]}),f.jsxs("div",{className:"ai-explanation",children:[f.jsx("div",{className:"explanation-header",children:"Analysis"}),f.jsx("p",{children:s.explanation})]})]})}function j1({picks:s,onSelect:t}){return!s||s.length===0?null:f.jsxs("div",{className:"trade-top-picks",children:[f.jsx("h4",{children:"Top Picks by xPts"}),f.jsx("div",{className:"top-picks-grid",children:s.map(i=>f.jsxs("button",{className:"top-pick-card",onClick:()=>t(i.id),children:[f.jsxs("div",{className:"top-pick-header",children:[f.jsx("span",{className:`position-badge position-${i.position}`,children:i.position}),f.jsxs("span",{className:"top-pick-xpts",children:[i.xpts," xPts"]})]}),f.jsx("div",{className:"top-pick-name",children:i.name}),f.jsxs("div",{className:"top-pick-meta",children:[i.clubShort,"  ",i.price,"m  ",i.form," form"]}),i.topReasons?.length>0&&f.jsx("div",{className:"top-pick-reasons",children:i.topReasons.slice(0,2).map((r,o)=>f.jsx("span",{className:"trade-reason-chip small",children:r},o))})]},i.id))})]})}function I1({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const[o,u]=$.useState(null),[h,m]=$.useState(null),[g,_]=$.useState(3),[b,S]=$.useState("All"),[y,C]=$.useState(""),[I,P]=$.useState("xpts"),{data:B,loading:Z,error:Y}=es(p1),X=t||Z,z=i||Y,K=$.useMemo(()=>B?.candidates||[],[B]),Q=$.useMemo(()=>B?.teams||s?.teams||{},[B,s]),V=$.useMemo(()=>s?.players.find(te=>te.id===o),[s,o]),me=$.useMemo(()=>{if(!K.length)return[];let te=K;if(b!=="All"&&(te=te.filter(ne=>ne.position===b)),y){const ne=parseFloat(y);isNaN(ne)||(te=te.filter(O=>O.price<=ne))}const H=[...te];switch(I){case"xpts":return X_(H,Q,g);case"form":H.sort((ne,O)=>O.form-ne.form);break;case"totalPoints":H.sort((ne,O)=>O.totalPoints-ne.totalPoints);break;case"price-asc":H.sort((ne,O)=>ne.price-O.price);break;case"price-desc":H.sort((ne,O)=>O.price-ne.price);break;case"selectedByPercent":H.sort((ne,O)=>O.selectedByPercent-ne.selectedByPercent);break}return H},[K,b,y,I,Q,g]),be=$.useMemo(()=>K.find(te=>te.id===h),[K,h]),fe=$.useMemo(()=>!V||!be?null:y1(V,be,g,Q),[V,be,g,Q]),he=$.useMemo(()=>{if(!K.length)return[];let te=K;return b!=="All"&&(te=te.filter(H=>H.position===b)),X_(te,Q,g).slice(0,3)},[K,b,Q,g]);function oe(te){if(u(te),te&&s){const H=s.players.find(ne=>ne.id===te);H&&S(H.position)}}return X?f.jsx(Kr,{message:"Loading trade data..."}):z?f.jsx(Qr,{message:z,onRetry:r}):f.jsxs("div",{className:"trade-analyzer",children:[f.jsxs("div",{className:"trade-controls",children:[f.jsxs("div",{className:"controls-card",children:[f.jsx("h3",{children:"Transfer Setup"}),f.jsx(Q_,{label:"Transfer Out",players:s.players,selected:o,onChange:oe}),f.jsxs("div",{className:"filter-bar",children:[f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"Position"}),f.jsx("div",{className:"filter-buttons",children:w1.map(te=>f.jsx("button",{className:`filter-btn ${b===te?"active":""}`,onClick:()=>S(te),children:te},te))})]}),f.jsxs("div",{className:"filter-row",children:[f.jsxs("div",{className:"filter-group filter-group-sm",children:[f.jsx("label",{children:"Max Price"}),f.jsx("input",{type:"number",className:"filter-input",placeholder:"e.g. 8.0",step:"0.5",min:"3.5",max:"15",value:y,onChange:te=>C(te.target.value)})]}),f.jsxs("div",{className:"filter-group filter-group-sm",children:[f.jsx("label",{children:"Sort By"}),f.jsx("select",{className:"filter-select",value:I,onChange:te=>P(te.target.value),children:A1.map(te=>f.jsx("option",{value:te.value,children:te.label},te.value))})]})]})]}),f.jsx(Q_,{label:`Transfer In (${me.length} players)`,players:me,selected:h,onChange:m}),f.jsxs("div",{className:"gameweeks-selector",children:[f.jsx("label",{children:"Gameweeks to Analyze"}),f.jsx("div",{className:"gw-buttons",children:[1,2,3,4,5].map(te=>f.jsx("button",{className:`gw-btn ${g===te?"active":""}`,onClick:()=>_(te),children:te},te))})]})]}),f.jsx("div",{className:"stat-cards-column",children:V||be?f.jsxs(f.Fragment,{children:[f.jsx(W_,{player:V,label:"OUT",teams:Q}),V&&be&&f.jsx("div",{className:"versus-icon",children:"vs"}),f.jsx(W_,{player:be,label:"IN",teams:Q})]}):f.jsxs("div",{className:"versus-card",children:[f.jsx("div",{className:"placeholder-icon",children:""}),f.jsx("p",{className:"versus-detail",children:"Select players to compare stats"})]})})]}),fe&&f.jsxs("div",{className:"trade-results",children:[f.jsx(O1,{result:fe,playerOut:V,playerIn:be}),f.jsx(R1,{playerOut:V,playerIn:be,gameweeks:g})]}),!o&&!h&&f.jsxs(f.Fragment,{children:[f.jsx(j1,{picks:he,onSelect:m}),f.jsxs("div",{className:"trade-placeholder",children:[f.jsx("div",{className:"placeholder-icon",children:""}),f.jsx("p",{children:"Select players above to analyze a potential transfer"})]})]})]})}function D1(s){return s?new Date(s).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""}function M1(s){return s?new Date(s).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"TBD"}function k1({match:s}){return f.jsxs("div",{className:"match-row",children:[f.jsxs("div",{className:"match-team home",children:[f.jsx("span",{className:"team-full",children:s.homeTeam}),f.jsx("span",{className:"team-short",children:s.homeShort}),f.jsx("span",{className:`fdr-badge fdr-${s.homeDifficulty}`,children:s.homeDifficulty})]}),f.jsx("div",{className:"match-vs",children:"vs"}),f.jsxs("div",{className:"match-team away",children:[f.jsx("span",{className:`fdr-badge fdr-${s.awayDifficulty}`,children:s.awayDifficulty}),f.jsx("span",{className:"team-full",children:s.awayTeam}),f.jsx("span",{className:"team-short",children:s.awayShort})]}),f.jsx("div",{className:"match-kickoff",children:M1(s.kickoff)})]})}function L1({pick:s}){return f.jsxs("div",{className:"pick-card",children:[f.jsxs("div",{className:"pick-top",children:[f.jsx("span",{className:`pick-pos position-badge position-${s.position}`,children:s.position}),f.jsxs("span",{className:"pick-price",children:["",s.price,"m"]})]}),f.jsx("div",{className:"pick-name",children:s.name}),f.jsx("div",{className:"pick-club",children:s.club}),f.jsxs("div",{className:"pick-details",children:[f.jsxs("div",{className:"pick-stat",children:[f.jsx("span",{className:"pick-stat-value",children:s.form}),f.jsx("span",{className:"pick-stat-label",children:"Form"})]}),f.jsxs("div",{className:"pick-stat",children:[f.jsx("span",{className:"pick-stat-value",children:s.totalPoints}),f.jsx("span",{className:"pick-stat-label",children:"Pts"})]}),f.jsxs("div",{className:"pick-stat",children:[f.jsx("span",{className:`pick-stat-value fixture-badge fdr-${s.difficulty}`,children:s.opponent}),f.jsx("span",{className:"pick-stat-label",children:"Fix"})]})]})]})}function U1({picks:s}){return!s||s.length===0?null:f.jsxs("div",{className:"picks-section",children:[f.jsxs("div",{className:"picks-header",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),f.jsx("span",{children:"Recommended Picks"})]}),f.jsx("div",{className:"picks-grid",children:s.map(t=>f.jsx(L1,{pick:t},t.id))})]})}function z1({gw:s,isActive:t,onToggle:i}){return f.jsxs("div",{className:`gw-card ${t?"expanded":""}`,children:[f.jsxs("button",{className:"gw-card-header",onClick:i,children:[f.jsxs("div",{className:"gw-title",children:[f.jsxs("span",{className:"gw-number",children:["GW",s.gw]}),f.jsxs("span",{className:"gw-match-count",children:[s.matches.length," match",s.matches.length!==1?"es":""]})]}),f.jsxs("div",{className:"gw-meta",children:[s.deadline&&f.jsxs("span",{className:"gw-deadline",children:["Deadline: ",D1(s.deadline)]}),f.jsx("span",{className:`gw-chevron ${t?"open":""}`,children:f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),t&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"gw-matches",children:s.matches.map(r=>f.jsx(k1,{match:r},r.id))}),f.jsx(U1,{picks:s.picks})]})]})}function P1(){const{data:s,loading:t,error:i,reload:r}=es(_1),[o,u]=$.useState(null);if(t)return f.jsx(Kr,{message:"Loading fixtures..."});if(i)return f.jsx(Qr,{message:i,onRetry:r});const h=o??s[0]?.gw;return f.jsxs("div",{className:"fixtures",children:[f.jsxs("div",{className:"fixtures-header",children:[f.jsx("h3",{children:"Upcoming Fixtures"}),f.jsxs("div",{className:"fdr-legend",children:[f.jsx("span",{className:"legend-label",children:"FDR:"}),[1,2,3,4,5].map(m=>f.jsx("span",{className:`fdr-badge fdr-${m}`,children:m},m))]})]}),f.jsx("div",{className:"gw-list",children:s.map(m=>f.jsx(z1,{gw:m,isActive:h===m.gw,onToggle:()=>u(h===m.gw?null:m.gw)},m.gw))})]})}function B1(s){const t={DEF:0,MID:0,FWD:0};for(const i of s)t[i.position]!==void 0&&t[i.position]++;return`${t.DEF}-${t.MID}-${t.FWD}`}function oy(s){const t={GKP:[],DEF:[],MID:[],FWD:[]};for(const i of s)t[i.position]?.push(i);return t}const cy=[[3,4,3],[3,5,2],[4,3,3],[4,4,2],[4,5,1],[5,3,2],[5,4,1]];function H1(s,t){const{ranked:i}=ly(s,t),r=oy(i);for(const g of Object.keys(r))r[g].sort((_,b)=>(b.xpts||0)-(_.xpts||0));let o=null,u=-1/0,h=null,m=null;for(const[g,_,b]of cy){if(r.GKP.length<1||r.DEF.length<g||r.MID.length<_||r.FWD.length<b)continue;const S=[r.GKP[0],...r.DEF.slice(0,g),...r.MID.slice(0,_),...r.FWD.slice(0,b)],y=new Set(S.map(P=>P.id)),C=s.filter(P=>!y.has(P.id)),I=S.reduce((P,B)=>P+(B.xpts||0),0);I>u&&(u=I,o=`${g}-${_}-${b}`,h=S,m=C)}return{formation:o,xi:h,bench:m,score:u}}function G1({fixtures:s}){return!s||s.length===0?null:f.jsx("div",{className:"formation-fdr-dots",children:s.slice(0,3).map((t,i)=>f.jsx("span",{className:`formation-fdr-dot fdr-dot-${t.difficulty}`,title:`GW${t.gw}: ${t.opponent} (FDR ${t.difficulty})`},i))})}function F1(s){const t={DEF:0,MID:0,FWD:0,GKP:0};for(const r of s)t[r.position]!==void 0&&t[r.position]++;return t.GKP!==1?{valid:!1,reason:"Must have exactly 1 goalkeeper in the XI"}:cy.some(([r,o,u])=>t.DEF===r&&t.MID===o&&t.FWD===u)?{valid:!0}:{valid:!1,reason:`${t.DEF}-${t.MID}-${t.FWD} is not a valid formation`}}function q1({player:s,isSelected:t,isCompareSelected:i,isSwapSource:r,onSelect:o,compareMode:u,isSuggested:h,xpts:m}){const g=()=>o(s),_=["pitch-player",t?"selected":"",i?"compare-selected":"",r?"swap-source":"",h?"suggested-glow":""].filter(Boolean).join(" ");return f.jsxs("div",{className:_,onClick:g,children:[f.jsxs("div",{className:`pitch-shirt position-shirt-${s.position}`,children:[s.isCaptain&&f.jsx("span",{className:"pitch-armband",children:"C"}),s.isViceCaptain&&f.jsx("span",{className:"pitch-armband vc",children:"V"}),u&&i&&f.jsx("span",{className:"pitch-compare-badge",children:"VS"}),m!=null&&f.jsx("span",{className:"pitch-xpts-badge",title:`xPts: ${m}`,children:m})]}),f.jsx("div",{className:"pitch-player-name",children:s.name}),f.jsxs("div",{className:"pitch-player-pts",children:[s.gameweekPoints," pts"]}),f.jsx(G1,{fixtures:s.upcomingFixtures})]})}function V1({player:s,xptsData:t,onClose:i}){if(!s)return null;const r=s.form>=7?"positive":s.form<=4?"negative":"";return f.jsxs("div",{className:"formation-detail",children:[f.jsxs("div",{className:"formation-detail-header",children:[f.jsxs("div",{children:[f.jsx("span",{className:`position-badge position-${s.position}`,children:s.position}),f.jsx("span",{className:"detail-player-name",children:s.name}),s.isCaptain&&f.jsx("span",{className:"badge captain",children:"C"}),s.isViceCaptain&&f.jsx("span",{className:"badge vice-captain",children:"V"})]}),f.jsx("button",{className:"detail-close",onClick:i,children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsx("div",{className:"detail-club",children:s.club}),f.jsxs("div",{className:"detail-stats-grid",children:[f.jsxs("div",{className:"detail-stat",children:[f.jsx("span",{className:"detail-stat-value highlight",children:s.gameweekPoints}),f.jsx("span",{className:"detail-stat-label",children:"GW Pts"})]}),f.jsxs("div",{className:"detail-stat",children:[f.jsx("span",{className:"detail-stat-value",children:s.totalPoints}),f.jsx("span",{className:"detail-stat-label",children:"Total"})]}),f.jsxs("div",{className:"detail-stat",children:[f.jsx("span",{className:`detail-stat-value ${r}`,children:s.form}),f.jsx("span",{className:"detail-stat-label",children:"Form"})]}),f.jsxs("div",{className:"detail-stat",children:[f.jsxs("span",{className:"detail-stat-value",children:["",s.price,"m"]}),f.jsx("span",{className:"detail-stat-label",children:"Price"})]}),t&&f.jsxs("div",{className:"detail-stat",children:[f.jsx("span",{className:"detail-stat-value highlight",children:t.xpts}),f.jsx("span",{className:"detail-stat-label",children:"xPts"})]})]}),t?.topReasons?.length>0&&f.jsx("div",{className:"detail-xpts-reasons",children:t.topReasons.map((o,u)=>f.jsx("span",{className:"xpts-reason-chip",children:o},u))}),s.upcomingFixtures?.length>0&&f.jsxs("div",{className:"detail-fixtures",children:[f.jsx("div",{className:"detail-fixtures-label",children:"Upcoming"}),f.jsx("div",{className:"detail-fixture-chips",children:s.upcomingFixtures.slice(0,5).map(o=>f.jsx("span",{className:`detail-fixture-chip fdr-${o.difficulty}`,children:o.opponent},o.gw))})]})]})}function Y1({players:s,onClose:t}){if(s.length<2)return null;const[i,r]=s,o=[{label:"GW Pts",valA:i.gameweekPoints,valB:r.gameweekPoints},{label:"Total",valA:i.totalPoints,valB:r.totalPoints},{label:"Form",valA:i.form,valB:r.form},{label:"Price",valA:`${i.price}m`,valB:`${r.price}m`,isText:!0}],u=h=>{const m=h.upcomingFixtures||[];return m.length===0?3:(m.slice(0,3).reduce((g,_)=>g+_.difficulty,0)/Math.min(m.length,3)).toFixed(1)};return o.push({label:"Avg FDR",valA:u(i),valB:u(r),lowerBetter:!0}),f.jsxs("div",{className:"formation-compare",children:[f.jsxs("div",{className:"compare-header",children:[f.jsx("h4",{children:"Player Comparison"}),f.jsx("button",{className:"detail-close",onClick:t,children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsxs("div",{className:"compare-names",children:[f.jsxs("div",{className:"compare-player-label",children:[f.jsx("span",{className:`position-badge position-${i.position}`,children:i.position}),f.jsx("span",{children:i.name})]}),f.jsx("span",{className:"compare-vs",children:"VS"}),f.jsxs("div",{className:"compare-player-label",children:[f.jsx("span",{className:`position-badge position-${r.position}`,children:r.position}),f.jsx("span",{children:r.name})]})]}),f.jsx("div",{className:"compare-table",children:o.map(h=>{const m=parseFloat(h.valA),g=parseFloat(h.valB);let _="",b="";return!h.isText&&!isNaN(m)&&!isNaN(g)&&(h.lowerBetter?m<g?_="compare-win":g<m&&(b="compare-win"):m>g?_="compare-win":g>m&&(b="compare-win")),f.jsxs("div",{className:"compare-row",children:[f.jsx("span",{className:`compare-val ${_}`,children:h.valA}),f.jsx("span",{className:"compare-label",children:h.label}),f.jsx("span",{className:`compare-val ${b}`,children:h.valB})]},h.label)})}),f.jsxs("div",{className:"compare-fixtures",children:[f.jsx("div",{className:"compare-fix-col",children:(i.upcomingFixtures||[]).slice(0,5).map(h=>f.jsx("span",{className:`detail-fixture-chip fdr-${h.difficulty}`,children:h.opponent},h.gw))}),f.jsx("span",{className:"compare-fix-label",children:"Fixtures"}),f.jsx("div",{className:"compare-fix-col",children:(r.upcomingFixtures||[]).slice(0,5).map(h=>f.jsx("span",{className:`detail-fixture-chip fdr-${h.difficulty}`,children:h.opponent},h.gw))})]})]})}function X1({suggestion:s,currentFormation:t,captainPick:i,onClose:r}){if(!s)return null;const o=s.formation===t;return f.jsxs("div",{className:"formation-suggested-panel",children:[f.jsxs("div",{className:"compare-header",children:[f.jsx("h4",{children:"Suggested Formation"}),f.jsx("button",{className:"detail-close",onClick:r,children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),o?f.jsxs("p",{className:"suggested-verdict suggested-good",children:["Your current ",t," is already optimal based on xPts analysis."]}):f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"suggested-verdict suggested-change",children:["Consider switching from ",f.jsx("strong",{children:t})," to ",f.jsx("strong",{children:s.formation})," to maximise expected points."]}),f.jsxs("div",{className:"suggested-changes",children:[f.jsx("div",{className:"suggested-changes-label",children:"Move to bench:"}),s.bench.filter(u=>u.benchOrder===0).slice(0,3).map(u=>f.jsxs("span",{className:"suggested-chip bench-chip",children:[u.name," ",f.jsx("span",{className:"suggested-chip-pos",children:u.position}),u.xpts!=null&&f.jsxs("span",{className:"suggested-chip-xpts",children:[u.xpts," xPts"]})]},u.id)),f.jsx("div",{className:"suggested-changes-label",style:{marginTop:"0.5rem"},children:"Bring into XI:"}),s.xi.filter(u=>u.benchOrder>0).slice(0,3).map(u=>f.jsxs("span",{className:"suggested-chip start-chip",children:[u.name," ",f.jsx("span",{className:"suggested-chip-pos",children:u.position}),u.xpts!=null&&f.jsxs("span",{className:"suggested-chip-xpts",children:[u.xpts," xPts"]})]},u.id))]})]}),i&&f.jsxs("div",{className:"suggested-captain",children:[f.jsx("div",{className:"suggested-changes-label",style:{marginTop:"0.75rem"},children:"Recommended captain:"}),f.jsxs("div",{className:"captain-suggestion",children:[f.jsx("span",{className:`position-badge position-${i.position}`,children:i.position}),f.jsx("strong",{children:i.name}),f.jsxs("span",{className:"xpts-reason-badge",children:[i.xpts," xPts"]}),i.topReasons?.length>0&&f.jsx("span",{className:"captain-reasons",children:i.topReasons.join("  ")})]})]})]})}function K1({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const[o,u]=$.useState(null),[h,m]=$.useState(!1),[g,_]=$.useState([]),[b,S]=$.useState(!1),[y,C]=$.useState(!1),[I,P]=$.useState(null),[B,Z]=$.useState([]),[Y,X]=$.useState(null);$.useEffect(()=>{if(!Y)return;const M=setTimeout(()=>X(null),2500);return()=>clearTimeout(M)},[Y]);const z=$.useMemo(()=>s?.teams||{},[s]),K=$.useMemo(()=>{if(!s)return null;const M=[...s.players,...s.bench||[]];return H1(M,z)},[s,z]),Q=$.useMemo(()=>{if(!s)return{};const M=[...s.players,...s.bench||[]],G={};for(const ae of M){const se=ae.upcomingFixtures?.[0]||{difficulty:3,opponent:"TBD"},ve=zo(ae,se,z);G[ae.id]=ve.xpts}return G},[s,z]),V=$.useMemo(()=>{if(!s)return null;const M=[...s.players,...s.bench||[]],{captain:G}=ly(M,z);return G},[s,z]),{players:me,bench:be,hasSwaps:fe}=$.useMemo(()=>{if(!s)return{players:[],bench:[],hasSwaps:!1};let M=[...s.players],G=[...s.bench||[]];for(const[ae,se]of B){const ve=M.findIndex(Me=>Me.id===ae),We=G.findIndex(Me=>Me.id===se);ve===-1||We===-1||([M[ve],G[We]]=[G[We],M[ve]])}return{players:M,bench:G,hasSwaps:B.length>0}},[s,B]);if(t)return f.jsx(Kr,{message:"Loading formation..."});if(i)return f.jsx(Qr,{message:i,onRetry:r});const{summary:he}=s,oe=B1(me),te=oy(me),H=b&&K?new Set(K.xi.map(M=>M.id)):new Set,ne=new Set(me.map(M=>M.id));function O(M){if(y){F(M);return}h?_(G=>G.find(se=>se.id===M.id)?G.filter(se=>se.id!==M.id):G.length>=2?[G[1],M]:[...G,M]):u(G=>G?.id===M.id?null:M)}function F(M){if(!I){P(M);return}if(I.id===M.id){P(null);return}const G=ne.has(I.id),ae=ne.has(M.id);if(G===ae){P(M);return}const se=G?I:M,ve=G?M:I,We=me.map(cn=>cn.id===se.id?ve:cn),Me=F1(We);if(!Me.valid){X(Me.reason),P(null);return}Z(cn=>[...cn,[se.id,ve.id]]),P(null)}function ie(){const M=!y;C(M),P(null),X(null),M&&(m(!1),_([]),u(null))}function ee(){const M=!h;m(M),_([]),u(null),M&&(C(!1),P(null))}function le(){S(M=>!M)}function T(){Z([]),P(null),X(null)}const k=M=>f.jsx(q1,{player:M,isSelected:o?.id===M.id,isCompareSelected:g.some(G=>G.id===M.id),isSwapSource:I?.id===M.id,onSelect:O,compareMode:h,isSuggested:b&&H.has(M.id),xpts:Q[M.id]},M.id);return f.jsxs("div",{className:"formation-view",children:[f.jsxs("div",{className:"formation-header",children:[f.jsxs("h3",{children:["Formation  ",oe]}),f.jsxs("div",{className:"formation-header-actions",children:[f.jsxs("button",{className:`formation-action-btn ${y?"active":""}`,onClick:ie,title:"Swap players between XI and bench",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"17 1 21 5 17 9"}),f.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),f.jsx("polyline",{points:"7 23 3 19 7 15"}),f.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),f.jsx("span",{children:"Swap"})]}),fe&&f.jsxs("button",{className:"formation-action-btn formation-reset-btn",onClick:T,title:"Reset to original lineup",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"1 4 1 10 7 10"}),f.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),f.jsx("span",{children:"Reset"})]}),f.jsxs("button",{className:`formation-action-btn ${h?"active":""}`,onClick:ee,title:"Compare two players",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),f.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),f.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),f.jsx("span",{children:"Compare"})]}),f.jsxs("button",{className:`formation-action-btn ${b?"active":""}`,onClick:le,title:"Suggest optimal formation",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),f.jsx("path",{d:"M2 17l10 5 10-5"}),f.jsx("path",{d:"M2 12l10 5 10-5"})]}),f.jsx("span",{children:"Suggest"})]}),f.jsxs("span",{className:"formation-gw",children:["GW",he.currentGameweek]})]})]}),h&&f.jsx("div",{className:"formation-compare-hint",children:"Tap any 2 players to compare them side-by-side"}),y&&f.jsx("div",{className:"formation-swap-hint",children:I?f.jsxs(f.Fragment,{children:["Tap a ",ne.has(I.id)?"bench":"starting"," player to swap with ",f.jsx("strong",{children:I.name})]}):"Tap a player, then tap another to swap them"}),Y&&f.jsx("div",{className:"swap-invalid-msg",children:Y}),f.jsxs("div",{className:"pitch",children:[f.jsxs("div",{className:"pitch-surface",children:[f.jsx("div",{className:"pitch-marking center-circle"}),f.jsx("div",{className:"pitch-marking center-line"}),f.jsx("div",{className:"pitch-marking penalty-box top"}),f.jsx("div",{className:"pitch-marking penalty-box bottom"}),f.jsx("div",{className:"pitch-row fwd-row",children:te.FWD.map(k)}),f.jsx("div",{className:"pitch-row mid-row",children:te.MID.map(k)}),f.jsx("div",{className:"pitch-row def-row",children:te.DEF.map(k)}),f.jsx("div",{className:"pitch-row gk-row",children:te.GKP.map(k)})]}),be.length>0&&f.jsxs("div",{className:"formation-bench",children:[f.jsx("div",{className:"formation-bench-label",children:"Bench"}),f.jsx("div",{className:"formation-bench-row",children:be.map((M,G)=>f.jsxs("div",{className:"formation-bench-player",children:[f.jsx("span",{className:"bench-order",children:G+1}),k(M)]},M.id))})]})]}),h&&g.length===2&&f.jsx(Y1,{players:g,onClose:()=>_([])}),!h&&!y&&o&&f.jsx(V1,{player:o,xptsData:zo(o,o.upcomingFixtures?.[0]||{difficulty:3,opponent:"TBD"},z),onClose:()=>u(null)}),b&&f.jsx(X1,{suggestion:K,currentFormation:oe,captainPick:V,onClose:()=>S(!1)})]})}const Q1=()=>{};var $_={};const uy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const q=function(s,t){if(!s)throw ya(t)},ya=function(s){return new Error("Firebase Database ("+uy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const dy=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},W1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],h=s[i++],m=s[i++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],h=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,b=u>>2,S=(u&3)<<4|m>>4;let y=(m&15)<<2|_>>6,C=_&63;g||(C=64,h||(y=64)),r.push(i[b],i[S],i[y],i[C])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(dy(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):W1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||m==null||_==null||S==null)throw new $1;const y=u<<2|m>>4;if(r.push(y),_!==64){const C=m<<4&240|_>>2;if(r.push(C),S!==64){const I=_<<6&192|S;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fy=function(s){const t=dy(s);return Pf.encodeByteArray(t,!0)},Po=function(s){return fy(s).replace(/\./g,"")},Bo=function(s){try{return Pf.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Z1(s){return hy(void 0,s)}function hy(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!J1(i)||(s[i]=hy(s[i],t[i]));return s}function J1(s){return s!=="__proto__"}function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tx=()=>ex().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof $_>"u")return;const s=$_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ix=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Bo(s[1]);return t&&JSON.parse(t)},Bf=()=>{try{return Q1()||tx()||nx()||ix()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},my=s=>Bf()?.emulatorHosts?.[s],sx=s=>{const t=my(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},py=()=>Bf()?.config,gy=s=>Bf()?.[`_${s}`];class Wr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function ba(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _y(s){return(await fetch(s,{credentials:"include"})).ok}function ax(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Po(JSON.stringify(i)),Po(JSON.stringify(h)),""].join(".")}const wr={};function rx(){const s={prod:[],emulator:[]};for(const t of Object.keys(wr))wr[t]?s.emulator.push(t):s.prod.push(t);return s}function lx(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Z_=!1;function vy(s,t){if(typeof window>"u"||typeof document>"u"||!ba(window.location.host)||wr[s]===t||wr[s]||Z_)return;wr[s]=t;function i(y){return`__firebase__banner__${y}`}const r="__firebase__banner",u=rx().prod.length>0;function h(){const y=document.getElementById(r);y&&y.remove()}function m(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function g(y,C){y.setAttribute("width","24"),y.setAttribute("id",C),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function _(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Z_=!0,h()},y}function b(y,C){y.setAttribute("id",C),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function S(){const y=lx(r),C=i("text"),I=document.getElementById(C)||document.createElement("span"),P=i("learnmore"),B=document.getElementById(P)||document.createElement("a"),Z=i("preprendIcon"),Y=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const X=y.element;m(X),b(B,P);const z=_();g(Y,Z),X.append(Y,I,B,z),document.body.appendChild(X)}u?(I.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function ox(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ux(){const s=Et();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dx(){return uy.NODE_ADMIN===!0}function fx(){try{return typeof indexedDB=="object"}catch{return!1}}function hx(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const mx="FirebaseError";class Oi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=mx,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?px(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Oi(o,m,r)}}function px(s,t){return s.replace(gx,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const gx=/\{\$([^}]+)}/g;function Mr(s){return JSON.parse(s)}function at(s){return JSON.stringify(s)}const by=function(s){let t={},i={},r={},o="";try{const u=s.split(".");t=Mr(Bo(u[0])||""),i=Mr(Bo(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},_x=function(s){const t=by(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},vx=function(s){const t=by(s).claims;return typeof t=="object"&&t.admin===!0};function gn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function ua(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function cf(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ho(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function as(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],h=t[o];if(J_(u)&&J_(h)){if(!as(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function J_(s){return s!==null&&typeof s=="object"}function Sa(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nr(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Cr(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}class yx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let S=0;S<16;S++)r[S]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let S=0;S<16;S++)r[S]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let S=16;S<80;S++){const y=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],_,b;for(let S=0;S<80;S++){S<40?S<20?(_=m^u&(h^m),b=1518500249):(_=u^h^m,b=1859775393):S<60?(_=u&h|m&(u|h),b=2400959708):(_=u^h^m,b=3395469782);const y=(o<<5|o>>>27)+_+g+b+r[S]&4294967295;g=m,m=h,h=(u<<30|u>>>2)&4294967295,u=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function bx(s,t){const i=new Sx(s,t);return i.subscribe.bind(i)}class Sx{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Ex(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ex(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function lc(s,t){return`${s} failed: ${t} argument `}const xx=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,q(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},oc=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function vt(s){return s&&s._delegate?s._delegate:s}class rs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $i="[DEFAULT]";class Tx{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Wr;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cx(t))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=$i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$i){return this.instances.has(t)}getOptions(t=$i){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nx(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$i){return this.component?this.component.multipleInstances?t:$i:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nx(s){return s===$i?void 0:s}function Cx(s){return s.instantiationMode==="EAGER"}class wx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Tx(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const Ax={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Rx=ze.INFO,Ox={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},jx=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=Ox[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gf{constructor(t){this.name=t,this._logLevel=Rx,this._logHandler=jx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ze))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ax[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...t),this._logHandler(this,ze.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...t),this._logHandler(this,ze.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...t),this._logHandler(this,ze.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...t),this._logHandler(this,ze.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...t),this._logHandler(this,ze.ERROR,...t)}}const Ix=(s,t)=>t.some(i=>s instanceof i);let ev,tv;function Dx(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mx(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sy=new WeakMap,uf=new WeakMap,Ey=new WeakMap,Qd=new WeakMap,Ff=new WeakMap;function kx(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(Ei(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Sy.set(i,s)}).catch(()=>{}),Ff.set(t,s),t}function Lx(s){if(uf.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});uf.set(s,t)}let df={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return uf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Ey.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ei(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Ux(s){df=s(df)}function zx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Wd(this),t,...i);return Ey.set(r,t.sort?t.sort():[t]),Ei(r)}:Mx().includes(s)?function(...t){return s.apply(Wd(this),t),Ei(Sy.get(this))}:function(...t){return Ei(s.apply(Wd(this),t))}}function Px(s){return typeof s=="function"?zx(s):(s instanceof IDBTransaction&&Lx(s),Ix(s,Dx())?new Proxy(s,df):s)}function Ei(s){if(s instanceof IDBRequest)return kx(s);if(Qd.has(s))return Qd.get(s);const t=Px(s);return t!==s&&(Qd.set(s,t),Ff.set(t,s)),t}const Wd=s=>Ff.get(s);function Bx(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,t),m=Ei(h);return r&&h.addEventListener("upgradeneeded",g=>{r(Ei(h.result),g.oldVersion,g.newVersion,Ei(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const Hx=["get","getKey","getAll","getAllKeys","count"],Gx=["put","add","delete","clear"],$d=new Map;function nv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Gx.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Hx.includes(i)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[i](...m),o&&g.done]))[0]};return $d.set(t,u),u}Ux(s=>({...s,get:(t,i,r)=>nv(t,i)||s.get(t,i,r),has:(t,i)=>!!nv(t,i)||s.has(t,i)}));class Fx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qx(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function qx(s){return s.getComponent()?.type==="VERSION"}const ff="@firebase/app",iv="0.14.8";const Bn=new Gf("@firebase/app"),Vx="@firebase/app-compat",Yx="@firebase/analytics-compat",Xx="@firebase/analytics",Kx="@firebase/app-check-compat",Qx="@firebase/app-check",Wx="@firebase/auth",$x="@firebase/auth-compat",Zx="@firebase/database",Jx="@firebase/data-connect",eT="@firebase/database-compat",tT="@firebase/functions",nT="@firebase/functions-compat",iT="@firebase/installations",sT="@firebase/installations-compat",aT="@firebase/messaging",rT="@firebase/messaging-compat",lT="@firebase/performance",oT="@firebase/performance-compat",cT="@firebase/remote-config",uT="@firebase/remote-config-compat",dT="@firebase/storage",fT="@firebase/storage-compat",hT="@firebase/firestore",mT="@firebase/ai",pT="@firebase/firestore-compat",gT="firebase",_T="12.9.0";const hf="[DEFAULT]",vT={[ff]:"fire-core",[Vx]:"fire-core-compat",[Xx]:"fire-analytics",[Yx]:"fire-analytics-compat",[Qx]:"fire-app-check",[Kx]:"fire-app-check-compat",[Wx]:"fire-auth",[$x]:"fire-auth-compat",[Zx]:"fire-rtdb",[Jx]:"fire-data-connect",[eT]:"fire-rtdb-compat",[tT]:"fire-fn",[nT]:"fire-fn-compat",[iT]:"fire-iid",[sT]:"fire-iid-compat",[aT]:"fire-fcm",[rT]:"fire-fcm-compat",[lT]:"fire-perf",[oT]:"fire-perf-compat",[cT]:"fire-rc",[uT]:"fire-rc-compat",[dT]:"fire-gcs",[fT]:"fire-gcs-compat",[hT]:"fire-fst",[pT]:"fire-fst-compat",[mT]:"fire-vertex","fire-js":"fire-js",[gT]:"fire-js-all"};const Go=new Map,yT=new Map,mf=new Map;function sv(s,t){try{s.container.addComponent(t)}catch(i){Bn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function da(s){const t=s.name;if(mf.has(t))return Bn.debug(`There were multiple attempts to register component ${t}.`),!1;mf.set(t,s);for(const i of Go.values())sv(i,s);for(const i of yT.values())sv(i,s);return!0}function qf(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function $t(s){return s==null?!1:s.settings!==void 0}const bT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new $r("app","Firebase",bT);class ST{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}const Ea=_T;function xy(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:hf,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(i||(i=py()),!i)throw xi.create("no-options");const u=Go.get(o);if(u){if(as(i,u.options)&&as(r,u.config))return u;throw xi.create("duplicate-app",{appName:o})}const h=new wx(o);for(const g of mf.values())h.addComponent(g);const m=new ST(i,r,h);return Go.set(o,m),m}function Ty(s=hf){const t=Go.get(s);if(!t&&s===hf&&py())return xy();if(!t)throw xi.create("no-app",{appName:s});return t}function Ti(s,t,i){let r=vT[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bn.warn(h.join(" "));return}da(new rs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ET="firebase-heartbeat-database",xT=1,kr="firebase-heartbeat-store";let Zd=null;function Ny(){return Zd||(Zd=Bx(ET,xT,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kr)}catch(i){console.warn(i)}}}}).catch(s=>{throw xi.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function TT(s){try{const i=(await Ny()).transaction(kr),r=await i.objectStore(kr).get(Cy(s));return await i.done,r}catch(t){if(t instanceof Oi)Bn.warn(t.message);else{const i=xi.create("idb-get",{originalErrorMessage:t?.message});Bn.warn(i.message)}}}async function av(s,t){try{const r=(await Ny()).transaction(kr,"readwrite");await r.objectStore(kr).put(t,Cy(s)),await r.done}catch(i){if(i instanceof Oi)Bn.warn(i.message);else{const r=xi.create("idb-set",{originalErrorMessage:i?.message});Bn.warn(r.message)}}}function Cy(s){return`${s.name}!${s.options.appId}`}const NT=1024,CT=30;class wT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>CT){const o=OT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:r}=AT(this._heartbeatsCache.heartbeats),o=Po(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bn.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function AT(s,t=NT){const i=[];let r=s.slice();for(const o of s){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),lv(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),lv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class RT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fx()?hx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function lv(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function OT(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function jT(s){da(new rs("platform-logger",t=>new Fx(t),"PRIVATE")),da(new rs("heartbeat",t=>new wT(t),"PRIVATE")),Ti(ff,iv,s),Ti(ff,iv,"esm2020"),Ti("fire-js","")}jT("");var ov={};const cv="@firebase/database",uv="1.1.0";let wy="";function IT(s){wy=s}class DT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),at(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Mr(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class MT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return gn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ay=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new DT(t)}}catch{}return new MT},Ji=Ay("localStorage"),kT=Ay("sessionStorage");const aa=new Gf("@firebase/database"),LT=(function(){let s=1;return function(){return s++}})(),Ry=function(s){const t=xx(s),i=new yx;i.update(t);const r=i.digest();return Pf.encodeByteArray(r)},Zr=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Zr.apply(null,r):typeof r=="object"?t+=at(r):t+=r,t+=" "}return t};let Ar=null,dv=!0;const UT=function(s,t){q(!0,"Can't turn on custom loggers persistently."),aa.logLevel=ze.VERBOSE,Ar=aa.log.bind(aa)},pt=function(...s){if(dv===!0&&(dv=!1,Ar===null&&kT.get("logging_enabled")===!0&&UT()),Ar){const t=Zr.apply(null,s);Ar(t)}},Jr=function(s){return function(...t){pt(s,...t)}},pf=function(...s){const t="FIREBASE INTERNAL ERROR: "+Zr(...s);aa.error(t)},Hn=function(...s){const t=`FIREBASE FATAL ERROR: ${Zr(...s)}`;throw aa.error(t),new Error(t)},St=function(...s){const t="FIREBASE WARNING: "+Zr(...s);aa.warn(t)},zT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vf=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},PT=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},fa="[MIN_NAME]",ls="[MAX_NAME]",ms=function(s,t){if(s===t)return 0;if(s===fa||t===ls)return-1;if(t===fa||s===ls)return 1;{const i=fv(s),r=fv(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},BT=function(s,t){return s===t?0:s<t?-1:1},Sr=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+at(t))},Yf=function(s){if(typeof s!="object"||s===null)return at(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=at(t[r]),i+=":",i+=Yf(s[t[r]]);return i+="}",i},Oy=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function gt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const jy=function(s){q(!Vf(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,h,m,g;s===0?(u=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=m+r,h=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-r-i))));const _=[];for(g=i;g;g-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)_.push(u%2?1:0),u=Math.floor(u/2);_.push(o?1:0),_.reverse();const b=_.join("");let S="";for(g=0;g<64;g+=8){let y=parseInt(b.substr(g,8),2).toString(16);y.length===1&&(y="0"+y),S=S+y}return S.toLowerCase()},HT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FT(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const qT=new RegExp("^-?(0*)\\d{1,10}$"),VT=-2147483648,YT=2147483647,fv=function(s){if(qT.test(s)){const t=Number(s);if(t>=VT&&t<=YT)return t}return null},xa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw St("Exception was thrown by user callback.",i),t},Math.floor(0))}},XT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Rr=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class KT{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,$t(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class QT{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(t)}}class Do{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Do.OWNER="owner";const Xf="5",Iy="v",Dy="s",My="r",ky="f",Ly=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Uy="ls",zy="p",gf="ac",Py="websocket",By="long_polling";class Hy{constructor(t,i,r,o,u=!1,h="",m=!1,g=!1,_=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function WT(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Gy(s,t,i){q(typeof t=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let r;if(t===Py)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===By)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);WT(s)&&(i.ns=s.namespace);const o=[];return gt(i,(u,h)=>{o.push(u+"="+h)}),r+o.join("&")}class $T{constructor(){this.counters_={}}incrementCounter(t,i=1){gn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return Z1(this.counters_)}}const Jd={},ef={};function Kf(s){const t=s.toString();return Jd[t]||(Jd[t]=new $T),Jd[t]}function ZT(s,t){const i=s.toString();return ef[i]||(ef[i]=t()),ef[i]}class JT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&xa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const hv="start",eN="close",tN="pLPCommand",nN="pRTLPCB",Fy="id",qy="pw",Vy="ser",iN="cb",sN="seg",aN="ts",rN="d",lN="dframe",Yy=1870,Xy=30,oN=Yy-Xy,cN=25e3,uN=3e4;class ia{constructor(t,i,r,o,u,h,m){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jr(t),this.stats_=Kf(i),this.urlFn=g=>(this.appCheckToken&&(g[gf]=this.appCheckToken),Gy(i,By,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new JT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uN)),PT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qf((...u)=>{const[h,m,g,_,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===hv)this.id=m,this.password=g;else if(h===eN)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[hv]="t",r[Vy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[iN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Iy]=Xf,this.transportSessionId&&(r[Dy]=this.transportSessionId),this.lastSessionId&&(r[Uy]=this.lastSessionId),this.applicationId&&(r[zy]=this.applicationId),this.appCheckToken&&(r[gf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ly.test(location.hostname)&&(r[My]=ky);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ia.forceAllow_=!0}static forceDisallow(){ia.forceDisallow_=!0}static isAvailable(){return ia.forceAllow_?!0:!ia.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HT()&&!GT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=fy(i),o=Oy(r,oN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[lN]="t",r[Fy]=t,r[qy]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=at(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Qf{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LT(),window[tN+this.uniqueCallbackIdentifier]=t,window[nN+this.uniqueCallbackIdentifier]=i,this.myIFrame=Qf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){pt("frame writing exception"),m.stack&&pt(m.stack),pt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||pt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Fy]=this.myID,t[qy]=this.myPW,t[Vy]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Xy+r.length<=Yy;){const h=this.pendingSegs.shift();r=r+"&"+sN+o+"="+h.seg+"&"+aN+o+"="+h.ts+"&"+rN+o+"="+h.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(cN)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{pt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const dN=16384,fN=45e3;let Fo=null;typeof MozWebSocket<"u"?Fo=MozWebSocket:typeof WebSocket<"u"&&(Fo=WebSocket);class sn{constructor(t,i,r,o,u,h,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jr(this.connId),this.stats_=Kf(i),this.connURL=sn.connectionURL_(i,h,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const h={};return h[Iy]=Xf,typeof location<"u"&&location.hostname&&Ly.test(location.hostname)&&(h[My]=ky),i&&(h[Dy]=i),r&&(h[Uy]=r),o&&(h[gf]=o),u&&(h[zy]=u),Gy(t,Py,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let r;dx(),this.mySock=new Fo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Fo!==null&&!sn.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Mr(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Oy(i,dN);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fN))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;class Lr{static get ALL_TRANSPORTS(){return[ia,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=sn&&sn.isAvailable();let r=i&&!sn.previouslyFailed();if(t.webSocketOnly&&(i||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const o=this.transports_=[];for(const u of Lr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Lr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lr.globalTransportInitialized_=!1;const hN=6e4,mN=5e3,pN=10*1024,gN=100*1024,tf="t",mv="d",_N="s",pv="r",vN="e",gv="o",_v="a",vv="n",yv="p",yN="h";class bN{constructor(t,i,r,o,u,h,m,g,_,b){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jr("c:"+this.id+":"),this.transportManager_=new Lr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Rr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(tf in t){const i=t[tf];i===_v?this.upgradeIfSecondaryHealthy_():i===pv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===gv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Sr("t",t),r=Sr("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_v,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Sr("t",t),r=Sr("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Sr(tf,t);if(mv in t){const r=t[mv];if(i===yN){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===vv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_N?this.onConnectionShutdown_(r):i===pv?this.onReset_(r):i===vN?pf("Server Error: "+r):i===gv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Xf!==r&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Rr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hN))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ky{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class Qy{constructor(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){q(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class qo extends Qy{static getInstance(){return new qo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const bv=32,Sv=768;class Pe{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Oe(){return new Pe("")}function Ce(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function wi(s){return s.pieces_.length-s.pieceNum_}function Ge(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Pe(s.pieces_,t)}function Wf(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function SN(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Ur(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Wy(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Pe(t,0)}function Ke(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof Pe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Pe(i,0)}function xe(s){return s.pieceNum_>=s.pieces_.length}function bt(s,t){const i=Ce(s),r=Ce(t);if(i===null)return t;if(i===r)return bt(Ge(s),Ge(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function EN(s,t){const i=Ur(s,0),r=Ur(t,0);for(let o=0;o<i.length&&o<r.length;o++){const u=ms(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function $y(s,t){if(wi(s)!==wi(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function Zt(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(wi(s)>wi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class xN{constructor(t,i){this.errorPrefix_=i,this.parts_=Ur(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=oc(this.parts_[r]);Zy(this)}}function TN(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=oc(t),Zy(s)}function NN(s){const t=s.parts_.pop();s.byteLength_-=oc(t),s.parts_.length>0&&(s.byteLength_-=1)}function Zy(s){if(s.byteLength_>Sv)throw new Error(s.errorPrefix_+"has a key path longer than "+Sv+" bytes ("+s.byteLength_+").");if(s.parts_.length>bv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bv+") or object contains a cycle "+Zi(s))}function Zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class $f extends Qy{static getInstance(){return new $f}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return q(t==="visible","Unknown event type: "+t),[this.visible_]}}const Er=1e3,CN=300*1e3,Ev=30*1e3,wN=1.3,AN=3e4,RN="server_kill",xv=3;class zn extends Ky{constructor(t,i,r,o,u,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=zn.nextPersistentConnectionId_++,this.log_=Jr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Er,this.maxReconnectDelay_=CN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$f.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(at(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Wr,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,m=>{const g=m.d,_=m.s;zn.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),_!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(_,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&gn(t,"w")){const r=ua(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||vx(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ev)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=_x(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=r,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const h={p:i,d:r};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+at(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):pf("Unrecognized action received from server: "+at(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>AN&&(this.reconnectDelay_=Er),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,u=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,r())},_=function(S){q(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(S)};this.realtime_={close:g,sendRequest:_};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,y]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=y&&y.token,m=new bN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,C=>{St(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(RN)},u))}catch(S){this.log_("Failed to get token: "+S),h||(this.repoInfo_.nodeAdmin&&St(S),g())}}}interrupt(t){pt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){pt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],cf(this.interruptReasons_)&&(this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>Yf(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Pe(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){pt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xv&&(this.reconnectDelay_=Ev,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){pt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+wy.replace(/\./g,"-")]=1,Hf()?t["framework.cordova"]=1:yy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qo.getInstance().currentlyOnline();return cf(this.interruptReasons_)&&t}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;class ye{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ye(t,i)}}class cc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new ye(fa,t),o=new ye(fa,i);return this.compare(r,o)!==0}minPost(){return ye.MIN}}let Oo;class Jy extends cc{static get __EMPTY_NODE(){return Oo}static set __EMPTY_NODE(t){Oo=t}compare(t,i){return ms(t.name,i.name)}isDefinedOn(t){throw ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ye.MIN}maxPost(){return new ye(ls,Oo)}makePost(t,i){return q(typeof t=="string","KeyIndex indexValue must always be a string."),new ye(t,Oo)}toString(){return".key"}}const ra=new Jy;class jo{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?r(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ct{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??ct.RED,this.left=o??Ot.EMPTY_NODE,this.right=u??Ot.EMPTY_NODE}copy(t,i,r,o,u){return new ct(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class ON{copy(t,i,r,o,u){return this}insert(t,i,r){return new ct(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(t,i=Ot.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ot(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(t){return new Ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new jo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new jo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new jo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new jo(this.root_,null,this.comparator_,!0,t)}}Ot.EMPTY_NODE=new ON;function jN(s,t){return ms(s.name,t.name)}function Zf(s,t){return ms(s,t)}let _f;function IN(s){_f=s}const e0=function(s){return typeof s=="number"?"number:"+jy(s):"string:"+s},t0=function(s){if(s.isLeafNode()){const t=s.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gn(t,".sv"),"Priority must be a string or number.")}else q(s===_f||s.isEmpty(),"priority of unexpected type.");q(s===_f||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tv;class ot{static set __childrenNodeConstructor(t){Tv=t}static get __childrenNodeConstructor(){return Tv}constructor(t,i=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ot(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xe(t)?this:Ce(t)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Ce(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||wi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+e0(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=jy(this.value_):t+=this.value_,this.lazyHash_=Ry(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ot.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ot.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=ot.VALUE_TYPE_ORDER.indexOf(i),u=ot.VALUE_TYPE_ORDER.indexOf(r);return q(o>=0,"Unknown leaf type: "+i),q(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];let n0,i0;function DN(s){n0=s}function MN(s){i0=s}class kN extends cc{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?ms(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(ls,new ot("[PRIORITY-POST]",i0))}makePost(t,i){const r=n0(t);return new ye(i,new ot("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qe=new kN;const LN=Math.log(2);class UN{constructor(t){const i=u=>parseInt(Math.log(u)/LN,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Vo=function(s,t,i,r){s.sort(t);const o=function(g,_){const b=_-g;let S,y;if(b===0)return null;if(b===1)return S=s[g],y=i?i(S):S,new ct(y,S.node,ct.BLACK,null,null);{const C=parseInt(b/2,10)+g,I=o(g,C),P=o(C+1,_);return S=s[C],y=i?i(S):S,new ct(y,S.node,ct.BLACK,I,P)}},u=function(g){let _=null,b=null,S=s.length;const y=function(I,P){const B=S-I,Z=S;S-=I;const Y=o(B+1,Z),X=s[B],z=i?i(X):X;C(new ct(z,X.node,P,null,Y))},C=function(I){_?(_.left=I,_=I):(b=I,_=I)};for(let I=0;I<g.count;++I){const P=g.nextBitIsOne(),B=Math.pow(2,g.count-(I+1));P?y(B,ct.BLACK):(y(B,ct.BLACK),y(B,ct.RED))}return b},h=new UN(s.length),m=u(h);return new Ot(r||t,m)};let nf;const ta={};class kn{static get Default(){return q(ta&&Qe,"ChildrenNode.ts has not been loaded"),nf=nf||new kn({".priority":ta},{".priority":Qe}),nf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ua(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ot?i:null}hasIndex(t){return gn(this.indexSet_,t.toString())}addIndex(t,i){q(t!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(ye.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=u.getNext();let m;o?m=Vo(r,t.getCompare()):m=ta;const g=t.toString(),_={...this.indexSet_};_[g]=t;const b={...this.indexes_};return b[g]=m,new kn(b,_)}addToIndexes(t,i){const r=Ho(this.indexes_,(o,u)=>{const h=ua(this.indexSet_,u);if(q(h,"Missing index implementation for "+u),o===ta)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(ye.Wrap);let _=g.getNext();for(;_;)_.name!==t.name&&m.push(_),_=g.getNext();return m.push(t),Vo(m,h.getCompare())}else return ta;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new ye(t.name,m))),g.insert(t,t.node)}});return new kn(r,this.indexSet_)}removeFromIndexes(t,i){const r=Ho(this.indexes_,o=>{if(o===ta)return o;{const u=i.get(t.name);return u?o.remove(new ye(t.name,u)):o}});return new kn(r,this.indexSet_)}}let xr;class de{static get EMPTY_NODE(){return xr||(xr=new de(new Ot(Zf),null,kn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&t0(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xr}updatePriority(t){return this.children_.isEmpty()?this:new de(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?xr:i}}getChild(t){const i=Ce(t);return i===null?this:this.getImmediateChild(i).getChild(Ge(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(q(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new ye(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?xr:this.priorityNode_;return new de(o,h,u)}}updateChild(t,i){const r=Ce(t);if(r===null)return i;{q(Ce(t)!==".priority"||wi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ge(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Qe,(h,m)=>{i[h]=m.val(t),r++,u&&de.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*r){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+e0(this.getPriority().val())+":"),this.forEachChild(Qe,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Ry(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ye(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ye(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ye(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ye.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ye.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===el?-1:0}withIndex(t){if(t===ra||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new de(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ra||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Qe),o=i.getIterator(Qe);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ra?null:this.indexMap_.get(t.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zN extends de{constructor(){super(new Ot(Zf),de.EMPTY_NODE,kn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return de.EMPTY_NODE}isEmpty(){return!1}}const el=new zN;Object.defineProperties(ye,{MIN:{value:new ye(fa,de.EMPTY_NODE)},MAX:{value:new ye(ls,el)}});Jy.__EMPTY_NODE=de.EMPTY_NODE;ot.__childrenNodeConstructor=de;IN(el);MN(el);const PN=!0;function st(s,t=null){if(s===null)return de.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new ot(i,st(t))}if(!(s instanceof Array)&&PN){const i=[];let r=!1;if(gt(s,(h,m)=>{if(h.substring(0,1)!=="."){const g=st(m);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),i.push(new ye(h,g)))}}),i.length===0)return de.EMPTY_NODE;const u=Vo(i,jN,h=>h.name,Zf);if(r){const h=Vo(i,Qe.getCompare());return new de(u,st(t),new kn({".priority":h},{".priority":Qe}))}else return new de(u,st(t),kn.Default)}else{let i=de.EMPTY_NODE;return gt(s,(r,o)=>{if(gn(s,r)&&r.substring(0,1)!=="."){const u=st(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(st(t))}}DN(st);class BN extends cc{constructor(t){super(),this.indexPath_=t,q(!xe(t)&&Ce(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?ms(t.name,i.name):u}makePost(t,i){const r=st(t),o=de.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(i,o)}maxPost(){const t=de.EMPTY_NODE.updateChild(this.indexPath_,el);return new ye(ls,t)}toString(){return Ur(this.indexPath_,0).join("/")}}class HN extends cc{compare(t,i){const r=t.node.compareTo(i.node);return r===0?ms(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(t,i){const r=st(t);return new ye(i,r)}toString(){return".value"}}const GN=new HN;function s0(s){return{type:"value",snapshotNode:s}}function ha(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function zr(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Pr(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function FN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Jf{constructor(t){this.index_=t}updateChild(t,i,r,o,u,h){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?t.hasChild(i)?h.trackChildChange(zr(i,m)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ha(i,r)):h.trackChildChange(Pr(i,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Qe,(o,u)=>{i.hasChild(o)||r.trackChildChange(zr(o,u))}),i.isLeafNode()||i.forEachChild(Qe,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||r.trackChildChange(Pr(o,u,h))}else r.trackChildChange(ha(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?de.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Br{constructor(t){this.indexedFilter_=new Jf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Br.getStartPost_(t),this.endPost_=Br.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,h){return this.matches(new ye(i,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,h)}updateFullNode(t,i,r){i.isLeafNode()&&(i=de.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(de.EMPTY_NODE);const u=this;return i.forEachChild(Qe,(h,m)=>{u.matches(new ye(h,m))||(o=o.updateImmediateChild(h,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class qN{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Br(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,h){return this.rangedFilter_.matches(new ye(i,r))||(r=de.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,h):this.fullLimitUpdateChild_(t,i,r,u,h)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=de.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(de.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const m=u.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let h;if(this.reverse_){const S=this.index_.getCompare();h=(y,C)=>S(C,y)}else h=this.index_.getCompare();const m=t;q(m.numChildren()===this.limit_,"");const g=new ye(i,r),_=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(m.hasChild(i)){const S=m.getImmediateChild(i);let y=o.getChildAfterChild(this.index_,_,this.reverse_);for(;y!=null&&(y.name===i||m.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const C=y==null?1:h(y,g);if(b&&!r.isEmpty()&&C>=0)return u?.trackChildChange(Pr(i,r,S)),m.updateImmediateChild(i,r);{u?.trackChildChange(zr(i,S));const P=m.updateImmediateChild(i,de.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u?.trackChildChange(ha(y.name,y.node)),P.updateImmediateChild(y.name,y.node)):P}}else return r.isEmpty()?t:b&&h(_,g)>=0?(u!=null&&(u.trackChildChange(zr(_.name,_.node)),u.trackChildChange(ha(i,r))),m.updateImmediateChild(i,r).updateImmediateChild(_.name,de.EMPTY_NODE)):t}}class eh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ls}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const t=new eh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function VN(s){return s.loadsAllData()?new Jf(s.getIndex()):s.hasLimit()?new qN(s):new Br(s)}function Nv(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Qe?i="$priority":s.index_===GN?i="$value":s.index_===ra?i="$key":(q(s.index_ instanceof BN,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=at(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=at(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+at(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=at(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+at(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Cv(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Qe&&(t.i=s.index_.toString()),t}class Yo extends Ky{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Jr("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Yo.getListenId_(t,r),m={};this.listens_[h]=m;const g=Nv(t._queryParams);this.restRequest_(u+".json",g,(_,b)=>{let S=b;if(_===404&&(S=null,_=null),_===null&&this.onDataUpdate_(u,S,!1,r),ua(this.listens_,h)===m){let y;_?_===401?y="permission_denied":y="rest_error:"+_:y="ok",o(y,null)}})}unlisten(t,i){const r=Yo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=Nv(t._queryParams),r=t._path.toString(),o=new Wr;return this.restRequest_(r+".json",i,(u,h)=>{let m=h;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Sa(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Mr(m.responseText)}catch{St("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,g)}else m.status!==401&&m.status!==404&&St("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}class YN{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Xo(){return{value:null,children:new Map}}function a0(s,t,i){if(xe(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=Ce(t);s.children.has(r)||s.children.set(r,Xo());const o=s.children.get(r);t=Ge(t),a0(o,t,i)}}function vf(s,t,i){s.value!==null?i(t,s.value):XN(s,(r,o)=>{const u=new Pe(t.toString()+"/"+r);vf(o,u,i)})}function XN(s,t){s.children.forEach((i,r)=>{t(r,i)})}class KN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&gt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}const wv=10*1e3,QN=30*1e3,WN=300*1e3;class $N{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new KN(t);const r=wv+(QN-wv)*Math.random();Rr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;gt(t,(o,u)=>{u>0&&gn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Rr(this.reportStats_.bind(this),Math.floor(Math.random()*2*WN))}}var an;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function th(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ih(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Ko{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=th()}operationForChild(t){if(xe(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Pe(t));return new Ko(Oe(),i,this.revert)}}else return q(Ce(this.path)===t,"operationForChild called for unrelated child."),new Ko(Ge(this.path),this.affectedTree,this.revert)}}class Hr{constructor(t,i){this.source=t,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(t){return xe(this.path)?new Hr(this.source,Oe()):new Hr(this.source,Ge(this.path))}}class os{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=an.OVERWRITE}operationForChild(t){return xe(this.path)?new os(this.source,Oe(),this.snap.getImmediateChild(t)):new os(this.source,Ge(this.path),this.snap)}}class ma{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=an.MERGE}operationForChild(t){if(xe(this.path)){const i=this.children.subtree(new Pe(t));return i.isEmpty()?null:i.value?new os(this.source,Oe(),i.value):new ma(this.source,Oe(),i)}else return q(Ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ma(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ai{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xe(t))return this.isFullyInitialized()&&!this.filtered_;const i=Ce(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class ZN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function JN(s,t,i,r){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(FN(h.childName,h.snapshotNode))}),Tr(s,o,"child_removed",t,r,i),Tr(s,o,"child_added",t,r,i),Tr(s,o,"child_moved",u,r,i),Tr(s,o,"child_changed",t,r,i),Tr(s,o,"value",t,r,i),o}function Tr(s,t,i,r,o,u){const h=r.filter(m=>m.type===i);h.sort((m,g)=>tC(s,m,g)),h.forEach(m=>{const g=eC(s,m,u);o.forEach(_=>{_.respondsTo(m.type)&&t.push(_.createEvent(g,s.query_))})})}function eC(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function tC(s,t,i){if(t.childName==null||i.childName==null)throw ya("Should only compare child_ events.");const r=new ye(t.childName,t.snapshotNode),o=new ye(i.childName,i.snapshotNode);return s.index_.compare(r,o)}function uc(s,t){return{eventCache:s,serverCache:t}}function Or(s,t,i,r){return uc(new Ai(t,i,r),s.serverCache)}function r0(s,t,i,r){return uc(s.eventCache,new Ai(t,i,r))}function Qo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function cs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let sf;const nC=()=>(sf||(sf=new Ot(BT)),sf);class He{static fromObject(t){let i=new He(null);return gt(t,(r,o)=>{i=i.set(new Pe(r),o)}),i}constructor(t,i=nC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Oe(),value:this.value};if(xe(t))return null;{const r=Ce(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ge(t),i);return u!=null?{path:Ke(new Pe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xe(t))return this;{const i=Ce(t),r=this.children.get(i);return r!==null?r.subtree(Ge(t)):new He(null)}}set(t,i){if(xe(t))return new He(i,this.children);{const r=Ce(t),u=(this.children.get(r)||new He(null)).set(Ge(t),i),h=this.children.insert(r,u);return new He(this.value,h)}}remove(t){if(xe(t))return this.children.isEmpty()?new He(null):new He(null,this.children);{const i=Ce(t),r=this.children.get(i);if(r){const o=r.remove(Ge(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new He(null):new He(this.value,u)}else return this}}get(t){if(xe(t))return this.value;{const i=Ce(t),r=this.children.get(i);return r?r.get(Ge(t)):null}}setTree(t,i){if(xe(t))return i;{const r=Ce(t),u=(this.children.get(r)||new He(null)).setTree(Ge(t),i);let h;return u.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,u),new He(this.value,h)}}fold(t){return this.fold_(Oe(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Ke(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,Oe(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(xe(t))return null;{const u=Ce(t),h=this.children.get(u);return h?h.findOnPath_(Ge(t),Ke(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Oe(),i)}foreachOnPath_(t,i,r){if(xe(t))return this;{this.value&&r(i,this.value);const o=Ce(t),u=this.children.get(o);return u?u.foreachOnPath_(Ge(t),Ke(i,o),r):new He(null)}}foreach(t){this.foreach_(Oe(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Ke(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new He(null))}}function jr(s,t,i){if(xe(t))return new ln(new He(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const h=bt(o,t);return u=u.updateChild(h,i),new ln(s.writeTree_.set(o,u))}else{const o=new He(i),u=s.writeTree_.setTree(t,o);return new ln(u)}}}function yf(s,t,i){let r=s;return gt(i,(o,u)=>{r=jr(r,Ke(t,o),u)}),r}function Av(s,t){if(xe(t))return ln.empty();{const i=s.writeTree_.setTree(t,new He(null));return new ln(i)}}function bf(s,t){return ps(s,t)!=null}function ps(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(bt(i.path,t)):null}function Rv(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Qe,(r,o)=>{t.push(new ye(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new ye(r,o.value))}),t}function Ni(s,t){if(xe(t))return s;{const i=ps(s,t);return i!=null?new ln(new He(i)):new ln(s.writeTree_.subtree(t))}}function Sf(s){return s.writeTree_.isEmpty()}function pa(s,t){return l0(Oe(),s.writeTree_,t)}function l0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=l0(Ke(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(Ke(s,".priority"),r)),i}}function dc(s,t){return d0(t,s)}function iC(s,t,i,r,o){q(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=jr(s.visibleWrites,t,i)),s.lastWriteId=r}function sC(s,t,i,r){q(r>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:r,visible:!0}),s.visibleWrites=yf(s.visibleWrites,t,i),s.lastWriteId=r}function aC(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function rC(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);q(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const m=s.allWrites[h];m.visible&&(h>=i&&lC(m,r.path)?o=!1:Zt(r.path,m.path)&&(u=!0)),h--}if(o){if(u)return oC(s),!0;if(r.snap)s.visibleWrites=Av(s.visibleWrites,r.path);else{const m=r.children;gt(m,g=>{s.visibleWrites=Av(s.visibleWrites,Ke(r.path,g))})}return!0}else return!1}function lC(s,t){if(s.snap)return Zt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Zt(Ke(s.path,i),t))return!0;return!1}function oC(s){s.visibleWrites=o0(s.allWrites,cC,Oe()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function cC(s){return s.visible}function o0(s,t,i){let r=ln.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const h=u.path;let m;if(u.snap)Zt(i,h)?(m=bt(i,h),r=jr(r,m,u.snap)):Zt(h,i)&&(m=bt(h,i),r=jr(r,Oe(),u.snap.getChild(m)));else if(u.children){if(Zt(i,h))m=bt(i,h),r=yf(r,m,u.children);else if(Zt(h,i))if(m=bt(h,i),xe(m))r=yf(r,Oe(),u.children);else{const g=ua(u.children,Ce(m));if(g){const _=g.getChild(Ge(m));r=jr(r,Oe(),_)}}}else throw ya("WriteRecord should have .snap or .children")}}return r}function c0(s,t,i,r,o){if(!r&&!o){const u=ps(s.visibleWrites,t);if(u!=null)return u;{const h=Ni(s.visibleWrites,t);if(Sf(h))return i;if(i==null&&!bf(h,Oe()))return null;{const m=i||de.EMPTY_NODE;return pa(h,m)}}}else{const u=Ni(s.visibleWrites,t);if(!o&&Sf(u))return i;if(!o&&i==null&&!bf(u,Oe()))return null;{const h=function(_){return(_.visible||o)&&(!r||!~r.indexOf(_.writeId))&&(Zt(_.path,t)||Zt(t,_.path))},m=o0(s.allWrites,h,t),g=i||de.EMPTY_NODE;return pa(m,g)}}}function uC(s,t,i){let r=de.EMPTY_NODE;const o=ps(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Qe,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(i){const u=Ni(s.visibleWrites,t);return i.forEachChild(Qe,(h,m)=>{const g=pa(Ni(u,new Pe(h)),m);r=r.updateImmediateChild(h,g)}),Rv(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const u=Ni(s.visibleWrites,t);return Rv(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function dC(s,t,i,r,o){q(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ke(t,i);if(bf(s.visibleWrites,u))return null;{const h=Ni(s.visibleWrites,u);return Sf(h)?o.getChild(i):pa(h,o.getChild(i))}}function fC(s,t,i,r){const o=Ke(t,i),u=ps(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const h=Ni(s.visibleWrites,o);return pa(h,r.getNode().getImmediateChild(i))}else return null}function hC(s,t){return ps(s.visibleWrites,t)}function mC(s,t,i,r,o,u,h){let m;const g=Ni(s.visibleWrites,t),_=ps(g,Oe());if(_!=null)m=_;else if(i!=null)m=pa(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const b=[],S=h.getCompare(),y=u?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let C=y.getNext();for(;C&&b.length<o;)S(C,r)!==0&&b.push(C),C=y.getNext();return b}else return[]}function pC(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Wo(s,t,i,r){return c0(s.writeTree,s.treePath,t,i,r)}function sh(s,t){return uC(s.writeTree,s.treePath,t)}function Ov(s,t,i,r){return dC(s.writeTree,s.treePath,t,i,r)}function $o(s,t){return hC(s.writeTree,Ke(s.treePath,t))}function gC(s,t,i,r,o,u){return mC(s.writeTree,s.treePath,t,i,r,o,u)}function ah(s,t,i){return fC(s.writeTree,s.treePath,t,i)}function u0(s,t){return d0(Ke(s.treePath,t),s.writeTree)}function d0(s,t){return{treePath:s,writeTree:t}}class _C{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Pr(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,zr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ha(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Pr(r,t.snapshotNode,o.oldSnap));else throw ya("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class vC{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const f0=new vC;class rh{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ah(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cs(this.viewCache_),u=gC(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}function yC(s){return{filter:s}}function bC(s,t){q(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function SC(s,t,i,r,o){const u=new _C;let h,m;if(i.type===an.OVERWRITE){const _=i;_.source.fromUser?h=Ef(s,t,_.path,_.snap,r,o,u):(q(_.source.fromServer,"Unknown source."),m=_.source.tagged||t.serverCache.isFiltered()&&!xe(_.path),h=Zo(s,t,_.path,_.snap,r,o,m,u))}else if(i.type===an.MERGE){const _=i;_.source.fromUser?h=xC(s,t,_.path,_.children,r,o,u):(q(_.source.fromServer,"Unknown source."),m=_.source.tagged||t.serverCache.isFiltered(),h=xf(s,t,_.path,_.children,r,o,m,u))}else if(i.type===an.ACK_USER_WRITE){const _=i;_.revert?h=CC(s,t,_.path,r,o,u):h=TC(s,t,_.path,_.affectedTree,r,o,u)}else if(i.type===an.LISTEN_COMPLETE)h=NC(s,t,i.path,r,u);else throw ya("Unknown operation type: "+i.type);const g=u.getChanges();return EC(t,h,g),{viewCache:h,changes:g}}function EC(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Qo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(s0(Qo(t)))}}function h0(s,t,i,r,o,u){const h=t.eventCache;if($o(r,i)!=null)return t;{let m,g;if(xe(i))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=cs(t),b=_ instanceof de?_:de.EMPTY_NODE,S=sh(r,b);m=s.filter.updateFullNode(t.eventCache.getNode(),S,u)}else{const _=Wo(r,cs(t));m=s.filter.updateFullNode(t.eventCache.getNode(),_,u)}else{const _=Ce(i);if(_===".priority"){q(wi(i)===1,"Can't have a priority with additional path components");const b=h.getNode();g=t.serverCache.getNode();const S=Ov(r,i,b,g);S!=null?m=s.filter.updatePriority(b,S):m=h.getNode()}else{const b=Ge(i);let S;if(h.isCompleteForChild(_)){g=t.serverCache.getNode();const y=Ov(r,i,h.getNode(),g);y!=null?S=h.getNode().getImmediateChild(_).updateChild(b,y):S=h.getNode().getImmediateChild(_)}else S=ah(r,_,t.serverCache);S!=null?m=s.filter.updateChild(h.getNode(),_,S,b,o,u):m=h.getNode()}}return Or(t,m,h.isFullyInitialized()||xe(i),s.filter.filtersNodes())}}function Zo(s,t,i,r,o,u,h,m){const g=t.serverCache;let _;const b=h?s.filter:s.filter.getIndexedFilter();if(xe(i))_=b.updateFullNode(g.getNode(),r,null);else if(b.filtersNodes()&&!g.isFiltered()){const C=g.getNode().updateChild(i,r);_=b.updateFullNode(g.getNode(),C,null)}else{const C=Ce(i);if(!g.isCompleteForPath(i)&&wi(i)>1)return t;const I=Ge(i),B=g.getNode().getImmediateChild(C).updateChild(I,r);C===".priority"?_=b.updatePriority(g.getNode(),B):_=b.updateChild(g.getNode(),C,B,I,f0,null)}const S=r0(t,_,g.isFullyInitialized()||xe(i),b.filtersNodes()),y=new rh(o,S,u);return h0(s,S,i,o,y,m)}function Ef(s,t,i,r,o,u,h){const m=t.eventCache;let g,_;const b=new rh(o,t,u);if(xe(i))_=s.filter.updateFullNode(t.eventCache.getNode(),r,h),g=Or(t,_,!0,s.filter.filtersNodes());else{const S=Ce(i);if(S===".priority")_=s.filter.updatePriority(t.eventCache.getNode(),r),g=Or(t,_,m.isFullyInitialized(),m.isFiltered());else{const y=Ge(i),C=m.getNode().getImmediateChild(S);let I;if(xe(y))I=r;else{const P=b.getCompleteChild(S);P!=null?Wf(y)===".priority"&&P.getChild(Wy(y)).isEmpty()?I=P:I=P.updateChild(y,r):I=de.EMPTY_NODE}if(C.equals(I))g=t;else{const P=s.filter.updateChild(m.getNode(),S,I,y,b,h);g=Or(t,P,m.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function jv(s,t){return s.eventCache.isCompleteForChild(t)}function xC(s,t,i,r,o,u,h){let m=t;return r.foreach((g,_)=>{const b=Ke(i,g);jv(t,Ce(b))&&(m=Ef(s,m,b,_,o,u,h))}),r.foreach((g,_)=>{const b=Ke(i,g);jv(t,Ce(b))||(m=Ef(s,m,b,_,o,u,h))}),m}function Iv(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function xf(s,t,i,r,o,u,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,_;xe(i)?_=r:_=new He(null).setTree(i,r);const b=t.serverCache.getNode();return _.children.inorderTraversal((S,y)=>{if(b.hasChild(S)){const C=t.serverCache.getNode().getImmediateChild(S),I=Iv(s,C,y);g=Zo(s,g,new Pe(S),I,o,u,h,m)}}),_.children.inorderTraversal((S,y)=>{const C=!t.serverCache.isCompleteForChild(S)&&y.value===null;if(!b.hasChild(S)&&!C){const I=t.serverCache.getNode().getImmediateChild(S),P=Iv(s,I,y);g=Zo(s,g,new Pe(S),P,o,u,h,m)}}),g}function TC(s,t,i,r,o,u,h){if($o(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(r.value!=null){if(xe(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Zo(s,t,i,g.getNode().getChild(i),o,u,m,h);if(xe(i)){let _=new He(null);return g.getNode().forEachChild(ra,(b,S)=>{_=_.set(new Pe(b),S)}),xf(s,t,i,_,o,u,m,h)}else return t}else{let _=new He(null);return r.foreach((b,S)=>{const y=Ke(i,b);g.isCompleteForPath(y)&&(_=_.set(b,g.getNode().getChild(y)))}),xf(s,t,i,_,o,u,m,h)}}function NC(s,t,i,r,o){const u=t.serverCache,h=r0(t,u.getNode(),u.isFullyInitialized()||xe(i),u.isFiltered());return h0(s,h,i,r,f0,o)}function CC(s,t,i,r,o,u){let h;if($o(r,i)!=null)return t;{const m=new rh(r,t,o),g=t.eventCache.getNode();let _;if(xe(i)||Ce(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Wo(r,cs(t));else{const S=t.serverCache.getNode();q(S instanceof de,"serverChildren would be complete if leaf node"),b=sh(r,S)}b=b,_=s.filter.updateFullNode(g,b,u)}else{const b=Ce(i);let S=ah(r,b,t.serverCache);S==null&&t.serverCache.isCompleteForChild(b)&&(S=g.getImmediateChild(b)),S!=null?_=s.filter.updateChild(g,b,S,Ge(i),m,u):t.eventCache.getNode().hasChild(b)?_=s.filter.updateChild(g,b,de.EMPTY_NODE,Ge(i),m,u):_=g,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Wo(r,cs(t)),h.isLeafNode()&&(_=s.filter.updateFullNode(_,h,u)))}return h=t.serverCache.isFullyInitialized()||$o(r,Oe())!=null,Or(t,_,h,s.filter.filtersNodes())}}class wC{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Jf(r.getIndex()),u=VN(r);this.processor_=yC(u);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(de.EMPTY_NODE,h.getNode(),null),_=u.updateFullNode(de.EMPTY_NODE,m.getNode(),null),b=new Ai(g,h.isFullyInitialized(),o.filtersNodes()),S=new Ai(_,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=uc(S,b),this.eventGenerator_=new ZN(this.query_)}get query(){return this.query_}}function AC(s){return s.viewCache_.serverCache.getNode()}function RC(s){return Qo(s.viewCache_)}function OC(s,t){const i=cs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!xe(t)&&!i.getImmediateChild(Ce(t)).isEmpty())?i.getChild(t):null}function Dv(s){return s.eventRegistrations_.length===0}function jC(s,t){s.eventRegistrations_.push(t)}function Mv(s,t,i){const r=[];if(i){q(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&r.push(h)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function kv(s,t,i,r){t.type===an.MERGE&&t.source.queryId!==null&&(q(cs(s.viewCache_),"We should always have a full cache before handling merges"),q(Qo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=SC(s.processor_,o,t,i,r);return bC(s.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,m0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function IC(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Qe,(u,h)=>{r.push(ha(u,h))}),i.isFullyInitialized()&&r.push(s0(i.getNode())),m0(s,r,i.getNode(),t)}function m0(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return JN(s.eventGenerator_,t,i,o)}let Jo;class p0{constructor(){this.views=new Map}}function DC(s){q(!Jo,"__referenceConstructor has already been defined"),Jo=s}function MC(){return q(Jo,"Reference.ts has not been loaded"),Jo}function kC(s){return s.views.size===0}function lh(s,t,i,r){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return q(u!=null,"SyncTree gave us an op for an invalid query."),kv(u,t,i,r)}else{let u=[];for(const h of s.views.values())u=u.concat(kv(h,t,i,r));return u}}function g0(s,t,i,r,o){const u=t._queryIdentifier,h=s.views.get(u);if(!h){let m=Wo(i,o?r:null),g=!1;m?g=!0:r instanceof de?(m=sh(i,r),g=!1):(m=de.EMPTY_NODE,g=!1);const _=uc(new Ai(m,g,!1),new Ai(r,o,!1));return new wC(t,_)}return h}function LC(s,t,i,r,o,u){const h=g0(s,t,r,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),jC(h,i),IC(h,i)}function UC(s,t,i,r){const o=t._queryIdentifier,u=[];let h=[];const m=Ri(s);if(o==="default")for(const[g,_]of s.views.entries())h=h.concat(Mv(_,i,r)),Dv(_)&&(s.views.delete(g),_.query._queryParams.loadsAllData()||u.push(_.query));else{const g=s.views.get(o);g&&(h=h.concat(Mv(g,i,r)),Dv(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return m&&!Ri(s)&&u.push(new(MC())(t._repo,t._path)),{removed:u,events:h}}function _0(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ci(s,t){let i=null;for(const r of s.views.values())i=i||OC(r,t);return i}function v0(s,t){if(t._queryParams.loadsAllData())return fc(s);{const r=t._queryIdentifier;return s.views.get(r)}}function y0(s,t){return v0(s,t)!=null}function Ri(s){return fc(s)!=null}function fc(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ec;function zC(s){q(!ec,"__referenceConstructor has already been defined"),ec=s}function PC(){return q(ec,"Reference.ts has not been loaded"),ec}let BC=1;class Lv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new He(null),this.pendingWriteTree_=pC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function b0(s,t,i,r,o){return iC(s.pendingWriteTree_,t,i,r,o),o?Ta(s,new os(th(),t,i)):[]}function HC(s,t,i,r){sC(s.pendingWriteTree_,t,i,r);const o=He.fromObject(i);return Ta(s,new ma(th(),t,o))}function Si(s,t,i=!1){const r=aC(s.pendingWriteTree_,t);if(rC(s.pendingWriteTree_,t)){let u=new He(null);return r.snap!=null?u=u.set(Oe(),!0):gt(r.children,h=>{u=u.set(new Pe(h),!0)}),Ta(s,new Ko(r.path,u,i))}else return[]}function tl(s,t,i){return Ta(s,new os(nh(),t,i))}function GC(s,t,i){const r=He.fromObject(i);return Ta(s,new ma(nh(),t,r))}function FC(s,t){return Ta(s,new Hr(nh(),t))}function qC(s,t,i){const r=ch(s,i);if(r){const o=uh(r),u=o.path,h=o.queryId,m=bt(u,t),g=new Hr(ih(h),m);return dh(s,u,g)}else return[]}function S0(s,t,i,r,o=!1){const u=t._path,h=s.syncPointTree_.get(u);let m=[];if(h&&(t._queryIdentifier==="default"||y0(h,t))){const g=UC(h,t,i,r);kC(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const _=g.removed;if(m=g.events,!o){const b=_.findIndex(y=>y._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(u,(y,C)=>Ri(C));if(b&&!S){const y=s.syncPointTree_.subtree(u);if(!y.isEmpty()){const C=KC(y);for(let I=0;I<C.length;++I){const P=C[I],B=P.query,Z=N0(s,P);s.listenProvider_.startListening(Ir(B),Gr(s,B),Z.hashFn,Z.onComplete)}}}!S&&_.length>0&&!r&&(b?s.listenProvider_.stopListening(Ir(t),null):_.forEach(y=>{const C=s.queryToTagMap.get(hc(y));s.listenProvider_.stopListening(Ir(y),C)}))}QC(s,_)}return m}function E0(s,t,i,r){const o=ch(s,r);if(o!=null){const u=uh(o),h=u.path,m=u.queryId,g=bt(h,t),_=new os(ih(m),g,i);return dh(s,h,_)}else return[]}function VC(s,t,i,r){const o=ch(s,r);if(o){const u=uh(o),h=u.path,m=u.queryId,g=bt(h,t),_=He.fromObject(i),b=new ma(ih(m),g,_);return dh(s,h,b)}else return[]}function YC(s,t,i,r=!1){const o=t._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(o,(y,C)=>{const I=bt(y,o);u=u||Ci(C,I),h=h||Ri(C)});let m=s.syncPointTree_.get(o);m?(h=h||Ri(m),u=u||Ci(m,Oe())):(m=new p0,s.syncPointTree_=s.syncPointTree_.set(o,m));let g;u!=null?g=!0:(g=!1,u=de.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((C,I)=>{const P=Ci(I,Oe());P&&(u=u.updateImmediateChild(C,P))}));const _=y0(m,t);if(!_&&!t._queryParams.loadsAllData()){const y=hc(t);q(!s.queryToTagMap.has(y),"View does not exist, but we have a tag");const C=WC();s.queryToTagMap.set(y,C),s.tagToQueryMap.set(C,y)}const b=dc(s.pendingWriteTree_,o);let S=LC(m,t,i,b,u,g);if(!_&&!h&&!r){const y=v0(m,t);S=S.concat($C(s,t,y))}return S}function oh(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(h,m)=>{const g=bt(h,t),_=Ci(m,g);if(_)return _});return c0(o,t,u,i,!0)}function XC(s,t){const i=t._path;let r=null;s.syncPointTree_.foreachOnPath(i,(_,b)=>{const S=bt(_,i);r=r||Ci(b,S)});let o=s.syncPointTree_.get(i);o?r=r||Ci(o,Oe()):(o=new p0,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,h=u?new Ai(r,!0,!1):null,m=dc(s.pendingWriteTree_,t._path),g=g0(o,t,m,u?h.getNode():de.EMPTY_NODE,u);return RC(g)}function Ta(s,t){return x0(t,s.syncPointTree_,null,dc(s.pendingWriteTree_,Oe()))}function x0(s,t,i,r){if(xe(s.path))return T0(s,t,i,r);{const o=t.get(Oe());i==null&&o!=null&&(i=Ci(o,Oe()));let u=[];const h=Ce(s.path),m=s.operationForChild(h),g=t.children.get(h);if(g&&m){const _=i?i.getImmediateChild(h):null,b=u0(r,h);u=u.concat(x0(m,g,_,b))}return o&&(u=u.concat(lh(o,s,r,i))),u}}function T0(s,t,i,r){const o=t.get(Oe());i==null&&o!=null&&(i=Ci(o,Oe()));let u=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,_=u0(r,h),b=s.operationForChild(h);b&&(u=u.concat(T0(b,m,g,_)))}),o&&(u=u.concat(lh(o,s,r,i))),u}function N0(s,t){const i=t.query,r=Gr(s,i);return{hashFn:()=>(AC(t)||de.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?qC(s,i._path,r):FC(s,i._path);{const u=FT(o,i);return S0(s,i,null,u)}}}}function Gr(s,t){const i=hc(t);return s.queryToTagMap.get(i)}function hc(s){return s._path.toString()+"$"+s._queryIdentifier}function ch(s,t){return s.tagToQueryMap.get(t)}function uh(s){const t=s.indexOf("$");return q(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Pe(s.substr(0,t))}}function dh(s,t,i){const r=s.syncPointTree_.get(t);q(r,"Missing sync point for query tag that we're tracking");const o=dc(s.pendingWriteTree_,t);return lh(r,i,o,null)}function KC(s){return s.fold((t,i,r)=>{if(i&&Ri(i))return[fc(i)];{let o=[];return i&&(o=_0(i)),gt(r,(u,h)=>{o=o.concat(h)}),o}})}function Ir(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(PC())(s._repo,s._path):s}function QC(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=hc(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function WC(){return BC++}function $C(s,t,i){const r=t._path,o=Gr(s,t),u=N0(s,i),h=s.listenProvider_.startListening(Ir(t),o,u.hashFn,u.onComplete),m=s.syncPointTree_.subtree(r);if(o)q(!Ri(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((_,b,S)=>{if(!xe(_)&&b&&Ri(b))return[fc(b).query];{let y=[];return b&&(y=y.concat(_0(b).map(C=>C.query))),gt(S,(C,I)=>{y=y.concat(I)}),y}});for(let _=0;_<g.length;++_){const b=g[_];s.listenProvider_.stopListening(Ir(b),Gr(s,b))}}return h}class fh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new fh(i)}node(){return this.node_}}class hh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ke(this.path_,t);return new hh(this.syncTree_,i)}node(){return oh(this.syncTree_,this.path_)}}const ZC=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Uv=function(s,t,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return JC(s[".sv"],t,i);if(typeof s[".sv"]=="object")return ew(s[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},JC=function(s,t,i){if(s==="timestamp")return i.timestamp;q(!1,"Unexpected server value: "+s)},ew=function(s,t,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const o=t.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},C0=function(s,t,i,r){return mh(t,new hh(i,s),r)},w0=function(s,t,i){return mh(s,new fh(t),i)};function mh(s,t,i){const r=s.getPriority().val(),o=Uv(r,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,m=Uv(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new ot(m,st(o)):s}else{const h=s;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new ot(o))),h.forEachChild(Qe,(m,g)=>{const _=mh(g,t.getImmediateChild(m),i);_!==g&&(u=u.updateImmediateChild(m,_))}),u}}class ph{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function gh(s,t){let i=t instanceof Pe?t:new Pe(t),r=s,o=Ce(i);for(;o!==null;){const u=ua(r.node.children,o)||{children:{},childCount:0};r=new ph(o,r,u),i=Ge(i),o=Ce(i)}return r}function Na(s){return s.node.value}function A0(s,t){s.node.value=t,Tf(s)}function R0(s){return s.node.childCount>0}function tw(s){return Na(s)===void 0&&!R0(s)}function mc(s,t){gt(s.node.children,(i,r)=>{t(new ph(i,s,r))})}function O0(s,t,i,r){i&&t(s),mc(s,o=>{O0(o,t,!0)})}function nw(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function nl(s){return new Pe(s.parent===null?s.name:nl(s.parent)+"/"+s.name)}function Tf(s){s.parent!==null&&iw(s.parent,s.name,s)}function iw(s,t,i){const r=tw(i),o=gn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,Tf(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Tf(s))}const sw=/[\[\].#$\/\u0000-\u001F\u007F]/,aw=/[\[\].#$\u0000-\u001F\u007F]/,af=10*1024*1024,_h=function(s){return typeof s=="string"&&s.length!==0&&!sw.test(s)},j0=function(s){return typeof s=="string"&&s.length!==0&&!aw.test(s)},rw=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),j0(s)},lw=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Vf(s)||s&&typeof s=="object"&&gn(s,".sv")},ow=function(s,t,i,r){pc(lc(s,"value"),t,i)},pc=function(s,t,i){const r=i instanceof Pe?new xN(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Zi(r));if(typeof t=="function")throw new Error(s+"contains a function "+Zi(r)+" with contents = "+t.toString());if(Vf(t))throw new Error(s+"contains "+t.toString()+" "+Zi(r));if(typeof t=="string"&&t.length>af/3&&oc(t)>af)throw new Error(s+"contains a string greater than "+af+" utf8 bytes "+Zi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(gt(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!_h(h)))throw new Error(s+" contains an invalid key ("+h+") "+Zi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TN(r,h),pc(s,m,r),NN(r)}),o&&u)throw new Error(s+' contains ".value" child '+Zi(r)+" in addition to actual children.")}},cw=function(s,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const u=Ur(r);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!_h(u[h]))throw new Error(s+"contains an invalid key ("+u[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(EN);let o=null;for(i=0;i<t.length;i++){if(r=t[i],o!==null&&Zt(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},uw=function(s,t,i,r){const o=lc(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];gt(t,(h,m)=>{const g=new Pe(h);if(pc(o,m,Ke(i,g)),Wf(g)===".priority"&&!lw(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(g)}),cw(o,u)},I0=function(s,t,i,r){if(!j0(i))throw new Error(lc(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dw=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),I0(s,t,i)},fw=function(s,t){if(Ce(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},hw=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!_h(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!rw(i))throw new Error(lc(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class mw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vh(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!$y(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function Jt(s,t,i){vh(s,i),pw(s,r=>Zt(r,t)||Zt(t,r))}function pw(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;t(u)?(gw(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function gw(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();Ar&&pt("event: "+i.toString()),xa(r)}}}const _w="repo_interrupt",vw=25;class yw{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xo(),this.transactionQueueTree_=new ph,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bw(s,t,i){if(s.stats_=Kf(s.repoInfo_),s.forceRestClient_||XT())s.server_=new Yo(s.repoInfo_,(r,o,u,h)=>{zv(s,r,o,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Pv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new zn(s.repoInfo_,t,(r,o,u,h)=>{zv(s,r,o,u,h)},r=>{Pv(s,r)},r=>{Ew(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=ZT(s.repoInfo_,()=>new $N(s.stats_,s.server_)),s.infoData_=new YN,s.infoSyncTree_=new Lv({startListening:(r,o,u,h)=>{let m=[];const g=s.infoData_.getNode(r._path);return g.isEmpty()||(m=tl(s.infoSyncTree_,r._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),yh(s,"connected",!1),s.serverSyncTree_=new Lv({startListening:(r,o,u,h)=>(s.server_.listen(r,u,o,(m,g)=>{const _=h(m,g);Jt(s.eventQueue_,r._path,_)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function Sw(s){const i=s.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function gc(s){return ZC({timestamp:Sw(s)})}function zv(s,t,i,r,o){s.dataUpdateCount++;const u=new Pe(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(r){const g=Ho(i,_=>st(_));h=VC(s.serverSyncTree_,u,g,o)}else{const g=st(i);h=E0(s.serverSyncTree_,u,g,o)}else if(r){const g=Ho(i,_=>st(_));h=GC(s.serverSyncTree_,u,g)}else{const g=st(i);h=tl(s.serverSyncTree_,u,g)}let m=u;h.length>0&&(m=ga(s,u)),Jt(s.eventQueue_,m,h)}function Pv(s,t){yh(s,"connected",t),t===!1&&Cw(s)}function Ew(s,t){gt(t,(i,r)=>{yh(s,i,r)})}function yh(s,t,i){const r=new Pe("/.info/"+t),o=st(i);s.infoData_.updateSnapshot(r,o);const u=tl(s.infoSyncTree_,r,o);Jt(s.eventQueue_,r,u)}function bh(s){return s.nextWriteId_++}function xw(s,t,i){const r=XC(s.serverSyncTree_,t);return r!=null?Promise.resolve(r):s.server_.get(t).then(o=>{const u=st(o).withIndex(t._queryParams.getIndex());YC(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=tl(s.serverSyncTree_,t._path,u);else{const m=Gr(s.serverSyncTree_,t);h=E0(s.serverSyncTree_,t._path,u,m)}return Jt(s.eventQueue_,t._path,h),S0(s.serverSyncTree_,t,i,null,!0),u},o=>(il(s,"get for query "+at(t)+" failed: "+o),Promise.reject(new Error(o))))}function Tw(s,t,i,r,o){il(s,"set",{path:t.toString(),value:i,priority:r});const u=gc(s),h=st(i,r),m=oh(s.serverSyncTree_,t),g=w0(h,m,u),_=bh(s),b=b0(s.serverSyncTree_,t,g,_,!0);vh(s.eventQueue_,b),s.server_.put(t.toString(),h.val(!0),(y,C)=>{const I=y==="ok";I||St("set at "+t+" failed: "+y);const P=Si(s.serverSyncTree_,_,!I);Jt(s.eventQueue_,t,P),Nf(s,o,y,C)});const S=Eh(s,t);ga(s,S),Jt(s.eventQueue_,S,[])}function Nw(s,t,i,r){il(s,"update",{path:t.toString(),value:i});let o=!0;const u=gc(s),h={};if(gt(i,(m,g)=>{o=!1,h[m]=C0(Ke(t,m),st(g),s.serverSyncTree_,u)}),o)pt("update() called with empty data.  Don't do anything."),Nf(s,r,"ok",void 0);else{const m=bh(s),g=HC(s.serverSyncTree_,t,h,m);vh(s.eventQueue_,g),s.server_.merge(t.toString(),i,(_,b)=>{const S=_==="ok";S||St("update at "+t+" failed: "+_);const y=Si(s.serverSyncTree_,m,!S),C=y.length>0?ga(s,t):t;Jt(s.eventQueue_,C,y),Nf(s,r,_,b)}),gt(i,_=>{const b=Eh(s,Ke(t,_));ga(s,b)}),Jt(s.eventQueue_,t,[])}}function Cw(s){il(s,"onDisconnectEvents");const t=gc(s),i=Xo();vf(s.onDisconnect_,Oe(),(o,u)=>{const h=C0(o,u,s.serverSyncTree_,t);a0(i,o,h)});let r=[];vf(i,Oe(),(o,u)=>{r=r.concat(tl(s.serverSyncTree_,o,u));const h=Eh(s,o);ga(s,h)}),s.onDisconnect_=Xo(),Jt(s.eventQueue_,Oe(),r)}function ww(s){s.persistentConnection_&&s.persistentConnection_.interrupt(_w)}function il(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),pt(i,...t)}function Nf(s,t,i,r){t&&xa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const h=new Error(u);h.code=o,t(h)}})}function D0(s,t,i){return oh(s.serverSyncTree_,t,i)||de.EMPTY_NODE}function Sh(s,t=s.transactionQueueTree_){if(t||_c(s,t),Na(t)){const i=k0(s,t);q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&Aw(s,nl(t),i)}else R0(t)&&mc(t,i=>{Sh(s,i)})}function Aw(s,t,i){const r=i.map(_=>_.currentWriteId),o=D0(s,t,r);let u=o;const h=o.hash();for(let _=0;_<i.length;_++){const b=i[_];q(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const S=bt(t,b.path);u=u.updateChild(S,b.currentOutputSnapshotRaw)}const m=u.val(!0),g=t;s.server_.put(g.toString(),m,_=>{il(s,"transaction put response",{path:g.toString(),status:_});let b=[];if(_==="ok"){const S=[];for(let y=0;y<i.length;y++)i[y].status=2,b=b.concat(Si(s.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&S.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();_c(s,gh(s.transactionQueueTree_,t)),Sh(s,s.transactionQueueTree_),Jt(s.eventQueue_,t,b);for(let y=0;y<S.length;y++)xa(S[y])}else{if(_==="datastale")for(let S=0;S<i.length;S++)i[S].status===3?i[S].status=4:i[S].status=0;else{St("transaction at "+g.toString()+" failed: "+_);for(let S=0;S<i.length;S++)i[S].status=4,i[S].abortReason=_}ga(s,t)}},h)}function ga(s,t){const i=M0(s,t),r=nl(i),o=k0(s,i);return Rw(s,o,r),r}function Rw(s,t,i){if(t.length===0)return;const r=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],_=bt(i,g.path);let b=!1,S;if(q(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,S=g.abortReason,o=o.concat(Si(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=vw)b=!0,S="maxretry",o=o.concat(Si(s.serverSyncTree_,g.currentWriteId,!0));else{const y=D0(s,g.path,h);g.currentInputSnapshot=y;const C=t[m].update(y.val());if(C!==void 0){pc("transaction failed: Data returned ",C,g.path);let I=st(C);typeof C=="object"&&C!=null&&gn(C,".priority")||(I=I.updatePriority(y.getPriority()));const B=g.currentWriteId,Z=gc(s),Y=w0(I,y,Z);g.currentOutputSnapshotRaw=I,g.currentOutputSnapshotResolved=Y,g.currentWriteId=bh(s),h.splice(h.indexOf(B),1),o=o.concat(b0(s.serverSyncTree_,g.path,Y,g.currentWriteId,g.applyLocally)),o=o.concat(Si(s.serverSyncTree_,B,!0))}else b=!0,S="nodata",o=o.concat(Si(s.serverSyncTree_,g.currentWriteId,!0))}Jt(s.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(y){setTimeout(y,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(S==="nodata"?r.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):r.push(()=>t[m].onComplete(new Error(S),!1,null))))}_c(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)xa(r[m]);Sh(s,s.transactionQueueTree_)}function M0(s,t){let i,r=s.transactionQueueTree_;for(i=Ce(t);i!==null&&Na(r)===void 0;)r=gh(r,i),t=Ge(t),i=Ce(t);return r}function k0(s,t){const i=[];return L0(s,t,i),i.sort((r,o)=>r.order-o.order),i}function L0(s,t,i){const r=Na(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);mc(t,o=>{L0(s,o,i)})}function _c(s,t){const i=Na(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,A0(t,i.length>0?i:void 0)}mc(t,r=>{_c(s,r)})}function Eh(s,t){const i=nl(M0(s,t)),r=gh(s.transactionQueueTree_,t);return nw(r,o=>{rf(s,o)}),rf(s,r),O0(r,o=>{rf(s,o)}),i}function rf(s,t){const i=Na(t);if(i){const r=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(q(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Si(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?A0(t,void 0):i.length=u+1,Jt(s.eventQueue_,nl(t),o);for(let h=0;h<r.length;h++)xa(r[h])}}function Ow(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function jw(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):St(`Invalid query segment '${i}' in query '${s}'`)}return t}const Bv=function(s,t){const i=Iw(s),r=i.namespace;i.domain==="firebase.com"&&Hn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||zT();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Hy(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new Pe(i.pathString)}},Iw=function(s){let t="",i="",r="",o="",u="",h=!0,m="https",g=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(m=s.substring(0,_-1),s=s.substring(_+2));let b=s.indexOf("/");b===-1&&(b=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),t=s.substring(0,Math.min(b,S)),b<S&&(o=Ow(s.substring(b,S)));const y=jw(s.substring(Math.min(s.length,S)));_=t.indexOf(":"),_>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(_+1),10)):_=t.length;const C=t.slice(0,_);if(C.toLowerCase()==="localhost")i="localhost";else if(C.split(".").length<=2)i=C;else{const I=t.indexOf(".");r=t.substring(0,I).toLowerCase(),i=t.substring(I+1),u=r}"ns"in y&&(u=y.ns)}return{host:t,port:g,domain:i,subdomain:r,secure:h,scheme:m,pathString:o,namespace:u}};class Dw{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class Mw{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kw{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class xh{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return xe(this._path)?null:Wf(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){const t=Cv(this._queryParams),i=Yf(t);return i==="{}"?"default":i}get _queryObject(){return Cv(this._queryParams)}isEqual(t){if(t=vt(t),!(t instanceof xh))return!1;const i=this._repo===t._repo,r=$y(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+SN(this._path)}}class Fn extends xh{constructor(t,i){super(t,i,new eh,!1)}get parent(){const t=Wy(this._path);return t===null?null:new Fn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Fr{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Pe(t),r=Cf(this.ref,t);return new Fr(this._node.getChild(i),r,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new Fr(o,Cf(this.ref,r),Qe)))}hasChild(t){const i=new Pe(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ts(s,t){return s=vt(s),s._checkNotDeleted("ref"),t!==void 0?Cf(s._root,t):s._root}function Cf(s,t){return s=vt(s),Ce(s._path)===null?dw("child","path",t):I0("child","path",t),new Fn(s._repo,Ke(s._path,t))}function wf(s,t){s=vt(s),fw("set",s._path),ow("set",t,s._path);const i=new Wr;return Tw(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function Lw(s,t){uw("update",t,s._path);const i=new Wr;return Nw(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function qr(s){s=vt(s);const t=new kw(()=>{}),i=new Th(t);return xw(s._repo,s,i).then(r=>new Fr(r,new Fn(s._repo,s._path),s._queryParams.getIndex()))}class Th{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new Dw("value",this,new Fr(t.snapshotNode,new Fn(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new Mw(this,t,i):null}matches(t){return t instanceof Th?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}DC(Fn);zC(Fn);const Uw="FIREBASE_DATABASE_EMULATOR_HOST",Af={};let zw=!1;function Pw(s,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=ba(u);s.repoInfo_=new Hy(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function Bw(s,t,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Bv(u,o),m=h.repoInfo,g;typeof process<"u"&&ov&&(g=ov[Uw]),g?(u=`http://${g}?ns=${m.namespace}`,h=Bv(u,o),m=h.repoInfo):h.repoInfo.secure;const _=new QT(s.name,s.options,t);hw("Invalid Firebase Database URL",h),xe(h.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=Gw(m,s,_,new KT(s,i));return new Fw(b,s)}function Hw(s,t){const i=Af[t];(!i||i[s.key]!==s)&&Hn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),ww(s),delete i[s.key]}function Gw(s,t,i,r){let o=Af[t.name];o||(o={},Af[t.name]=o);let u=o[s.toURLString()];return u&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new yw(s,zw,i,r),o[s.toURLString()]=u,u}class Fw{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Hw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Hn("Cannot call "+t+" on a deleted database.")}}function qw(s=Ty(),t){const i=qf(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=sx("database");r&&Vw(i,...r)}return i}function Vw(s,t,i,r={}){s=vt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&as(r,u.repoInfo_.emulatorOptions))return;Hn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Do(Do.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:ax(r.mockUserToken,s.app.options.projectId);h=new Do(m)}ba(t)&&(_y(t),vy("Database",!0)),Pw(u,o,r,h)}function Yw(s){IT(Ea),da(new rs("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return Bw(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ti(cv,uv,s),Ti(cv,uv,"esm2020")}zn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};zn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};Yw();var Xw="firebase",Kw="12.9.0";Ti(Xw,Kw,"app");function U0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qw=U0,z0=new $r("auth","Firebase",U0());const tc=new Gf("@firebase/auth");function Ww(s,...t){tc.logLevel<=ze.WARN&&tc.warn(`Auth (${Ea}): ${s}`,...t)}function Mo(s,...t){tc.logLevel<=ze.ERROR&&tc.error(`Auth (${Ea}): ${s}`,...t)}function on(s,...t){throw Nh(s,...t)}function mn(s,...t){return Nh(s,...t)}function P0(s,t,i){const r={...Qw(),[t]:i};return new $r("auth","Firebase",r).create(t,{appName:s.name})}function Pn(s){return P0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nh(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return z0.create(s,...t)}function ue(s,t,...i){if(!s)throw Nh(t,...i)}function Ln(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mo(t),new Error(t)}function Gn(s,t){s||Ln(t)}function Rf(){return typeof self<"u"&&self.location?.href||""}function $w(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}function Zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($w()||cx()||"connection"in navigator)?navigator.onLine:!0}function Jw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class sl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gn(i>t,"Short delay should be less than long delay!"),this.isMobile=Hf()||yy()}get(){return Zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ch(s,t){Gn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class B0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nA=new sl(3e4,6e4);function ji(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function qn(s,t,i,r,o={}){return H0(s,o,async()=>{let u={},h={};r&&(t==="GET"?h=r:u={body:JSON.stringify(r)});const m=Sa({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...u};return ox()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ba(s.emulatorConfig.host)&&(_.credentials="include"),B0.fetch()(await G0(s,s.config.apiHost,i,m),_)})}async function H0(s,t,i){s._canInitEmulator=!1;const r={...eA,...t};try{const o=new sA(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Io(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Io(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Io(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw Io(s,"user-disabled",h);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw P0(s,b,_);on(s,b)}}catch(o){if(o instanceof Oi)throw o;on(s,"network-request-failed",{message:String(o)})}}async function al(s,t,i,r,o={}){const u=await qn(s,t,i,r,o);return"mfaPendingCredential"in u&&on(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function G0(s,t,i,r){const o=`${t}${i}?${r}`,u=s,h=u.config.emulator?Ch(s.config,o):`${s.config.apiScheme}://${o}`;return tA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function iA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),nA.get())})}}function Io(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=mn(s,t,r);return o.customData._tokenResponse=i,o}function Gv(s){return s!==void 0&&s.enterprise!==void 0}class aA{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return iA(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rA(s,t){return qn(s,"GET","/v2/recaptchaConfig",ji(s,t))}async function lA(s,t){return qn(s,"POST","/v1/accounts:delete",t)}async function nc(s,t){return qn(s,"POST","/v1/accounts:lookup",t)}function Dr(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oA(s,t=!1){const i=vt(s),r=await i.getIdToken(t),o=wh(r);ue(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:Dr(lf(o.auth_time)),issuedAtTime:Dr(lf(o.iat)),expirationTime:Dr(lf(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lf(s){return Number(s)*1e3}function wh(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Mo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bo(i);return o?JSON.parse(o):(Mo("Failed to decode base64 JWT payload"),null)}catch(o){return Mo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Fv(s){const t=wh(s);return ue(t,"internal-error"),ue(typeof t.exp<"u","internal-error"),ue(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _a(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Oi&&cA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function cA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class uA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Of{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ic(s){const t=s.auth,i=await s.getIdToken(),r=await _a(s,nc(t,{idToken:i}));ue(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?F0(o.providerUserInfo):[],h=fA(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,_=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Of(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function dA(s){const t=vt(s);await ic(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fA(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function F0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hA(s,t){const i=await H0(s,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await G0(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&ba(s.emulatorConfig.host)&&(g.credentials="include"),B0.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mA(s,t){return qn(s,"POST","/v2/accounts:revokeToken",ji(s,t))}class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ue(t.idToken,"internal-error"),ue(typeof t.idToken<"u","internal-error"),ue(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Fv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ue(t.length!==0,"internal-error");const i=Fv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await hA(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,h=new la;return r&&(ue(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(ue(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(ue(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function gi(s,t){ue(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class rn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new uA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Of(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await _a(this,this.stsTokenManager.getToken(this.auth,t));return ue(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return oA(this,t)}reload(){return dA(this)}_assign(t){this!==t&&(ue(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new rn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(Pn(this.auth));const t=await this.getIdToken();return await _a(this,lA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:y,isAnonymous:C,providerData:I,stsTokenManager:P}=i;ue(S&&P,t,"internal-error");const B=la.fromJSON(this.name,P);ue(typeof S=="string",t,"internal-error"),gi(r,t.name),gi(o,t.name),ue(typeof y=="boolean",t,"internal-error"),ue(typeof C=="boolean",t,"internal-error"),gi(u,t.name),gi(h,t.name),gi(m,t.name),gi(g,t.name),gi(_,t.name),gi(b,t.name);const Z=new rn({uid:S,auth:t,email:o,emailVerified:y,displayName:r,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:_,lastLoginAt:b});return I&&Array.isArray(I)&&(Z.providerData=I.map(Y=>({...Y}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(t,i,r=!1){const o=new la;o.updateFromServerResponse(i);const u=new rn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ic(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];ue(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?F0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new la;m.updateFromIdToken(r);const g=new rn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Of(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const qv=new Map;function Un(s){Gn(s instanceof Function,"Expected a class definition");let t=qv.get(s);return t?(Gn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,qv.set(s,t),t)}class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}q0.type="NONE";const Vv=q0;function ko(s,t,i){return`firebase:${s}:${t}:${i}`}class oa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ko(this.userKey,o.apiKey,u),this.fullPersistenceKey=ko("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nc(this.auth,{idToken:t}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,t):null}return rn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new oa(Un(Vv),t,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Un(Vv);const h=ko(r,t.config.apiKey,t.name);let m=null;for(const _ of i)try{const b=await _._get(h);if(b){let S;if(typeof b=="string"){const y=await nc(t,{idToken:b}).catch(()=>{});if(!y)break;S=await rn._fromGetAccountInfoResponse(t,y,b)}else S=rn._fromJSON(t,b);_!==u&&(m=S),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new oa(u,t,r):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new oa(u,t,r))}}function Yv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(W0(t))return"Blackberry";if($0(t))return"Webos";if(Y0(t))return"Safari";if((t.includes("chrome/")||X0(t))&&!t.includes("edge/"))return"Chrome";if(Q0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function V0(s=Et()){return/firefox\//i.test(s)}function Y0(s=Et()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X0(s=Et()){return/crios\//i.test(s)}function K0(s=Et()){return/iemobile/i.test(s)}function Q0(s=Et()){return/android/i.test(s)}function W0(s=Et()){return/blackberry/i.test(s)}function $0(s=Et()){return/webos/i.test(s)}function Ah(s=Et()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pA(s=Et()){return Ah(s)&&!!window.navigator?.standalone}function gA(){return ux()&&document.documentMode===10}function Z0(s=Et()){return Ah(s)||Q0(s)||$0(s)||W0(s)||/windows phone/i.test(s)||K0(s)}function J0(s,t=[]){let i;switch(s){case"Browser":i=Yv(Et());break;case"Worker":i=`${Yv(Et())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ea}/${r}`}class _A{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((h,m)=>{try{const g=t(u);h(g)}catch(g){m(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function vA(s,t={}){return qn(s,"GET","/v2/passwordPolicy",ji(s,t))}const yA=6;class bA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class SA{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new _A(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Un(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nc(this,{idToken:t}),r=await rn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($t(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ic(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Jw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($t(this.app))return Promise.reject(Pn(this));const i=t?vt(t):null;return i&&ue(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ue(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(Pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $t(this.app)?Promise.reject(Pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vA(this),i=new bA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $r("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await mA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Un(t)||this._popupRedirectResolver;ue(i,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[Un(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=J0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ww(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gs(s){return vt(s)}class Xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=bx(i=>this.observer=i)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EA(s){vc=s}function eb(s){return vc.loadJS(s)}function xA(){return vc.recaptchaEnterpriseScript}function TA(){return vc.gapiScript}function NA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class CA{constructor(){this.enterprise=new wA}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class wA{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const AA="recaptcha-enterprise",tb="NO_RECAPTCHA";class RA{constructor(t){this.type=AA,this.auth=gs(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{rA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new aA(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;Gv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(_=>{h(_)}).catch(()=>{h(tb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CA().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!i&&Gv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=xA();g.length!==0&&(g+=m),eb(g).then(()=>{o(m,u,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function Kv(s,t,i,r=!1,o=!1){const u=new RA(s);let h;if(o)h=tb;else try{h=await u.verify(i)}catch{h=await u.verify(i,!0)}const m={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function jf(s,t,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kv(s,t,i,i==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Kv(s,t,i,i==="getOobCode");return r(s,h)}else return Promise.reject(u)})}function OA(s,t){const i=qf(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(as(u,t??{}))return o;on(o,"already-initialized")}return i.initialize({options:t})}function jA(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Un);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function IA(s,t,i){const r=gs(s);ue(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=nb(t),{host:h,port:m}=DA(t),g=m===null?"":`:${m}`,_={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(as(_,r.config.emulator)&&as(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,ba(h)?(_y(`${u}//${h}${g}`),vy("Auth",!0)):MA()}function nb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function DA(s){const t=nb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Qv(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:Qv(h)}}}function Qv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function MA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rh{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ln("not implemented")}_getIdTokenResponse(t){return Ln("not implemented")}_linkToIdToken(t,i){return Ln("not implemented")}_getReauthenticationResolver(t){return Ln("not implemented")}}async function kA(s,t){return qn(s,"POST","/v1/accounts:signUp",t)}async function LA(s,t){return al(s,"POST","/v1/accounts:signInWithPassword",ji(s,t))}async function UA(s,t){return al(s,"POST","/v1/accounts:signInWithEmailLink",ji(s,t))}async function zA(s,t){return al(s,"POST","/v1/accounts:signInWithEmailLink",ji(s,t))}class Vr extends Rh{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Vr(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Vr(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(t,i,"signInWithPassword",LA);case"emailLink":return UA(t,{email:this._email,oobCode:this._password});default:on(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(t,r,"signUpPassword",kA);case"emailLink":return zA(t,{idToken:i,email:this._email,oobCode:this._password});default:on(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ca(s,t){return al(s,"POST","/v1/accounts:signInWithIdp",ji(s,t))}const PA="http://localhost";class us extends Rh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):on("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const h=new us(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ca(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ca(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ca(t,i)}buildRequest(){const t={requestUri:PA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Sa(i)}return t}}function BA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HA(s){const t=Nr(Cr(s)).link,i=t?Nr(Cr(t)).deep_link_id:null,r=Nr(Cr(s)).deep_link_id;return(r?Nr(Cr(r)).link:null)||r||i||t||s}class Oh{constructor(t){const i=Nr(Cr(t)),r=i.apiKey??null,o=i.oobCode??null,u=BA(i.mode??null);ue(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=HA(t);try{return new Oh(i)}catch{return null}}}class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(t,i){return Vr._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Oh.parseLink(i);return ue(r,"argument-error"),Vr._fromEmailAndCode(t,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ib{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class rl extends ib{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class _i extends rl{constructor(){super("facebook.com")}static credential(t){return us._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";class vi extends rl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return us._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return vi.credential(i,r)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";class yi extends rl{constructor(){super("github.com")}static credential(t){return us._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";class bi extends rl{constructor(){super("twitter.com")}static credential(t,i){return us._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return bi.credential(i,r)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";async function GA(s,t){return al(s,"POST","/v1/accounts:signUp",ji(s,t))}class ds{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await rn._fromIdTokenResponse(t,r,o),h=Wv(r);return new ds({user:u,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Wv(r);return new ds({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Wv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class sc extends Oi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new sc(t,i,r,o)}}function sb(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(s,u,t,r):u})}async function FA(s,t,i=!1){const r=await _a(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ds._forOperation(s,"link",r)}async function qA(s,t,i=!1){const{auth:r}=s;if($t(r.app))return Promise.reject(Pn(r));const o="reauthenticate";try{const u=await _a(s,sb(r,o,t,s),i);ue(u.idToken,r,"internal-error");const h=wh(u.idToken);ue(h,r,"internal-error");const{sub:m}=h;return ue(s.uid===m,r,"user-mismatch"),ds._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&on(r,"user-mismatch"),u}}async function ab(s,t,i=!1){if($t(s.app))return Promise.reject(Pn(s));const r="signIn",o=await sb(s,r,t),u=await ds._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function VA(s,t){return ab(gs(s),t)}async function rb(s){const t=gs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function YA(s,t,i){if($t(s.app))return Promise.reject(Pn(s));const r=gs(s),h=await jf(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&rb(s),g}),m=await ds._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function XA(s,t,i){return $t(s.app)?Promise.reject(Pn(s)):VA(vt(s),Ca.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rb(s),r})}async function KA(s,t){return qn(s,"POST","/v1/accounts:update",t)}async function QA(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=vt(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},h=await _a(r,KA(r.auth,u));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const m=r.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function WA(s,t,i,r){return vt(s).onIdTokenChanged(t,i,r)}function $A(s,t,i){return vt(s).beforeAuthStateChanged(t,i)}function ZA(s,t,i,r){return vt(s).onAuthStateChanged(t,i,r)}function JA(s){return vt(s).signOut()}const ac="__sak";class lb{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const eR=1e3,tR=10;class ob extends lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);gA()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,tR):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}ob.type="LOCAL";const nR=ob;class cb extends lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}cb.type="SESSION";const ub=cb;function iR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new yc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async _=>_(i.origin,u)),g=await iR(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yc.receivers=[];function jh(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class sR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const _=jh("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(S){const y=S;if(y.data.eventId===_)switch(y.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(y.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function pn(){return window}function aR(s){pn().location.href=s}function db(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function rR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lR(){return navigator?.serviceWorker?.controller||null}function oR(){return db()?self:null}const fb="firebaseLocalStorageDb",cR=1,rc="firebaseLocalStorage",hb="fbase_key";class ll{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bc(s,t){return s.transaction([rc],t?"readwrite":"readonly").objectStore(rc)}function uR(){const s=indexedDB.deleteDatabase(fb);return new ll(s).toPromise()}function If(){const s=indexedDB.open(fb,cR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(rc,{keyPath:hb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(rc)?t(r):(r.close(),await uR(),t(await If()))})})}async function $v(s,t,i){const r=bc(s,!0).put({[hb]:t,value:i});return new ll(r).toPromise()}async function dR(s,t){const i=bc(s,!1).get(t),r=await new ll(i).toPromise();return r===void 0?null:r.value}function Zv(s,t){const i=bc(s,!0).delete(t);return new ll(i).toPromise()}const fR=800,hR=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await If(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>hR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yc._getInstance(oR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await If();return await $v(t,ac,"1"),await Zv(t,ac),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>$v(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>dR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Zv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=bc(o,!1).getAll();return new ll(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const mR=mb;new sl(3e4,6e4);function pR(s,t){return t?Un(t):(ue(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ih extends Rh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ca(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ca(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ca(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gR(s){return ab(s.auth,new Ih(s),s.bypassAuthState)}function _R(s){const{auth:t,user:i}=s;return ue(i,t,"internal-error"),qA(i,new Ih(s),s.bypassAuthState)}async function vR(s){const{auth:t,user:i}=s;return ue(i,t,"internal-error"),FA(i,new Ih(s),s.bypassAuthState)}class pb{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gR;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return _R;default:on(this.auth,"internal-error")}}resolve(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yR=new sl(2e3,1e4);class sa extends pb{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ue(t,this.auth,"internal-error"),t}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const t=jh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yR.get())};t()}}sa.currentPopupAction=null;const bR="pendingRedirect",Lo=new Map;class SR extends pb{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Lo.get(this.auth._key());if(!t){try{const r=await ER(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Lo.set(this.auth._key(),t)}return this.bypassAuthState||Lo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ER(s,t){const i=NR(t),r=TR(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function xR(s,t){Lo.set(s._key(),t)}function TR(s){return Un(s._redirectPersistence)}function NR(s){return ko(bR,s.config.apiKey,s.name)}async function CR(s,t,i=!1){if($t(s.app))return Promise.reject(Pn(s));const r=gs(s),o=pR(r,t),h=await new SR(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}const wR=600*1e3;class AR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!gb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(mn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(t))}saveEventToCache(t){this.cachedEventUids.add(Jv(t)),this.lastProcessedEventTime=Date.now()}}function Jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function gb({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function RR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(s);default:return!1}}async function OR(s,t={}){return qn(s,"GET","/v1/projects",t)}const jR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function DR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await OR(s);for(const i of t)try{if(MR(i))return}catch{}on(s,"unauthorized-domain")}function MR(s){const t=Rf(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!IR.test(i))return!1;if(jR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const kR=new sl(3e4,6e4);function ey(){const s=pn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function LR(s){return new Promise((t,i)=>{function r(){ey(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ey(),i(mn(s,"network-request-failed"))},timeout:kR.get()})}if(pn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(pn().gapi?.load)r();else{const o=NA("iframefcb");return pn()[o]=()=>{gapi.load?r():i(mn(s,"network-request-failed"))},eb(`${TA()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Uo=null,t})}let Uo=null;function UR(s){return Uo=Uo||LR(s),Uo}const zR=new sl(5e3,15e3),PR="__/auth/iframe",BR="emulator/auth/iframe",HR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(s){const t=s.config;ue(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ch(t,BR):`https://${s.config.authDomain}/${PR}`,r={apiKey:t.apiKey,appName:s.name,v:Ea},o=GR.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Sa(r).slice(1)}`}async function qR(s){const t=await UR(s),i=pn().gapi;return ue(i,s,"internal-error"),t.open({where:document.body,url:FR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=mn(s,"network-request-failed"),m=pn().setTimeout(()=>{u(h)},zR.get());function g(){pn().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(h)})}))}const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YR=500,XR=600,KR="_blank",QR="http://localhost";class ty{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WR(s,t,i,r=YR,o=XR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...VR,width:r.toString(),height:o.toString(),top:u,left:h},_=Et().toLowerCase();i&&(m=X0(_)?KR:i),V0(_)&&(t=t||QR,g.scrollbars="yes");const b=Object.entries(g).reduce((y,[C,I])=>`${y}${C}=${I},`,"");if(pA(_)&&m!=="_self")return $R(t||"",m),new ty(null);const S=window.open(t||"",m,b);ue(S,s,"popup-blocked");try{S.focus()}catch{}return new ty(S)}function $R(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const ZR="__/auth/handler",JR="emulator/auth/handler",eO=encodeURIComponent("fac");async function ny(s,t,i,r,o,u){ue(s.config.authDomain,s,"auth-domain-config-required"),ue(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ea,eventId:o};if(t instanceof ib){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",cf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))h[b]=S}if(t instanceof rl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(h.scopes=b.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await s._getAppCheckToken(),_=g?`#${eO}=${encodeURIComponent(g)}`:"";return`${tO(s)}?${Sa(m).slice(1)}${_}`}function tO({config:s}){return s.emulator?Ch(s,JR):`https://${s.authDomain}/${ZR}`}const of="webStorageSupport";class nO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ub,this._completeRedirectFn=CR,this._overrideRedirectResult=xR}async _openPopup(t,i,r,o){Gn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ny(t,i,r,Rf(),o);return WR(t,u,jh())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await ny(t,i,r,Rf(),o);return aR(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Gn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await qR(t),r=new AR(t);return i.register("authEvent",o=>(ue(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(of,{type:of},o=>{const u=o?.[0]?.[of];u!==void 0&&i(!!u),on(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=DR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Z0()||Y0()||Ah()}}const iO=nO;var iy="@firebase/auth",sy="1.12.0";class sO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rO(s){da(new rs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;ue(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J0(s)},_=new SA(r,o,u,g);return jA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),da(new rs("auth-internal",t=>{const i=gs(t.getProvider("auth").getImmediate());return(r=>new sO(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(iy,sy,aO(s)),Ti(iy,sy,"esm2020")}const lO=300,oO=gy("authIdTokenMaxAge")||lO;let ay=null;const cO=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>oO)return;const o=i?.token;ay!==o&&(ay=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uO(s=Ty()){const t=qf(s,"auth");if(t.isInitialized())return t.getImmediate();const i=OA(s,{popupRedirectResolver:iO,persistence:[mR,nR,ub]}),r=gy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=cO(u.toString());$A(i,h,()=>h(i.currentUser)),WA(i,m=>h(m))}}const o=my("auth");return o&&IA(i,`http://${o}`),i}function dO(){return document.getElementsByTagName("head")?.[0]??document}EA({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=mn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",dO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rO("Browser");const fO={apiKey:"AIzaSyBhZ7XGKFde4UWy5H3i9NzVGYN-joVvoSY",authDomain:"pl-football-fantasy.firebaseapp.com",databaseURL:"https://pl-football-fantasy-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pl-football-fantasy",storageBucket:"pl-football-fantasy.firebasestorage.app",messagingSenderId:"875638327100",appId:"1:875638327100:web:020b2630584c6d1e6dc039",measurementId:"G-FNBYMP2H7H"},_b=xy(fO),ns=qw(_b),na=uO(_b);function hO(){const[s,t]=$.useState([]),[i,r]=$.useState(!0),[o,u]=$.useState([]),[h,m]=$.useState({}),[g,_]=$.useState(!1);if($.useEffect(()=>{async function z(){try{const[K,Q,V]=await Promise.all([qr(ts(ns,"users")),qr(ts(ns,"xptsSnapshots")),hs()]),me=K.val();if(me){const fe=Object.entries(me).map(([he,oe])=>({uid:he,name:oe.name||"Unknown",email:oe.email||"N/A",fplCode:oe.fplCode||"N/A",createdAt:oe.createdAt||null}));fe.sort((he,oe)=>(oe.createdAt||"").localeCompare(he.createdAt||"")),t(fe)}const be=Q.val();if(be){const fe=[];for(const[,te]of Object.entries(be))for(const[,H]of Object.entries(te))fe.push(H);fe.sort((te,H)=>H.gameweek-te.gameweek),u(fe);const oe=V.events.find(te=>te.is_current)?.id||1;if(fe.length>0){_(!0);const te=await mO(fe,oe);m(te),_(!1)}}}catch(K){console.error("Failed to load admin data:",K)}finally{r(!1)}}z()},[]),i)return f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Loading admin data..."})]});const b=s.length,S=s.filter(z=>z.fplCode&&z.fplCode!=="N/A").length,y=s.filter(z=>z.createdAt?Date.now()-new Date(z.createdAt).getTime()<10080*60*1e3:!1).length,C={};s.forEach(z=>{if(!z.createdAt)return;const K=z.createdAt.slice(0,10);C[K]=(C[K]||0)+1});const I=Object.keys(C).sort(),P=Math.max(...Object.values(C),1),B=o.filter(z=>{const K=`${z.uid}-${z.gameweek}-${z.playerIn.id}`;return h[K]&&h[K].verdict!=="pending"}),Z=B.filter(z=>{const K=`${z.uid}-${z.gameweek}-${z.playerIn.id}`;return h[K]?.verdict==="correct"}).length,Y=o.length-B.length,X=B.length>0?Math.round(Z/B.length*100):0;return f.jsxs("div",{className:"admin-page",children:[f.jsx("h2",{className:"admin-title",children:"Admin Dashboard"}),f.jsxs("div",{className:"admin-stats",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"admin-stat-value",children:b}),f.jsx("div",{className:"admin-stat-label",children:"Total Users"})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"admin-stat-value",children:S}),f.jsx("div",{className:"admin-stat-label",children:"With FPL Code"})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"admin-stat-value",children:y}),f.jsx("div",{className:"admin-stat-label",children:"New This Week"})]}),f.jsxs("div",{className:"stat-card",children:[f.jsxs("div",{className:"admin-stat-value",children:[b>0?Math.round(S/b*100):0,"%"]}),f.jsx("div",{className:"admin-stat-label",children:"FPL Linked"})]})]}),I.length>0&&f.jsxs("div",{className:"admin-section",children:[f.jsx("h3",{children:"Registrations Over Time"}),f.jsx("div",{className:"reg-chart",children:I.map(z=>f.jsxs("div",{className:"reg-bar-group",children:[f.jsx("div",{className:"reg-bar-wrapper",children:f.jsx("div",{className:"reg-bar",style:{height:`${C[z]/P*100}%`},children:f.jsx("span",{className:"reg-bar-count",children:C[z]})})}),f.jsx("span",{className:"reg-bar-label",children:new Date(z+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},z))})]}),f.jsxs("div",{className:"admin-section",children:[f.jsxs("h3",{children:["All Users (",b,")"]}),f.jsx("div",{className:"admin-table-wrapper",children:f.jsxs("table",{className:"admin-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"FPL Code"}),f.jsx("th",{children:"Registered"})]})}),f.jsx("tbody",{children:s.map(z=>f.jsxs("tr",{children:[f.jsx("td",{children:z.name}),f.jsx("td",{children:z.email}),f.jsx("td",{className:"mono",children:z.fplCode}),f.jsx("td",{children:z.createdAt?new Date(z.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]},z.uid))})]})})]}),f.jsxs("div",{className:"admin-section",children:[f.jsxs("h3",{children:["xPts Prediction Tracker (",o.length," predictions)"]}),o.length===0?f.jsx("p",{className:"admin-xpts-empty",children:"No xPts predictions recorded yet. Predictions are captured when users visit the Transfers tab."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"admin-xpts-stats",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"admin-stat-value",children:o.length}),f.jsx("div",{className:"admin-stat-label",children:"Tracked"})]}),f.jsxs("div",{className:"stat-card",children:[f.jsxs("div",{className:"admin-stat-value",children:[X,"%"]}),f.jsx("div",{className:"admin-stat-label",children:"Accuracy"})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"admin-stat-value",children:Z}),f.jsx("div",{className:"admin-stat-label",children:"Correct"})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"admin-stat-value",children:Y}),f.jsx("div",{className:"admin-stat-label",children:"Pending"})]})]}),f.jsx("div",{className:"admin-table-wrapper",children:f.jsxs("table",{className:"admin-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"User"}),f.jsx("th",{children:"GW"}),f.jsx("th",{children:"Player Out"}),f.jsx("th",{children:"Out xPts"}),f.jsx("th",{children:"Player In"}),f.jsx("th",{children:"In xPts"}),f.jsx("th",{children:"Actual Diff"}),f.jsx("th",{children:"Verdict"})]})}),f.jsx("tbody",{children:o.map(z=>{const K=`${z.uid}-${z.gameweek}-${z.playerIn.id}`,Q=h[K],V=Q?.actualDiff,me=Q?.verdict||"pending",be=(z.playerOut.avgXpts||0)>(z.playerIn.avgXpts||0),fe=(z.playerIn.avgXpts||0)>(z.playerOut.avgXpts||0);return f.jsxs("tr",{children:[f.jsx("td",{children:z.userName}),f.jsxs("td",{children:["GW",z.gameweek]}),f.jsxs("td",{children:[z.playerOut.name,f.jsxs("span",{className:"admin-xpts-club",children:[" ",z.playerOut.club]})]}),f.jsx("td",{className:be?"admin-xpts-higher":"",children:z.playerOut.avgXpts??""}),f.jsxs("td",{children:[z.playerIn.name,f.jsxs("span",{className:"admin-xpts-club",children:[" ",z.playerIn.club]})]}),f.jsx("td",{className:fe?"admin-xpts-higher":"",children:z.playerIn.avgXpts??""}),f.jsx("td",{className:V>0?"admin-xpts-correct":V<0?"admin-xpts-wrong":"",children:g?"...":V!=null?V>0?`+${V}`:V:""}),f.jsx("td",{children:f.jsx("span",{className:`admin-xpts-badge admin-xpts-badge-${me}`,children:me})})]},K)})})]})})]})]})]})}async function mO(s,t){const i=new Set;for(const m of s)for(let g=m.gameweek;g<=t;g++)i.add(g);const r={},o=[...i].sort((m,g)=>m-g),u=5;for(let m=0;m<o.length;m+=u){const g=o.slice(m,m+u),_=await Promise.all(g.map(b=>Uf(b).catch(()=>null)));g.forEach((b,S)=>{_[S]&&(r[b]=_[S])})}const h={};for(const m of s){const g=`${m.uid}-${m.gameweek}-${m.playerIn.id}`;let _=0,b=0,S=!1;for(let B=m.gameweek;B<=t;B++){const Z=r[B];if(!Z)continue;const Y=Z.elements.find(z=>z.id===m.playerIn.id),X=Z.elements.find(z=>z.id===m.playerOut.id);_+=Y?.stats?.total_points||0,b+=X?.stats?.total_points||0,S=!0}if(!S){h[g]={actualDiff:null,verdict:"pending"};continue}const y=_-b,C=(m.playerIn.avgXpts||0)>=(m.playerOut.avgXpts||0),I=y>=0,P=C===I?"correct":"wrong";h[g]={actualDiff:y,verdict:P}}return h}const pO="maghovk@gmail.com",vb=$.createContext(null);function gO({children:s}){const[t,i]=$.useState(null),[r,o]=$.useState(null),[u,h]=$.useState(!0),m=t?.email===pO;$.useEffect(()=>ZA(na,async C=>{if(C){const B=(await qr(ts(ns,`users/${C.uid}`))).val()?.fplCode??null;B&&Yd(B),o(B),i(C)}else i(null),o(null);h(!1)}),[]);async function g(y,C,I,P){const{user:B}=await YA(na,C,I);await QA(B,{displayName:y}),await wf(ts(ns,`users/${B.uid}`),{name:y,email:C,fplCode:Number(P),createdAt:new Date().toISOString()}),Yd(Number(P)),o(Number(P))}async function _(y){if(!na.currentUser)return;const C=Number(y);await Lw(ts(ns,`users/${na.currentUser.uid}`),{fplCode:C}),Yd(C),o(C)}async function b(y,C){await XA(na,y,C)}async function S(){await JA(na)}return f.jsx(vb.Provider,{value:{user:t,fplCode:r,loading:u,isAdmin:m,register:g,login:b,logout:S,updateFplCode:_},children:s})}function Sc(){return $.useContext(vb)}const _O=["All","GK","DEF","MID","FWD"];function vO(){const{fplCode:s,user:t}=Sc(),{data:i,loading:r,error:o,reload:u}=es(v1,[s]),h=$.useMemo(()=>i?.transfers||[],[i]),m=$.useMemo(()=>i?.teams||{},[i]),[g,_]=$.useState(null),[b,S]=$.useState("All"),[y,C]=$.useState(new Set),I=$.useRef({});$.useEffect(()=>{if(!h.length||!t)return;const H=ts(ns,`transferCache/${t.uid}`);async function ne(){try{const F=(await qr(H)).val(),ie=new Set;if(F?.transfers){const ee=new Set(F.transfers.map(le=>`${le.gameweek}-${le.playerIn.id}`));h.forEach((le,T)=>{ee.has(`${le.gameweek}-${le.playerIn.id}`)||ie.add(T)}),ie.size>0&&C(ie)}await wf(H,{transfers:h.map(ee=>({gameweek:ee.gameweek,transferCost:ee.transferCost,netGain:ee.netGain,gameweeksCompared:ee.gameweeksCompared,playerIn:{id:ee.playerIn.id,name:ee.playerIn.name,position:ee.playerIn.position,club:ee.playerIn.club,pointsSinceTransfer:ee.playerIn.pointsSinceTransfer},playerOut:{id:ee.playerOut.id,name:ee.playerOut.name,position:ee.playerOut.position,club:ee.playerOut.club,pointsSinceTransfer:ee.playerOut.pointsSinceTransfer}})),updatedAt:new Date().toISOString()});for(const ee of ie){const le=h[ee],T=`${le.gameweek}-${le.playerIn.id}`,k=ts(ns,`xptsSnapshots/${t.uid}/${T}`);if((await qr(k)).exists())continue;let G={avgXpts:null,topReasons:[]},ae={avgXpts:null,topReasons:[]};try{const se=ss(le.playerIn,le.playerIn.upcomingFixtures,m,3);G={avgXpts:se.avgXpts,topReasons:se.topReasons}}catch(se){console.warn("xPts calc failed for playerIn",le.playerIn.name,se)}try{const se=ss(le.playerOut,le.playerOut.upcomingFixtures,m,3);ae={avgXpts:se.avgXpts,topReasons:se.topReasons}}catch(se){console.warn("xPts calc failed for playerOut",le.playerOut.name,se)}await wf(k,{uid:t.uid,userName:t.displayName||"Unknown",capturedAt:new Date().toISOString(),gameweek:le.gameweek,transferCost:le.transferCost||0,playerOut:{id:le.playerOut.id,name:le.playerOut.name,position:le.playerOut.position,club:le.playerOut.club,avgXpts:ae.avgXpts,topReasons:ae.topReasons},playerIn:{id:le.playerIn.id,name:le.playerIn.name,position:le.playerIn.position,club:le.playerIn.club,avgXpts:G.avgXpts,topReasons:G.topReasons}})}}catch(O){console.error("Transfer cache sync error:",O)}}ne()},[h,m,t]);const P=$.useCallback(H=>{const ne=I.current[H];ne&&(ne.scrollIntoView({behavior:"smooth",block:"center"}),_(H),ne.classList.add("transfer-highlight"),setTimeout(()=>ne.classList.remove("transfer-highlight"),2e3))},[]);if(r)return f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Analysing your transfers..."})]});if(o)return f.jsxs("div",{className:"error-container",children:[f.jsxs("p",{children:["Failed to load transfers: ",o]}),f.jsx("button",{className:"btn btn-primary",onClick:u,children:"Retry"})]});if(h.length===0)return f.jsxs("div",{className:"transfers-empty",children:[f.jsx("div",{className:"empty-icon",children:f.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"17 1 21 5 17 9"}),f.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),f.jsx("polyline",{points:"7 23 3 19 7 15"}),f.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]})}),f.jsx("h3",{children:"No Transfers Yet"}),f.jsx("p",{children:"Your transfer history will appear here once you make transfers."})]});const B=b==="All"?h:h.filter(H=>H.playerIn.position===b||H.playerOut.position===b),Z=h.length,Y=h.reduce((H,ne)=>H+ne.netGain,0),X=h.filter(H=>H.netGain>0).length,z=Z>0?Math.round(X/Z*100):0,K=h.reduce((H,ne,O)=>ne.netGain>h[H].netGain?O:H,0),Q=h.reduce((H,ne,O)=>ne.netGain<h[H].netGain?O:H,0),V=h[K],me=h[Q],be=h.reduce((H,ne)=>H+(ne.transferCost||0),0),fe=[...h].sort((H,ne)=>H.gameweek-ne.gameweek),he=[];let oe=0;for(const H of fe)oe+=H.netGain,he.push({gw:H.gameweek,total:oe,name:`${H.playerOut.name}  ${H.playerIn.name}`});const te=Math.max(...he.map(H=>Math.abs(H.total)),1);return f.jsxs("div",{className:"transfer-tracker",children:[y.size>0&&f.jsxs("div",{className:"new-transfer-banner",children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y.size," new transfer",y.size>1?"s":""," detected since last visit!",f.jsx("button",{className:"new-transfer-dismiss",onClick:()=>C(new Set),children:"Dismiss"})]}),f.jsxs("div",{className:"transfer-stats",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"transfer-stat-value",children:Z}),f.jsx("div",{className:"transfer-stat-label",children:"Transfers Made"})]}),f.jsxs("div",{className:`stat-card ${Y>=0?"stat-positive":"stat-negative"}`,children:[f.jsxs("div",{className:"transfer-stat-value",children:[Y>=0?"+":"",Y]}),f.jsx("div",{className:"transfer-stat-label",children:"Net Points Gain"})]}),f.jsxs("div",{className:`stat-card ${z>=50?"stat-positive":"stat-negative"}`,children:[f.jsxs("div",{className:"transfer-stat-value",children:[z,"%"]}),f.jsx("div",{className:"transfer-stat-label",children:"Success Rate"})]}),f.jsxs("div",{className:"stat-card clickable-stat stat-positive",onClick:()=>P(K),children:[f.jsxs("div",{className:"transfer-stat-value",children:["+",V.netGain]}),f.jsx("div",{className:"transfer-stat-label",children:"Best Transfer "})]}),f.jsxs("div",{className:"stat-card clickable-stat stat-negative",onClick:()=>P(Q),children:[f.jsx("div",{className:"transfer-stat-value",children:me.netGain}),f.jsx("div",{className:"transfer-stat-label",children:"Worst Transfer "})]})]}),be>0&&f.jsxs("div",{className:"transfer-cost-banner",children:["Total transfer costs: ",f.jsxs("strong",{children:["-",be," pts"]})," (hits taken)"]}),he.length>1&&f.jsxs("div",{className:"cumulative-section",children:[f.jsx("h3",{className:"section-title",children:"Cumulative Net Gain"}),f.jsxs("div",{className:"cumulative-chart",children:[f.jsx("div",{className:"chart-zero-line"}),he.map((H,ne)=>{const O=H.total>=0,F=Math.max(Math.abs(H.total)/te*50,2);return f.jsxs("div",{className:"chart-bar-group",children:[f.jsx("div",{className:"chart-bar-area",children:O?f.jsxs("div",{className:"chart-bar-top",children:[f.jsxs("span",{className:"chart-bar-val",children:[H.total>=0?"+":"",H.total]}),f.jsx("div",{className:"chart-bar bar-positive",style:{height:`${F}%`}})]}):f.jsxs("div",{className:"chart-bar-bottom",children:[f.jsx("div",{className:"chart-bar bar-negative",style:{height:`${F}%`}}),f.jsx("span",{className:"chart-bar-val",children:H.total})]})}),f.jsxs("span",{className:"chart-bar-label",children:["GW",H.gw]})]},ne)})]})]}),f.jsxs("div",{className:"transfer-filter-bar",children:[f.jsx("span",{className:"filter-label",children:"Filter:"}),_O.map(H=>f.jsx("button",{className:`filter-btn ${b===H?"filter-active":""}`,onClick:()=>S(H),children:H},H)),f.jsxs("span",{className:"filter-count",children:[B.length," transfer",B.length!==1?"s":""]})]}),f.jsx("div",{className:"transfer-list",children:B.map(H=>{const ne=h.indexOf(H),O=g===ne,F=H.netGain>=0,ie=y.has(ne);return f.jsxs("div",{ref:ee=>I.current[ne]=ee,className:`transfer-card ${F?"transfer-positive":"transfer-negative"} ${ie?"transfer-new":""}`,onClick:()=>_(O?null:ne),children:[ie&&f.jsx("div",{className:"new-badge",children:"NEW"}),f.jsxs("div",{className:"transfer-header",children:[f.jsxs("span",{className:"transfer-gw",children:["GW",H.gameweek]}),f.jsxs("div",{className:`transfer-net ${F?"net-positive":"net-negative"}`,children:[F?"+":"",H.netGain," pts"]})]}),f.jsxs("div",{className:"transfer-players",children:[f.jsxs("div",{className:"transfer-player out",children:[f.jsx("div",{className:"transfer-direction",children:"OUT"}),f.jsxs("div",{className:"transfer-player-info",children:[f.jsx("span",{className:"transfer-player-name",children:H.playerOut.name}),f.jsxs("span",{className:"transfer-player-meta",children:[H.playerOut.club,"  ",H.playerOut.position]})]}),f.jsxs("div",{className:"transfer-player-points",children:[H.playerOut.pointsSinceTransfer," pts"]})]}),f.jsx("div",{className:"transfer-arrow",children:f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 5v14M5 12l7 7 7-7"})})}),f.jsxs("div",{className:"transfer-player in",children:[f.jsx("div",{className:"transfer-direction",children:"IN"}),f.jsxs("div",{className:"transfer-player-info",children:[f.jsx("span",{className:"transfer-player-name",children:H.playerIn.name}),f.jsxs("span",{className:"transfer-player-meta",children:[H.playerIn.club,"  ",H.playerIn.position]})]}),f.jsxs("div",{className:"transfer-player-points",children:[H.playerIn.pointsSinceTransfer," pts"]})]})]}),H.transferCost>0&&f.jsxs("div",{className:"transfer-hit",children:["-",H.transferCost," pt hit"]}),f.jsxs("div",{className:"transfer-meta",children:[H.gameweeksCompared," GW",H.gameweeksCompared!==1?"s":""," compared",f.jsx("span",{className:"expand-hint",children:O?"":""})]}),O&&f.jsxs("div",{className:"transfer-breakdown",children:[f.jsxs("div",{className:"breakdown-header",children:[f.jsx("span",{children:"GW"}),f.jsx("span",{children:H.playerOut.name}),f.jsx("span",{children:H.playerIn.name}),f.jsx("span",{children:"Diff"})]}),H.gwBreakdown.map(ee=>f.jsxs("div",{className:"breakdown-row",children:[f.jsx("span",{className:"breakdown-gw",children:ee.gw}),f.jsx("span",{className:"breakdown-pts",children:ee.outPts}),f.jsx("span",{className:"breakdown-pts",children:ee.inPts}),f.jsxs("span",{className:`breakdown-diff ${ee.diff>=0?"diff-positive":"diff-negative"}`,children:[ee.diff>=0?"+":"",ee.diff]})]},ee.gw)),f.jsxs("div",{className:"breakdown-row breakdown-total",children:[f.jsx("span",{className:"breakdown-gw",children:"Total"}),f.jsx("span",{className:"breakdown-pts",children:H.playerOut.pointsSinceTransfer}),f.jsx("span",{className:"breakdown-pts",children:H.playerIn.pointsSinceTransfer}),f.jsxs("span",{className:`breakdown-diff ${H.netGain>=0?"diff-positive":"diff-negative"}`,children:[H.netGain>=0?"+":"",H.netGain]})]})]})]},ne)})})]})}function yO(){const{login:s,register:t}=Sc(),[i,r]=$.useState(!1),[o,u]=$.useState({name:"",email:"",password:"",fplCode:""}),[h,m]=$.useState(""),[g,_]=$.useState(!1);function b(y){u(C=>({...C,[y.target.name]:y.target.value}))}async function S(y){y.preventDefault(),m(""),_(!0);try{if(i){if(!o.name.trim())throw new Error("Name is required.");if(!o.fplCode.trim())throw new Error("FPL kode is required.");await t(o.name.trim(),o.email,o.password,o.fplCode)}else await s(o.email,o.password)}catch(C){m(C.message||"Something went wrong.")}finally{_(!1)}}return f.jsx("div",{className:"auth-page",children:f.jsxs("div",{className:"auth-card",children:[f.jsxs("div",{className:"auth-brand",children:[f.jsx("div",{className:"brand-icon",children:"FF"}),f.jsxs("div",{children:[f.jsx("h1",{children:"My Football Fantasy"}),f.jsx("p",{className:"subtitle",children:"Season 2025/26"})]})]}),f.jsx("h2",{className:"auth-title",children:i?"Create account":"Sign in"}),f.jsxs("form",{onSubmit:S,className:"auth-form",children:[i&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"name",children:"Name"}),f.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:o.name,onChange:b,placeholder:"Your name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:b,placeholder:"you@example.com"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:i?"new-password":"current-password",required:!0,value:o.password,onChange:b,placeholder:""})]}),i&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"fplCode",children:"FPL kode"}),f.jsx("input",{id:"fplCode",name:"fplCode",type:"number",required:!0,value:o.fplCode,onChange:b,placeholder:"e.g. 5398119"})]}),h&&f.jsx("p",{className:"auth-error",children:h}),f.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:g,children:g?"Please wait...":i?"Create account":"Sign in"})]}),f.jsxs("p",{className:"auth-toggle",children:[i?"Already have an account?":"No account yet?"," ",f.jsx("button",{type:"button",className:"auth-toggle-btn",onClick:()=>{r(y=>!y),m("")},children:i?"Sign in":"Create account"})]})]})})}const ry=[{id:"team",label:"My Team",icon:"shield"},{id:"formation",label:"Formation",icon:"formation"},{id:"points",label:"Points",icon:"chart"},{id:"trade",label:"Trade Analyzer",icon:"swap"},{id:"transfers",label:"Transfers",icon:"transfers"},{id:"fixtures",label:"Fixtures",icon:"calendar"}],bO={id:"admin",label:"Admin",icon:"admin"},SO={shield:f.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),chart:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),f.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),f.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),swap:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"17 1 21 5 17 9"}),f.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),f.jsx("polyline",{points:"7 23 3 19 7 15"}),f.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),calendar:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),formation:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2"}),f.jsx("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),f.jsx("circle",{cx:"7",cy:"10",r:"1.5",fill:"currentColor"}),f.jsx("circle",{cx:"17",cy:"10",r:"1.5",fill:"currentColor"}),f.jsx("circle",{cx:"8",cy:"16",r:"1.5",fill:"currentColor"}),f.jsx("circle",{cx:"16",cy:"16",r:"1.5",fill:"currentColor"}),f.jsx("circle",{cx:"12",cy:"21",r:"1.5",fill:"currentColor"})]}),transfers:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 2v20M2 12h20"}),f.jsx("circle",{cx:"12",cy:"5",r:"2",fill:"currentColor",stroke:"none"}),f.jsx("circle",{cx:"12",cy:"19",r:"2",fill:"currentColor",stroke:"none"}),f.jsx("path",{d:"M7 9l5-5 5 5M17 15l-5 5-5-5"})]}),admin:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 15c-3.87 0-7 1.57-7 3.5V21h14v-2.5c0-1.93-3.13-3.5-7-3.5z"}),f.jsx("circle",{cx:"12",cy:"8",r:"4"}),f.jsx("path",{d:"M19 8l1.5 1.5L22 8"})]})};function EO(){const{user:s,fplCode:t,isAdmin:i,logout:r}=Sc(),[o,u]=$.useState("team"),[h,m]=$.useState("ff"),{data:g,loading:_,error:b,reload:S}=es(f1,[t]),y=i?[...ry,bO]:ry;return f.jsxs("div",{className:"app",children:[f.jsx("header",{className:"app-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"brand",children:[f.jsx("div",{className:"brand-icon",children:"FF"}),f.jsxs("div",{children:[f.jsx("h1",{children:"My Football Fantasy"}),f.jsx("p",{className:"subtitle",children:"Season 2025/26"})]})]}),f.jsx("nav",{className:"nav-tabs",children:y.map(C=>f.jsxs("button",{className:`nav-tab ${o===C.id?"active":""}`,onClick:()=>u(C.id),children:[SO[C.icon],f.jsx("span",{children:C.label})]},C.id))}),f.jsxs("div",{className:"user-info",children:[f.jsx("span",{className:"user-name",children:s.displayName}),f.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Logout"})]})]})}),f.jsxs("main",{className:"app-main",children:[o==="team"&&f.jsx(E1,{teamData:g,teamLoading:_,teamError:b,teamReload:S}),o==="formation"&&f.jsx(K1,{teamData:g,teamLoading:_,teamError:b,teamReload:S}),o==="points"&&f.jsx(C1,{teamData:g,teamLoading:_,teamError:b,teamReload:S}),o==="trade"&&f.jsx(I1,{teamData:g,teamLoading:_,teamError:b,teamReload:S}),o==="transfers"&&f.jsx(vO,{}),o==="fixtures"&&f.jsx(P1,{}),o==="admin"&&i&&f.jsx(hO,{})]}),f.jsx("div",{className:"version-label",children:"v0.02"})]})}function xO(){const{user:s,loading:t}=Sc();return t?f.jsx("div",{className:"app-loading",children:f.jsx("div",{className:"loading-spinner"})}):s?f.jsx(EO,{}):f.jsx(yO,{})}function TO(){return f.jsx(gO,{children:f.jsx(xO,{})})}$E.createRoot(document.getElementById("root")).render(f.jsx($.StrictMode,{children:f.jsx(TO,{})}));
