(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Uf={exports:{}},pr={};var A_;function ME(){if(A_)return pr;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:u}}return pr.Fragment=t,pr.jsx=i,pr.jsxs=i,pr}var R_;function jE(){return R_||(R_=1,Uf.exports=ME()),Uf.exports}var h=jE(),zf={exports:{}},ie={};var O_;function kE(){if(O_)return ie;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function X(C,L,G){this.props=C,this.context=L,this.refs=H,this.updater=G||M}X.prototype.isReactComponent={},X.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function te(){}te.prototype=X.prototype;function ue(C,L,G){this.props=C,this.context=L,this.refs=H,this.updater=G||M}var Q=ue.prototype=new te;Q.constructor=ue,z(Q,X.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray;function re(){}var Z={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function Ze(C,L,G){var V=G.ref;return{$$typeof:s,type:C,key:L,ref:V!==void 0?V:null,props:G}}function le(C,L){return Ze(C.type,L,C.props)}function Be(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function U(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return L[G]})}var ne=/\/+/g;function Ge(C,L){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):L.toString(36)}function Qe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(re,re):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function O(C,L,G,V,se){var de=typeof C;(de==="undefined"||de==="boolean")&&(C=null);var we=!1;if(C===null)we=!0;else switch(de){case"bigint":case"string":case"number":we=!0;break;case"object":switch(C.$$typeof){case s:case t:we=!0;break;case b:return we=C._init,O(we(C._payload),L,G,V,se)}}if(we)return se=se(C),we=V===""?"."+Ge(C,0):V,Y(se)?(G="",we!=null&&(G=we.replace(ne,"$&/")+"/"),O(se,L,G,"",function(Ea){return Ea})):se!=null&&(Be(se)&&(se=le(se,G+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace(ne,"$&/")+"/")+we)),L.push(se)),1;we=0;var vt=V===""?".":V+":";if(Y(C))for(var Ke=0;Ke<C.length;Ke++)V=C[Ke],de=vt+Ge(V,Ke),we+=O(V,L,G,de,se);else if(Ke=w(C),typeof Ke=="function")for(C=Ke.call(C),Ke=0;!(V=C.next()).done;)V=V.value,de=vt+Ge(V,Ke++),we+=O(V,L,G,de,se);else if(de==="object"){if(typeof C.then=="function")return O(Qe(C),L,G,V,se);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return we}function P(C,L,G){if(C==null)return C;var V=[],se=0;return O(C,V,"","",function(de){return L.call(G,de,se++)}),V}function W(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Ne=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},je={map:P,forEach:function(C,L,G){P(C,function(){L.apply(this,arguments)},G)},count:function(C){var L=0;return P(C,function(){L++}),L},toArray:function(C){return P(C,function(L){return L})||[]},only:function(C){if(!Be(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ie.Activity=S,ie.Children=je,ie.Component=X,ie.Fragment=i,ie.Profiler=o,ie.PureComponent=ue,ie.StrictMode=r,ie.Suspense=_,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Z.H.useMemoCache(C)}},ie.cache=function(C){return function(){return C.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(C,L,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var V=z({},C.props),se=C.key;if(L!=null)for(de in L.key!==void 0&&(se=""+L.key),L)!Te.call(L,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&L.ref===void 0||(V[de]=L[de]);var de=arguments.length-2;if(de===1)V.children=G;else if(1<de){for(var we=Array(de),vt=0;vt<de;vt++)we[vt]=arguments[vt+2];V.children=we}return Ze(C.type,se,V)},ie.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},ie.createElement=function(C,L,G){var V,se={},de=null;if(L!=null)for(V in L.key!==void 0&&(de=""+L.key),L)Te.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(se[V]=L[V]);var we=arguments.length-2;if(we===1)se.children=G;else if(1<we){for(var vt=Array(we),Ke=0;Ke<we;Ke++)vt[Ke]=arguments[Ke+2];se.children=vt}if(C&&C.defaultProps)for(V in we=C.defaultProps,we)se[V]===void 0&&(se[V]=we[V]);return Ze(C,de,se)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(C){return{$$typeof:m,render:C}},ie.isValidElement=Be,ie.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:W}},ie.memo=function(C,L){return{$$typeof:g,type:C,compare:L===void 0?null:L}},ie.startTransition=function(C){var L=Z.T,G={};Z.T=G;try{var V=C(),se=Z.S;se!==null&&se(G,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(re,Ne)}catch(de){Ne(de)}finally{L!==null&&G.types!==null&&(L.types=G.types),Z.T=L}},ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ie.use=function(C){return Z.H.use(C)},ie.useActionState=function(C,L,G){return Z.H.useActionState(C,L,G)},ie.useCallback=function(C,L){return Z.H.useCallback(C,L)},ie.useContext=function(C){return Z.H.useContext(C)},ie.useDebugValue=function(){},ie.useDeferredValue=function(C,L){return Z.H.useDeferredValue(C,L)},ie.useEffect=function(C,L){return Z.H.useEffect(C,L)},ie.useEffectEvent=function(C){return Z.H.useEffectEvent(C)},ie.useId=function(){return Z.H.useId()},ie.useImperativeHandle=function(C,L,G){return Z.H.useImperativeHandle(C,L,G)},ie.useInsertionEffect=function(C,L){return Z.H.useInsertionEffect(C,L)},ie.useLayoutEffect=function(C,L){return Z.H.useLayoutEffect(C,L)},ie.useMemo=function(C,L){return Z.H.useMemo(C,L)},ie.useOptimistic=function(C,L){return Z.H.useOptimistic(C,L)},ie.useReducer=function(C,L,G){return Z.H.useReducer(C,L,G)},ie.useRef=function(C){return Z.H.useRef(C)},ie.useState=function(C){return Z.H.useState(C)},ie.useSyncExternalStore=function(C,L,G){return Z.H.useSyncExternalStore(C,L,G)},ie.useTransition=function(){return Z.H.useTransition()},ie.version="19.2.4",ie}var D_;function Ad(){return D_||(D_=1,zf.exports=kE()),zf.exports}var ce=Ad(),Pf={exports:{}},gr={},Hf={exports:{}},Bf={};var I_;function LE(){return I_||(I_=1,(function(s){function t(O,P){var W=O.length;O.push(P);e:for(;0<W;){var Ne=W-1>>>1,je=O[Ne];if(0<o(je,P))O[Ne]=P,O[W]=je,W=Ne;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var P=O[0],W=O.pop();if(W!==P){O[0]=W;e:for(var Ne=0,je=O.length,C=je>>>1;Ne<C;){var L=2*(Ne+1)-1,G=O[L],V=L+1,se=O[V];if(0>o(G,W))V<je&&0>o(se,G)?(O[Ne]=se,O[V]=W,Ne=V):(O[Ne]=G,O[L]=W,Ne=L);else if(V<je&&0>o(se,W))O[Ne]=se,O[V]=W,Ne=V;else break e}}return P}function o(O,P){var W=O.sortIndex-P.sortIndex;return W!==0?W:O.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var _=[],g=[],b=1,S=null,y=3,w=!1,M=!1,z=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Q(O){for(var P=i(g);P!==null;){if(P.callback===null)r(g);else if(P.startTime<=O)r(g),P.sortIndex=P.expirationTime,t(_,P);else break;P=i(g)}}function Y(O){if(z=!1,Q(O),!M)if(i(_)!==null)M=!0,re||(re=!0,U());else{var P=i(g);P!==null&&Qe(Y,P.startTime-O)}}var re=!1,Z=-1,Te=5,Ze=-1;function le(){return H?!0:!(s.unstable_now()-Ze<Te)}function Be(){if(H=!1,re){var O=s.unstable_now();Ze=O;var P=!0;try{e:{M=!1,z&&(z=!1,te(Z),Z=-1),w=!0;var W=y;try{t:{for(Q(O),S=i(_);S!==null&&!(S.expirationTime>O&&le());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,y=S.priorityLevel;var je=Ne(S.expirationTime<=O);if(O=s.unstable_now(),typeof je=="function"){S.callback=je,Q(O),P=!0;break t}S===i(_)&&r(_),Q(O)}else r(_);S=i(_)}if(S!==null)P=!0;else{var C=i(g);C!==null&&Qe(Y,C.startTime-O),P=!1}}break e}finally{S=null,y=W,w=!1}P=void 0}}finally{P?U():re=!1}}}var U;if(typeof ue=="function")U=function(){ue(Be)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Ge=ne.port2;ne.port1.onmessage=Be,U=function(){Ge.postMessage(null)}}else U=function(){X(Be,0)};function Qe(O,P){Z=X(function(){O(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(O){switch(y){case 1:case 2:case 3:var P=3;break;default:P=y}var W=y;y=P;try{return O()}finally{y=W}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=y;y=O;try{return P()}finally{y=W}},s.unstable_scheduleCallback=function(O,P,W){var Ne=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ne+W:Ne):W=Ne,O){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=W+je,O={id:b++,callback:P,priorityLevel:O,startTime:W,expirationTime:je,sortIndex:-1},W>Ne?(O.sortIndex=W,t(g,O),i(_)===null&&O===i(g)&&(z?(te(Z),Z=-1):z=!0,Qe(Y,W-Ne))):(O.sortIndex=je,t(_,O),M||w||(M=!0,re||(re=!0,U()))),O},s.unstable_shouldYield=le,s.unstable_wrapCallback=function(O){var P=y;return function(){var W=y;y=P;try{return O.apply(this,arguments)}finally{y=W}}}})(Bf)),Bf}var M_;function UE(){return M_||(M_=1,Hf.exports=LE()),Hf.exports}var Gf={exports:{}},gt={};var j_;function zE(){if(j_)return gt;j_=1;var s=Ad();function t(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:g,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(_,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(_,g,null,b)},gt.flushSync=function(_){var g=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=g,r.p=b,r.d.f()}},gt.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},gt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},gt.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:y,fetchPriority:w}):b==="script"&&r.d.X(_,{crossOrigin:S,integrity:y,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},gt.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin);r.d.L(_,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(_,g){if(typeof _=="string")if(g){var b=m(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},gt.requestFormReset=function(_){r.d.r(_)},gt.unstable_batchedUpdates=function(_,g){return _(g)},gt.useFormState=function(_,g,b){return d.H.useFormState(_,g,b)},gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var k_;function PE(){if(k_)return Gf.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gf.exports=zE(),Gf.exports}var L_;function HE(){if(L_)return gr;L_=1;var s=UE(),t=Ad(),i=PE();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return _(c),e;if(f===l)return _(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,v=c.child;v;){if(v===a){p=!0,a=c,l=f;break}if(v===l){p=!0,l=c,a=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===a){p=!0,a=f,l=c;break}if(v===l){p=!0,l=f,a=c;break}v=v.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Ze=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),Be=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=Be&&e[Be]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case X:return"Profiler";case H:return"StrictMode";case Y:return"Suspense";case re:return"SuspenseList";case Ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case ue:return e.displayName||"Context";case te:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Ge(e.type)||"Memo";case Te:n=e._payload,e=e._init;try{return Ge(e(n))}catch{}}return null}var Qe=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Ne=[],je=-1;function C(e){return{current:e}}function L(e){0>je||(e.current=Ne[je],Ne[je]=null,je--)}function G(e,n){je++,Ne[je]=e.current,e.current=n}var V=C(null),se=C(null),de=C(null),we=C(null);function vt(e,n){switch(G(de,n),G(se,e),G(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zg(n),e=Jg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(V),G(V,e)}function Ke(){L(V),L(se),L(de)}function Ea(e){e.memoizedState!==null&&G(we,e);var n=V.current,a=Jg(n,e.type);n!==a&&(G(se,e),G(V,a))}function sl(e){se.current===e&&(L(V),L(se)),we.current===e&&(L(we),fr._currentValue=W)}var vc,xh;function Di(e){if(vc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vc=n&&n[1]||"",xh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vc+e+xh}var yc=!1;function bc(e,n){if(!e||yc)return"";yc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(D){var R=D}Reflect.construct(e,[],k)}else{try{k.call()}catch(D){R=D}e.call(k.prototype)}}else{try{throw Error()}catch(D){R=D}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],v=f[1];if(p&&v){var E=p.split(`
`),A=v.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===A.length)for(l=E.length-1,c=A.length-1;1<=l&&0<=c&&E[l]!==A[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==A[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==A[c]){var I=`
`+E[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{yc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function uS(e,n){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return e.child!==n&&n!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return bc(e.type,!1);case 11:return bc(e.type.render,!1);case 1:return bc(e.type,!0);case 31:return Di("Activity");default:return""}}function Ah(e){try{var n="",a=null;do n+=uS(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Sc=Object.prototype.hasOwnProperty,Ec=s.unstable_scheduleCallback,Tc=s.unstable_cancelCallback,fS=s.unstable_shouldYield,dS=s.unstable_requestPaint,Dt=s.unstable_now,hS=s.unstable_getCurrentPriorityLevel,Rh=s.unstable_ImmediatePriority,Oh=s.unstable_UserBlockingPriority,al=s.unstable_NormalPriority,mS=s.unstable_LowPriority,Dh=s.unstable_IdlePriority,pS=s.log,gS=s.unstable_setDisableYieldValue,Ta=null,It=null;function Vn(e){if(typeof pS=="function"&&gS(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Ta,e)}catch{}}var Mt=Math.clz32?Math.clz32:yS,_S=Math.log,vS=Math.LN2;function yS(e){return e>>>=0,e===0?32:31-(_S(e)/vS|0)|0}var rl=256,ll=262144,ol=4194304;function Ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~f,l!==0?c=Ii(l):(p&=v,p!==0?c=Ii(p):a||(a=v&~e,a!==0&&(c=Ii(a))))):(v=l&~f,v!==0?c=Ii(v):p!==0?c=Ii(p):a||(a=l&~e,a!==0&&(c=Ii(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ca(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ih(){var e=ol;return ol<<=1,(ol&62914560)===0&&(ol=4194304),e}function Cc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Na(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function SS(e,n,a,l,c,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,A=e.hiddenUpdates;for(a=p&~a;0<a;){var I=31-Mt(a),k=1<<I;v[I]=0,E[I]=-1;var R=A[I];if(R!==null)for(A[I]=null,I=0;I<R.length;I++){var D=R[I];D!==null&&(D.lane&=-536870913)}a&=~k}l!==0&&Mh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Mh(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function jh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Mt(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function kh(e,n){var a=n&-n;return a=(a&42)!==0?1:Nc(a),(a&(e.suspendedLanes|n))!==0?0:a}function Nc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lh(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Uh(e,n){var a=P.p;try{return P.p=e,n()}finally{P.p=a}}var Fn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Fn,Tt="__reactProps$"+Fn,fs="__reactContainer$"+Fn,xc="__reactEvents$"+Fn,ES="__reactListeners$"+Fn,TS="__reactHandles$"+Fn,zh="__reactResources$"+Fn,wa="__reactMarker$"+Fn;function Ac(e){delete e[ct],delete e[Tt],delete e[xc],delete e[ES],delete e[TS]}function ds(e){var n=e[ct];if(n)return n;for(var a=e.parentNode;a;){if(n=a[fs]||a[ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=a_(e);e!==null;){if(a=e[ct])return a;e=a_(e)}return n}e=a,a=e.parentNode}return null}function hs(e){if(e=e[ct]||e[fs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ms(e){var n=e[zh];return n||(n=e[zh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function at(e){e[wa]=!0}var Ph=new Set,Hh={};function Mi(e,n){ps(e,n),ps(e+"Capture",n)}function ps(e,n){for(Hh[e]=n,e=0;e<n.length;e++)Ph.add(n[e])}var CS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bh={},Gh={};function NS(e){return Sc.call(Gh,e)?!0:Sc.call(Bh,e)?!1:CS.test(e)?Gh[e]=!0:(Bh[e]=!0,!1)}function ul(e,n,a){if(NS(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function fl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wS(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Rc(e){if(!e._valueTracker){var n=qh(e)?"checked":"value";e._valueTracker=wS(e,n,""+e[n])}}function Vh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=qh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xS=/[\n"\\]/g;function Gt(e){return e.replace(xS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oc(e,n,a,l,c,f,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Bt(n)):e.value!==""+Bt(n)&&(e.value=""+Bt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Dc(e,p,Bt(n)):a!=null?Dc(e,p,Bt(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Bt(v):e.removeAttribute("name")}function Fh(e,n,a,l,c,f,p,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Rc(e);return}a=a!=null?""+Bt(a):"",n=n!=null?""+Bt(n):a,v||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Rc(e)}function Dc(e,n,a){n==="number"&&dl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gs(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Yh(e,n,a){if(n!=null&&(n=""+Bt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Bt(a):""}function Qh(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Qe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Bt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Rc(e)}function _s(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var AS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||AS.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Xh(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Kh(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Kh(e,f,n[f])}function Ic(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return OS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var Mc=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,ys=null;function Wh(e){var n=hs(e);if(n&&(e=n.stateNode)){var a=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Oc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[Tt]||null;if(!c)throw Error(r(90));Oc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Vh(l)}break e;case"textarea":Yh(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&gs(e,!!a.multiple,n,!1)}}}var kc=!1;function Zh(e,n,a){if(kc)return e(n,a);kc=!0;try{var l=e(n);return l}finally{if(kc=!1,(vs!==null||ys!==null)&&(eo(),vs&&(n=vs,e=ys,ys=vs=null,Wh(n),e)))for(n=0;n<e.length;n++)Wh(e[n])}}function Aa(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=!1;if(vn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Lc=!1}var Yn=null,Uc=null,ml=null;function Jh(){if(ml)return ml;var e,n=Uc,a=n.length,l,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var p=a-e;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return ml=c.slice(e,1<l?1-l:void 0)}function pl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function $h(){return!1}function Ct(e){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gl:$h,this.isPropagationStopped=$h,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Ct(ji),Oa=S({},ji,{view:0,detail:0}),DS=Ct(Oa),zc,Pc,Da,vl=S({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&e.type==="mousemove"?(zc=e.screenX-Da.screenX,Pc=e.screenY-Da.screenY):Pc=zc=0,Da=e),zc)},movementY:function(e){return"movementY"in e?e.movementY:Pc}}),em=Ct(vl),IS=S({},vl,{dataTransfer:0}),MS=Ct(IS),jS=S({},Oa,{relatedTarget:0}),Hc=Ct(jS),kS=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),LS=Ct(kS),US=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zS=Ct(US),PS=S({},ji,{data:0}),tm=Ct(PS),HS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=GS[e])?!!n[e]:!1}function Bc(){return qS}var VS=S({},Oa,{key:function(e){if(e.key){var n=HS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FS=Ct(VS),YS=S({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=Ct(YS),QS=S({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),KS=Ct(QS),XS=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),WS=Ct(XS),ZS=S({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=Ct(ZS),$S=S({},ji,{newState:0,oldState:0}),e0=Ct($S),t0=[9,13,27,32],Gc=vn&&"CompositionEvent"in window,Ia=null;vn&&"documentMode"in document&&(Ia=document.documentMode);var n0=vn&&"TextEvent"in window&&!Ia,im=vn&&(!Gc||Ia&&8<Ia&&11>=Ia),sm=" ",am=!1;function rm(e,n){switch(e){case"keyup":return t0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function i0(e,n){switch(e){case"compositionend":return lm(n);case"keypress":return n.which!==32?null:(am=!0,sm);case"textInput":return e=n.data,e===sm&&am?null:e;default:return null}}function s0(e,n){if(bs)return e==="compositionend"||!Gc&&rm(e,n)?(e=Jh(),ml=Uc=Yn=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return im&&n.locale!=="ko"?null:n.data;default:return null}}var a0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!a0[e.type]:n==="textarea"}function cm(e,n,a,l){vs?ys?ys.push(l):ys=[l]:vs=l,n=lo(n,"onChange"),0<n.length&&(a=new _l("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ma=null,ja=null;function r0(e){Fg(e,0)}function yl(e){var n=xa(e);if(Vh(n))return e}function um(e,n){if(e==="change")return n}var fm=!1;if(vn){var qc;if(vn){var Vc="oninput"in document;if(!Vc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Vc=typeof dm.oninput=="function"}qc=Vc}else qc=!1;fm=qc&&(!document.documentMode||9<document.documentMode)}function hm(){Ma&&(Ma.detachEvent("onpropertychange",mm),ja=Ma=null)}function mm(e){if(e.propertyName==="value"&&yl(ja)){var n=[];cm(n,ja,e,jc(e)),Zh(r0,n)}}function l0(e,n,a){e==="focusin"?(hm(),Ma=n,ja=a,Ma.attachEvent("onpropertychange",mm)):e==="focusout"&&hm()}function o0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(ja)}function c0(e,n){if(e==="click")return yl(n)}function u0(e,n){if(e==="input"||e==="change")return yl(n)}function f0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jt=typeof Object.is=="function"?Object.is:f0;function ka(e,n){if(jt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Sc.call(n,c)||!jt(e[c],n[c]))return!1}return!0}function pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gm(e,n){var a=pm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pm(a)}}function _m(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_m(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=dl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=dl(e.document)}return n}function Fc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var d0=vn&&"documentMode"in document&&11>=document.documentMode,Ss=null,Yc=null,La=null,Qc=!1;function ym(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qc||Ss==null||Ss!==dl(l)||(l=Ss,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),La&&ka(La,l)||(La=l,l=lo(Yc,"onSelect"),0<l.length&&(n=new _l("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Ss)))}function ki(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Es={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Kc={},bm={};vn&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Li(e){if(Kc[e])return Kc[e];if(!Es[e])return e;var n=Es[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in bm)return Kc[e]=n[a];return e}var Sm=Li("animationend"),Em=Li("animationiteration"),Tm=Li("animationstart"),h0=Li("transitionrun"),m0=Li("transitionstart"),p0=Li("transitioncancel"),Cm=Li("transitionend"),Nm=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function en(e,n){Nm.set(e,n),Mi(n,[e])}var bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Ts=0,Wc=0;function Sl(){for(var e=Ts,n=Wc=Ts=0;n<e;){var a=qt[n];qt[n++]=null;var l=qt[n];qt[n++]=null;var c=qt[n];qt[n++]=null;var f=qt[n];if(qt[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&wm(a,c,f)}}function El(e,n,a,l){qt[Ts++]=e,qt[Ts++]=n,qt[Ts++]=a,qt[Ts++]=l,Wc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Zc(e,n,a,l){return El(e,n,a,l),Tl(e)}function Ui(e,n){return El(e,null,null,n),Tl(e)}function wm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Mt(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Tl(e){if(50<sr)throw sr=0,lf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Cs={};function g0(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,a,l){return new g0(e,n,a,l)}function Jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,n){var a=e.alternate;return a===null?(a=kt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cl(e,n,a,l,c,f){var p=0;if(l=e,typeof e=="function")Jc(e)&&(p=1);else if(typeof e=="string")p=SE(e,a,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ze:return e=kt(31,a,n,c),e.elementType=Ze,e.lanes=f,e;case z:return zi(a.children,c,f,n);case H:p=8,c|=24;break;case X:return e=kt(12,a,n,c|2),e.elementType=X,e.lanes=f,e;case Y:return e=kt(13,a,n,c),e.elementType=Y,e.lanes=f,e;case re:return e=kt(19,a,n,c),e.elementType=re,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:p=10;break e;case te:p=9;break e;case Q:p=11;break e;case Z:p=14;break e;case Te:p=16,l=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=kt(p,a,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function zi(e,n,a,l){return e=kt(7,e,l,n),e.lanes=a,e}function $c(e,n,a){return e=kt(6,e,null,n),e.lanes=a,e}function Am(e){var n=kt(18,null,null,0);return n.stateNode=e,n}function eu(e,n,a){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rm=new WeakMap;function Vt(e,n){if(typeof e=="object"&&e!==null){var a=Rm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ah(n)},Rm.set(e,n),n)}return{value:e,source:n,stack:Ah(n)}}var Ns=[],ws=0,Nl=null,Ua=0,Ft=[],Yt=0,Qn=null,cn=1,un="";function bn(e,n){Ns[ws++]=Ua,Ns[ws++]=Nl,Nl=e,Ua=n}function Om(e,n,a){Ft[Yt++]=cn,Ft[Yt++]=un,Ft[Yt++]=Qn,Qn=e;var l=cn;e=un;var c=32-Mt(l)-1;l&=~(1<<c),a+=1;var f=32-Mt(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,cn=1<<32-Mt(n)+c|a<<c|l,un=f+e}else cn=1<<f|a<<c|l,un=e}function tu(e){e.return!==null&&(bn(e,1),Om(e,1,0))}function nu(e){for(;e===Nl;)Nl=Ns[--ws],Ns[ws]=null,Ua=Ns[--ws],Ns[ws]=null;for(;e===Qn;)Qn=Ft[--Yt],Ft[Yt]=null,un=Ft[--Yt],Ft[Yt]=null,cn=Ft[--Yt],Ft[Yt]=null}function Dm(e,n){Ft[Yt++]=cn,Ft[Yt++]=un,Ft[Yt++]=Qn,cn=n.id,un=n.overflow,Qn=e}var ut=null,ze=null,ye=!1,Kn=null,Qt=!1,iu=Error(r(519));function Xn(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(Vt(n,e)),iu}function Im(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ct]=e,n[Tt]=l,a){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(a=0;a<rr.length;a++)me(rr[a],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),Fh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),Qh(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Xg(n.textContent,a)?(l.popover!=null&&(me("beforetoggle",n),me("toggle",n)),l.onScroll!=null&&me("scroll",n),l.onScrollEnd!=null&&me("scrollend",n),l.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||Xn(e,!0)}function Mm(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ut=ut.return}}function xs(e){if(e!==ut)return!1;if(!ye)return Mm(e),ye=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ef(e.type,e.memoizedProps)),a=!a),a&&ze&&Xn(e),Mm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ze=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ze=s_(e)}else n===27?(n=ze,ci(e.type)?(e=xf,xf=null,ze=e):ze=n):ze=ut?Xt(e.stateNode.nextSibling):null;return!0}function Pi(){ze=ut=null,ye=!1}function su(){var e=Kn;return e!==null&&(At===null?At=e:At.push.apply(At,e),Kn=null),e}function za(e){Kn===null?Kn=[e]:Kn.push(e)}var au=C(null),Hi=null,Sn=null;function Wn(e,n,a){G(au,n._currentValue),n._currentValue=a}function En(e){e._currentValue=au.current,L(au)}function ru(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function lu(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var E=0;E<n.length;E++)if(v.context===n[E]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),ru(f.return,a,e),l||(p=null);break e}f=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ru(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function As(e,n,a,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var v=c.type;jt(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===we.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(fr):e=[fr])}c=c.return}e!==null&&lu(n,e,a,l),n.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Hi=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return jm(Hi,e)}function xl(e,n){return Hi===null&&Bi(e),jm(e,n)}function jm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Sn===null){if(e===null)throw Error(r(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return a}var _0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},v0=s.unstable_scheduleCallback,y0=s.unstable_NormalPriority,Je={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ou(){return{controller:new _0,data:new Map,refCount:0}}function Pa(e){e.refCount--,e.refCount===0&&v0(y0,function(){e.controller.abort()})}var Ha=null,cu=0,Rs=0,Os=null;function b0(e,n){if(Ha===null){var a=Ha=[];cu=0,Rs=hf(),Os={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cu++,n.then(km,km),n}function km(){if(--cu===0&&Ha!==null){Os!==null&&(Os.status="fulfilled");var e=Ha;Ha=null,Rs=0,Os=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function S0(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Lm=O.S;O.S=function(e,n){yg=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&b0(e,n),Lm!==null&&Lm(e,n)};var Gi=C(null);function uu(){var e=Gi.current;return e!==null?e:ke.pooledCache}function Al(e,n){n===null?G(Gi,Gi.current):G(Gi,n.pool)}function Um(){var e=uu();return e===null?null:{parent:Je._currentValue,pool:e}}var Ds=Error(r(460)),fu=Error(r(474)),Rl=Error(r(542)),Ol={then:function(){}};function zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(_n,_n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bm(e),e;default:if(typeof n.status=="string")n.then(_n,_n);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bm(e),e}throw Vi=n,Ds}}function qi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vi=a,Ds):a}}var Vi=null;function Hm(){if(Vi===null)throw Error(r(459));var e=Vi;return Vi=null,e}function Bm(e){if(e===Ds||e===Rl)throw Error(r(483))}var Is=null,Ba=0;function Dl(e){var n=Ba;return Ba+=1,Is===null&&(Is=[]),Pm(Is,e,n)}function Ga(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Il(e,n){throw n.$$typeof===y?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gm(e){function n(N,T){if(e){var x=N.deletions;x===null?(N.deletions=[T],N.flags|=16):x.push(T)}}function a(N,T){if(!e)return null;for(;T!==null;)n(N,T),T=T.sibling;return null}function l(N){for(var T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function c(N,T){return N=yn(N,T),N.index=0,N.sibling=null,N}function f(N,T,x){return N.index=x,e?(x=N.alternate,x!==null?(x=x.index,x<T?(N.flags|=67108866,T):x):(N.flags|=67108866,T)):(N.flags|=1048576,T)}function p(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,T,x,j){return T===null||T.tag!==6?(T=$c(x,N.mode,j),T.return=N,T):(T=c(T,x),T.return=N,T)}function E(N,T,x,j){var K=x.type;return K===z?I(N,T,x.props.children,j,x.key):T!==null&&(T.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Te&&qi(K)===T.type)?(T=c(T,x.props),Ga(T,x),T.return=N,T):(T=Cl(x.type,x.key,x.props,null,N.mode,j),Ga(T,x),T.return=N,T)}function A(N,T,x,j){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=eu(x,N.mode,j),T.return=N,T):(T=c(T,x.children||[]),T.return=N,T)}function I(N,T,x,j,K){return T===null||T.tag!==7?(T=zi(x,N.mode,j,K),T.return=N,T):(T=c(T,x),T.return=N,T)}function k(N,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=$c(""+T,N.mode,x),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return x=Cl(T.type,T.key,T.props,null,N.mode,x),Ga(x,T),x.return=N,x;case M:return T=eu(T,N.mode,x),T.return=N,T;case Te:return T=qi(T),k(N,T,x)}if(Qe(T)||U(T))return T=zi(T,N.mode,x,null),T.return=N,T;if(typeof T.then=="function")return k(N,Dl(T),x);if(T.$$typeof===ue)return k(N,xl(N,T),x);Il(N,T)}return null}function R(N,T,x,j){var K=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return K!==null?null:v(N,T,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return x.key===K?E(N,T,x,j):null;case M:return x.key===K?A(N,T,x,j):null;case Te:return x=qi(x),R(N,T,x,j)}if(Qe(x)||U(x))return K!==null?null:I(N,T,x,j,null);if(typeof x.then=="function")return R(N,T,Dl(x),j);if(x.$$typeof===ue)return R(N,T,xl(N,x),j);Il(N,x)}return null}function D(N,T,x,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return N=N.get(x)||null,v(T,N,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return N=N.get(j.key===null?x:j.key)||null,E(T,N,j,K);case M:return N=N.get(j.key===null?x:j.key)||null,A(T,N,j,K);case Te:return j=qi(j),D(N,T,x,j,K)}if(Qe(j)||U(j))return N=N.get(x)||null,I(T,N,j,K,null);if(typeof j.then=="function")return D(N,T,x,Dl(j),K);if(j.$$typeof===ue)return D(N,T,x,xl(T,j),K);Il(T,j)}return null}function q(N,T,x,j){for(var K=null,be=null,F=T,oe=T=0,_e=null;F!==null&&oe<x.length;oe++){F.index>oe?(_e=F,F=null):_e=F.sibling;var Se=R(N,F,x[oe],j);if(Se===null){F===null&&(F=_e);break}e&&F&&Se.alternate===null&&n(N,F),T=f(Se,T,oe),be===null?K=Se:be.sibling=Se,be=Se,F=_e}if(oe===x.length)return a(N,F),ye&&bn(N,oe),K;if(F===null){for(;oe<x.length;oe++)F=k(N,x[oe],j),F!==null&&(T=f(F,T,oe),be===null?K=F:be.sibling=F,be=F);return ye&&bn(N,oe),K}for(F=l(F);oe<x.length;oe++)_e=D(F,N,oe,x[oe],j),_e!==null&&(e&&_e.alternate!==null&&F.delete(_e.key===null?oe:_e.key),T=f(_e,T,oe),be===null?K=_e:be.sibling=_e,be=_e);return e&&F.forEach(function(mi){return n(N,mi)}),ye&&bn(N,oe),K}function J(N,T,x,j){if(x==null)throw Error(r(151));for(var K=null,be=null,F=T,oe=T=0,_e=null,Se=x.next();F!==null&&!Se.done;oe++,Se=x.next()){F.index>oe?(_e=F,F=null):_e=F.sibling;var mi=R(N,F,Se.value,j);if(mi===null){F===null&&(F=_e);break}e&&F&&mi.alternate===null&&n(N,F),T=f(mi,T,oe),be===null?K=mi:be.sibling=mi,be=mi,F=_e}if(Se.done)return a(N,F),ye&&bn(N,oe),K;if(F===null){for(;!Se.done;oe++,Se=x.next())Se=k(N,Se.value,j),Se!==null&&(T=f(Se,T,oe),be===null?K=Se:be.sibling=Se,be=Se);return ye&&bn(N,oe),K}for(F=l(F);!Se.done;oe++,Se=x.next())Se=D(F,N,oe,Se.value,j),Se!==null&&(e&&Se.alternate!==null&&F.delete(Se.key===null?oe:Se.key),T=f(Se,T,oe),be===null?K=Se:be.sibling=Se,be=Se);return e&&F.forEach(function(IE){return n(N,IE)}),ye&&bn(N,oe),K}function De(N,T,x,j){if(typeof x=="object"&&x!==null&&x.type===z&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case w:e:{for(var K=x.key;T!==null;){if(T.key===K){if(K=x.type,K===z){if(T.tag===7){a(N,T.sibling),j=c(T,x.props.children),j.return=N,N=j;break e}}else if(T.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Te&&qi(K)===T.type){a(N,T.sibling),j=c(T,x.props),Ga(j,x),j.return=N,N=j;break e}a(N,T);break}else n(N,T);T=T.sibling}x.type===z?(j=zi(x.props.children,N.mode,j,x.key),j.return=N,N=j):(j=Cl(x.type,x.key,x.props,null,N.mode,j),Ga(j,x),j.return=N,N=j)}return p(N);case M:e:{for(K=x.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){a(N,T.sibling),j=c(T,x.children||[]),j.return=N,N=j;break e}else{a(N,T);break}else n(N,T);T=T.sibling}j=eu(x,N.mode,j),j.return=N,N=j}return p(N);case Te:return x=qi(x),De(N,T,x,j)}if(Qe(x))return q(N,T,x,j);if(U(x)){if(K=U(x),typeof K!="function")throw Error(r(150));return x=K.call(x),J(N,T,x,j)}if(typeof x.then=="function")return De(N,T,Dl(x),j);if(x.$$typeof===ue)return De(N,T,xl(N,x),j);Il(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,T!==null&&T.tag===6?(a(N,T.sibling),j=c(T,x),j.return=N,N=j):(a(N,T),j=$c(x,N.mode,j),j.return=N,N=j),p(N)):a(N,T)}return function(N,T,x,j){try{Ba=0;var K=De(N,T,x,j);return Is=null,K}catch(F){if(F===Ds||F===Rl)throw F;var be=kt(29,F,null,N.mode);return be.lanes=j,be.return=N,be}}}var Fi=Gm(!0),qm=Gm(!1),Zn=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Tl(e),wm(e,null,a),n}return El(e,l,n,a),Tl(e)}function qa(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,jh(e,a)}}function mu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pu=!1;function Va(){if(pu){var e=Os;if(e!==null)throw e}}function Fa(e,n,a,l){pu=!1;var c=e.updateQueue;Zn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var E=v,A=E.next;E.next=null,p===null?f=A:p.next=A,p=E;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==p&&(v===null?I.firstBaseUpdate=A:v.next=A,I.lastBaseUpdate=E))}if(f!==null){var k=c.baseState;p=0,I=A=E=null,v=f;do{var R=v.lane&-536870913,D=R!==v.lane;if(D?(ge&R)===R:(l&R)===R){R!==0&&R===Rs&&(pu=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var q=e,J=v;R=n;var De=a;switch(J.tag){case 1:if(q=J.payload,typeof q=="function"){k=q.call(De,k,R);break e}k=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=J.payload,R=typeof q=="function"?q.call(De,k,R):q,R==null)break e;k=S({},k,R);break e;case 2:Zn=!0}}R=v.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[R]:D.push(R))}else D={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(A=I=D,E=k):I=I.next=D,p|=R;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;D=v,v=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);I===null&&(E=k),c.baseState=E,c.firstBaseUpdate=A,c.lastBaseUpdate=I,f===null&&(c.shared.lanes=0),si|=p,e.lanes=p,e.memoizedState=k}}function Vm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Fm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vm(a[e],n)}var Ms=C(null),Ml=C(0);function Ym(e,n){e=Dn,G(Ml,e),G(Ms,n),Dn=e|n.baseLanes}function gu(){G(Ml,Dn),G(Ms,Ms.current)}function _u(){Dn=Ml.current,L(Ms),L(Ml)}var Lt=C(null),Kt=null;function ei(e){var n=e.alternate;G(Xe,Xe.current&1),G(Lt,e),Kt===null&&(n===null||Ms.current!==null||n.memoizedState!==null)&&(Kt=e)}function vu(e){G(Xe,Xe.current),G(Lt,e),Kt===null&&(Kt=e)}function Qm(e){e.tag===22?(G(Xe,Xe.current),G(Lt,e),Kt===null&&(Kt=e)):ti()}function ti(){G(Xe,Xe.current),G(Lt,Lt.current)}function Ut(e){L(Lt),Kt===e&&(Kt=null),L(Xe)}var Xe=C(0);function jl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nf(a)||wf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,ae=null,Re=null,$e=null,kl=!1,js=!1,Yi=!1,Ll=0,Ya=0,ks=null,E0=0;function qe(){throw Error(r(321))}function yu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!jt(e[a],n[a]))return!1;return!0}function bu(e,n,a,l,c,f){return Tn=f,ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?Op:ku,Yi=!1,f=a(l,c),Yi=!1,js&&(f=Xm(n,a,l,c)),Km(e),f}function Km(e){O.H=Xa;var n=Re!==null&&Re.next!==null;if(Tn=0,$e=Re=ae=null,kl=!1,Ya=0,ks=null,n)throw Error(r(300));e===null||et||(e=e.dependencies,e!==null&&wl(e)&&(et=!0))}function Xm(e,n,a,l){ae=e;var c=0;do{if(js&&(ks=null),Ya=0,js=!1,25<=c)throw Error(r(301));if(c+=1,$e=Re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=Dp,f=n(a,l)}while(js);return f}function T0(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Qa(n):n,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ae.flags|=1024),n}function Su(){var e=Ll!==0;return Ll=0,e}function Eu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Tu(e){if(kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}kl=!1}Tn=0,$e=Re=ae=null,js=!1,Ya=Ll=0,ks=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ae.memoizedState=$e=e:$e=$e.next=e,$e}function We(){if(Re===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var n=$e===null?ae.memoizedState:$e.next;if(n!==null)$e=n,Re=e;else{if(e===null)throw ae.alternate===null?Error(r(467)):Error(r(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},$e===null?ae.memoizedState=$e=e:$e=$e.next=e}return $e}function Ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qa(e){var n=Ya;return Ya+=1,ks===null&&(ks=[]),e=Pm(ks,e,n),n=ae,($e===null?n.memoizedState:$e.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?Op:ku),e}function zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qa(e);if(e.$$typeof===ue)return ft(e)}throw Error(r(438,String(e)))}function Cu(e){var n=null,a=ae.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ul(),ae.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=le;return n.index++,a}function Cn(e,n){return typeof n=="function"?n(e):n}function Pl(e){var n=We();return Nu(n,Re,e)}function Nu(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var v=p=null,E=null,A=n,I=!1;do{var k=A.lane&-536870913;if(k!==A.lane?(ge&k)===k:(Tn&k)===k){var R=A.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),k===Rs&&(I=!0);else if((Tn&R)===R){A=A.next,R===Rs&&(I=!0);continue}else k={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(v=E=k,p=f):E=E.next=k,ae.lanes|=R,si|=R;k=A.action,Yi&&a(f,k),f=A.hasEagerState?A.eagerState:a(f,k)}else R={lane:k,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},E===null?(v=E=R,p=f):E=E.next=R,ae.lanes|=k,si|=k;A=A.next}while(A!==null&&A!==n);if(E===null?p=f:E.next=v,!jt(f,e.memoizedState)&&(et=!0,I&&(a=Os,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=E,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wu(e){var n=We(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);jt(f,n.memoizedState)||(et=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Wm(e,n,a){var l=ae,c=We(),f=ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!jt((Re||c).memoizedState,a);if(p&&(c.memoizedState=a,et=!0),c=c.queue,Ru($m.bind(null,l,c,e),[e]),c.getSnapshot!==n||p||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Ls(9,{destroy:void 0},Jm.bind(null,l,c,a,n),null),ke===null)throw Error(r(349));f||(Tn&127)!==0||Zm(l,n,a)}return a}function Zm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ae.updateQueue,n===null?(n=Ul(),ae.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Jm(e,n,a,l){n.value=a,n.getSnapshot=l,ep(n)&&tp(e)}function $m(e,n,a){return a(function(){ep(n)&&tp(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!jt(e,a)}catch{return!0}}function tp(e){var n=Ui(e,2);n!==null&&Rt(n,e,2)}function xu(e){var n=yt();if(typeof e=="function"){var a=e;if(e=a(),Yi){Vn(!0);try{a()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},n}function np(e,n,a,l){return e.baseState=a,Nu(e,Re,typeof l=="function"?l:Cn)}function C0(e,n,a,l,c){if(Gl(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};O.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ip(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=O.T,p={};O.T=p;try{var v=a(c,l),E=O.S;E!==null&&E(p,v),sp(e,n,v)}catch(A){Au(e,n,A)}finally{f!==null&&p.types!==null&&(f.types=p.types),O.T=f}}else try{f=a(c,l),sp(e,n,f)}catch(A){Au(e,n,A)}}function sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ap(e,n,l)},function(l){return Au(e,n,l)}):ap(e,n,a)}function ap(e,n,a){n.status="fulfilled",n.value=a,rp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,ip(e,a)))}function Au(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,rp(n),n=n.next;while(n!==l)}e.action=null}function rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lp(e,n){return n}function op(e,n){if(ye){var a=ke.formState;if(a!==null){e:{var l=ae;if(ye){if(ze){t:{for(var c=ze,f=Qt;c.nodeType!==8;){if(!f){c=null;break t}if(c=Xt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ze=Xt(c.nextSibling),l=c.data==="F!";break e}}Xn(l)}l=!1}l&&(n=a[0])}}return a=yt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},a.queue=l,a=xp.bind(null,ae,l),l.dispatch=a,l=xu(!1),f=ju.bind(null,ae,!1,l.queue),l=yt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=C0.bind(null,ae,c,f,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function cp(e){var n=We();return up(n,Re,e)}function up(e,n,a){if(n=Nu(e,n,lp)[0],e=Pl(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Qa(n)}catch(p){throw p===Ds?Rl:p}else l=n;n=We();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(ae.flags|=2048,Ls(9,{destroy:void 0},N0.bind(null,c,a),null)),[l,f,e]}function N0(e,n){e.action=n}function fp(e){var n=We(),a=Re;if(a!==null)return up(n,a,e);We(),n=n.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Ls(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ae.updateQueue,n===null&&(n=Ul(),ae.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function dp(){return We().memoizedState}function Hl(e,n,a,l){var c=yt();ae.flags|=e,c.memoizedState=Ls(1|n,{destroy:void 0},a,l===void 0?null:l)}function Bl(e,n,a,l){var c=We();l=l===void 0?null:l;var f=c.memoizedState.inst;Re!==null&&l!==null&&yu(l,Re.memoizedState.deps)?c.memoizedState=Ls(n,f,a,l):(ae.flags|=e,c.memoizedState=Ls(1|n,f,a,l))}function hp(e,n){Hl(8390656,8,e,n)}function Ru(e,n){Bl(2048,8,e,n)}function w0(e){ae.flags|=4;var n=ae.updateQueue;if(n===null)n=Ul(),ae.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function mp(e){var n=We().memoizedState;return w0({ref:n,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function pp(e,n){return Bl(4,2,e,n)}function gp(e,n){return Bl(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vp(e,n,a){a=a!=null?a.concat([e]):null,Bl(4,4,_p.bind(null,n,e),a)}function Ou(){}function yp(e,n){var a=We();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&yu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function bp(e,n){var a=We();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&yu(n,l[1]))return l[0];if(l=e(),Yi){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,n],l}function Du(e,n,a){return a===void 0||(Tn&1073741824)!==0&&(ge&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Sg(),ae.lanes|=e,si|=e,a)}function Sp(e,n,a,l){return jt(a,n)?a:Ms.current!==null?(e=Du(e,a,l),jt(e,n)||(et=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(ge&261930)===0?(et=!0,e.memoizedState=a):(e=Sg(),ae.lanes|=e,si|=e,n)}function Ep(e,n,a,l,c){var f=P.p;P.p=f!==0&&8>f?f:8;var p=O.T,v={};O.T=v,ju(e,!1,n,a);try{var E=c(),A=O.S;if(A!==null&&A(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=S0(E,l);Ka(e,n,I,Ht(e))}else Ka(e,n,l,Ht(e))}catch(k){Ka(e,n,{then:function(){},status:"rejected",reason:k},Ht())}finally{P.p=f,p!==null&&v.types!==null&&(p.types=v.types),O.T=p}}function x0(){}function Iu(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=Tp(e).queue;Ep(e,c,n,W,a===null?x0:function(){return Cp(e),a(l)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:W},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Ka(e,n.next.queue,{},Ht())}function Mu(){return ft(fr)}function Np(){return We().memoizedState}function wp(){return We().memoizedState}function A0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ht();e=Jn(a);var l=$n(n,e,a);l!==null&&(Rt(l,n,a),qa(l,n,a)),n={cache:ou()},e.payload=n;return}n=n.return}}function R0(e,n,a){var l=Ht();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gl(e)?Ap(n,a):(a=Zc(e,n,a,l),a!==null&&(Rt(a,e,l),Rp(a,n,l)))}function xp(e,n,a){var l=Ht();Ka(e,n,a,l)}function Ka(e,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))Ap(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,v=f(p,a);if(c.hasEagerState=!0,c.eagerState=v,jt(v,p))return El(e,n,c,0),ke===null&&Sl(),!1}catch{}if(a=Zc(e,n,c,l),a!==null)return Rt(a,e,l),Rp(a,n,l),!0}return!1}function ju(e,n,a,l){if(l={lane:2,revertLane:hf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gl(e)){if(n)throw Error(r(479))}else n=Zc(e,a,l,2),n!==null&&Rt(n,e,2)}function Gl(e){var n=e.alternate;return e===ae||n!==null&&n===ae}function Ap(e,n){js=kl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Rp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,jh(e,a)}}var Xa={readContext:ft,use:zl,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Xa.useEffectEvent=qe;var Op={readContext:ft,use:zl,useCallback:function(e,n){return yt().memoizedState=[e,n===void 0?null:n],e},useContext:ft,useEffect:hp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Hl(4194308,4,_p.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Hl(4194308,4,e,n)},useInsertionEffect:function(e,n){Hl(4,2,e,n)},useMemo:function(e,n){var a=yt();n=n===void 0?null:n;var l=e();if(Yi){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=yt();if(a!==void 0){var c=a(n);if(Yi){Vn(!0);try{a(n)}finally{Vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=R0.bind(null,ae,e),[l.memoizedState,e]},useRef:function(e){var n=yt();return e={current:e},n.memoizedState=e},useState:function(e){e=xu(e);var n=e.queue,a=xp.bind(null,ae,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ou,useDeferredValue:function(e,n){var a=yt();return Du(a,e,n)},useTransition:function(){var e=xu(!1);return e=Ep.bind(null,ae,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ae,c=yt();if(ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ke===null)throw Error(r(349));(ge&127)!==0||Zm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,hp($m.bind(null,l,f,e),[e]),l.flags|=2048,Ls(9,{destroy:void 0},Jm.bind(null,l,f,a,n),null),a},useId:function(){var e=yt(),n=ke.identifierPrefix;if(ye){var a=un,l=cn;a=(l&~(1<<32-Mt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ll++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=E0++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mu,useFormState:op,useActionState:op,useOptimistic:function(e){var n=yt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ju.bind(null,ae,!0,a),a.dispatch=n,[e,n]},useMemoCache:Cu,useCacheRefresh:function(){return yt().memoizedState=A0.bind(null,ae)},useEffectEvent:function(e){var n=yt(),a={impl:e};return n.memoizedState=a,function(){if((Ce&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ku={readContext:ft,use:zl,useCallback:yp,useContext:ft,useEffect:Ru,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:bp,useReducer:Pl,useRef:dp,useState:function(){return Pl(Cn)},useDebugValue:Ou,useDeferredValue:function(e,n){var a=We();return Sp(a,Re.memoizedState,e,n)},useTransition:function(){var e=Pl(Cn)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Qa(e),n]},useSyncExternalStore:Wm,useId:Np,useHostTransitionStatus:Mu,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var a=We();return np(a,Re,e,n)},useMemoCache:Cu,useCacheRefresh:wp};ku.useEffectEvent=mp;var Dp={readContext:ft,use:zl,useCallback:yp,useContext:ft,useEffect:Ru,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:bp,useReducer:wu,useRef:dp,useState:function(){return wu(Cn)},useDebugValue:Ou,useDeferredValue:function(e,n){var a=We();return Re===null?Du(a,e,n):Sp(a,Re.memoizedState,e,n)},useTransition:function(){var e=wu(Cn)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Qa(e),n]},useSyncExternalStore:Wm,useId:Np,useHostTransitionStatus:Mu,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var a=We();return Re!==null?np(a,Re,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:wp};Dp.useEffectEvent=mp;function Lu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Ht(),c=Jn(l);c.payload=n,a!=null&&(c.callback=a),n=$n(e,c,l),n!==null&&(Rt(n,e,l),qa(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Ht(),c=Jn(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=$n(e,c,l),n!==null&&(Rt(n,e,l),qa(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ht(),l=Jn(a);l.tag=2,n!=null&&(l.callback=n),n=$n(e,l,a),n!==null&&(Rt(n,e,a),qa(n,e,a))}};function Ip(e,n,a,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!ka(a,l)||!ka(c,f):!0}function Mp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Uu.enqueueReplaceState(n,n.state,null)}function Qi(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function jp(e){bl(e)}function kp(e){console.error(e)}function Lp(e){bl(e)}function ql(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Up(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zu(e,n,a){return a=Jn(a),a.tag=3,a.payload={element:null},a.callback=function(){ql(e,n)},a}function zp(e){return e=Jn(e),e.tag=3,e}function Pp(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Up(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Up(n,a,l),typeof c!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function O0(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&As(n,a,c,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return Kt===null?to():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Ol?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),uf(e,l,c)),!1;case 22:return a.flags|=65536,l===Ol?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),uf(e,l,c)),!1}throw Error(r(435,a.tag))}return uf(e,l,c),to(),!1}if(ye)return n=Lt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==iu&&(e=Error(r(422),{cause:l}),za(Vt(e,a)))):(l!==iu&&(n=Error(r(423),{cause:l}),za(Vt(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Vt(l,a),c=zu(e.stateNode,l,c),mu(e,c),Ve!==4&&(Ve=2)),!1;var f=Error(r(520),{cause:l});if(f=Vt(f,a),ir===null?ir=[f]:ir.push(f),Ve!==4&&(Ve=2),n===null)return!0;l=Vt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=zu(a.stateNode,l,e),mu(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ai===null||!ai.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=zp(c),Pp(c,e,a,l),mu(a,c),!1}a=a.return}while(a!==null);return!1}var Pu=Error(r(461)),et=!1;function dt(e,n,a,l){n.child=e===null?qm(n,null,a,l):Fi(n,e.child,a,l)}function Hp(e,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}else p=l;return Bi(n),l=bu(e,n,a,p,f,c),v=Su(),e!==null&&!et?(Eu(e,n,c),Nn(e,n,c)):(ye&&v&&tu(n),n.flags|=1,dt(e,n,l,c),n.child)}function Bp(e,n,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,l,c)):(e=Cl(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qu(e,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:ka,a(p,l)&&e.ref===n.ref)return Nn(e,n,c)}return n.flags|=1,e=yn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,a,l,c){if(e!==null){var f=e.memoizedProps;if(ka(f,l)&&e.ref===n.ref)if(et=!1,n.pendingProps=l=f,Qu(e,c))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,Nn(e,n,c)}return Hu(e,n,a,l,c)}function qp(e,n,a,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Vp(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Al(n,f!==null?f.cachePool:null),f!==null?Ym(n,f):gu(),Qm(n);else return l=n.lanes=536870912,Vp(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Al(n,f.cachePool),Ym(n,f),ti(),n.memoizedState=null):(e!==null&&Al(n,null),gu(),ti());return dt(e,n,c,a),n.child}function Wa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vp(e,n,a,l,c){var f=uu();return f=f===null?null:{parent:Je._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Al(n,null),gu(),Qm(n),e!==null&&As(e,n,l,!0),n.childLanes=c,null}function Vl(e,n){return n=Yl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fp(e,n,a){return Fi(n,e.child,null,a),e=Vl(n,n.pendingProps),e.flags|=2,Ut(n),n.memoizedState=null,e}function D0(e,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ye){if(l.mode==="hidden")return e=Vl(n,l),n.lanes=536870912,Wa(null,e);if(vu(n),(e=ze)?(e=i_(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},a=Am(e),a.return=n,n.child=a,ut=n,ze=null)):e=null,e===null)throw Xn(n);return n.lanes=536870912,null}return Vl(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(vu(n),c)if(n.flags&256)n.flags&=-257,n=Fp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(et||As(e,n,a,!1),c=(a&e.childLanes)!==0,et||c){if(l=ke,l!==null&&(p=kh(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ui(e,p),Rt(l,e,p),Pu;to(),n=Fp(e,n,a)}else e=f.treeContext,ze=Xt(p.nextSibling),ut=n,ye=!0,Kn=null,Qt=!1,e!==null&&Dm(n,e),n=Vl(n,l),n.flags|=4096;return n}return e=yn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Hu(e,n,a,l,c){return Bi(n),a=bu(e,n,a,l,void 0,c),l=Su(),e!==null&&!et?(Eu(e,n,c),Nn(e,n,c)):(ye&&l&&tu(n),n.flags|=1,dt(e,n,a,c),n.child)}function Yp(e,n,a,l,c,f){return Bi(n),n.updateQueue=null,a=Xm(n,l,a,c),Km(e),l=Su(),e!==null&&!et?(Eu(e,n,f),Nn(e,n,f)):(ye&&l&&tu(n),n.flags|=1,dt(e,n,a,f),n.child)}function Qp(e,n,a,l,c){if(Bi(n),n.stateNode===null){var f=Cs,p=a.contextType;typeof p=="object"&&p!==null&&(f=ft(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},du(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?ft(p):Cs,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Lu(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uu.enqueueReplaceState(f,f.state,null),Fa(n,l,f,c),Va(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,E=Qi(a,v);f.props=E;var A=f.context,I=a.contextType;p=Cs,typeof I=="object"&&I!==null&&(p=ft(I));var k=a.getDerivedStateFromProps;I=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||A!==p)&&Mp(n,f,l,p),Zn=!1;var R=n.memoizedState;f.state=R,Fa(n,l,f,c),Va(),A=n.memoizedState,v||R!==A||Zn?(typeof k=="function"&&(Lu(n,a,k,l),A=n.memoizedState),(E=Zn||Ip(n,a,E,l,R,A,p))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),f.props=l,f.state=A,f.context=p,l=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hu(e,n),p=n.memoizedProps,I=Qi(a,p),f.props=I,k=n.pendingProps,R=f.context,A=a.contextType,E=Cs,typeof A=="object"&&A!==null&&(E=ft(A)),v=a.getDerivedStateFromProps,(A=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==k||R!==E)&&Mp(n,f,l,E),Zn=!1,R=n.memoizedState,f.state=R,Fa(n,l,f,c),Va();var D=n.memoizedState;p!==k||R!==D||Zn||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof v=="function"&&(Lu(n,a,v,l),D=n.memoizedState),(I=Zn||Ip(n,a,I,l,R,D,E)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=E,l=I):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Fl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Fi(n,e.child,null,c),n.child=Fi(n,null,a,c)):dt(e,n,a,c),n.memoizedState=f.state,e=n.child):e=Nn(e,n,c),e}function Kp(e,n,a,l){return Pi(),n.flags|=256,dt(e,n,a,l),n.child}var Bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gu(e){return{baseLanes:e,cachePool:Um()}}function qu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Pt),e}function Xp(e,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(ye){if(c?ei(n):ti(),(e=ze)?(e=i_(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},a=Am(e),a.return=n,n.child=a,ut=n,ze=null)):e=null,e===null)throw Xn(n);return wf(e)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,c?(ti(),c=n.mode,v=Yl({mode:"hidden",children:v},c),l=zi(l,c,a,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=Gu(a),l.childLanes=qu(e,p,a),n.memoizedState=Bu,Wa(null,l)):(ei(n),Vu(n,v))}var E=e.memoizedState;if(E!==null&&(v=E.dehydrated,v!==null)){if(f)n.flags&256?(ei(n),n.flags&=-257,n=Fu(e,n,a)):n.memoizedState!==null?(ti(),n.child=e.child,n.flags|=128,n=null):(ti(),v=l.fallback,c=n.mode,l=Yl({mode:"visible",children:l.children},c),v=zi(v,c,a,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,Fi(n,e.child,null,a),l=n.child,l.memoizedState=Gu(a),l.childLanes=qu(e,p,a),n.memoizedState=Bu,n=Wa(null,l));else if(ei(n),wf(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var A=p.dgst;p=A,l=Error(r(419)),l.stack="",l.digest=p,za({value:l,source:null,stack:null}),n=Fu(e,n,a)}else if(et||As(e,n,a,!1),p=(a&e.childLanes)!==0,et||p){if(p=ke,p!==null&&(l=kh(p,a),l!==0&&l!==E.retryLane))throw E.retryLane=l,Ui(e,l),Rt(p,e,l),Pu;Nf(v)||to(),n=Fu(e,n,a)}else Nf(v)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,ze=Xt(v.nextSibling),ut=n,ye=!0,Kn=null,Qt=!1,e!==null&&Dm(n,e),n=Vu(n,l.children),n.flags|=4096);return n}return c?(ti(),v=l.fallback,c=n.mode,E=e.child,A=E.sibling,l=yn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,A!==null?v=yn(A,v):(v=zi(v,c,a,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,Wa(null,l),l=n.child,v=e.child.memoizedState,v===null?v=Gu(a):(c=v.cachePool,c!==null?(E=Je._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=Um(),v={baseLanes:v.baseLanes|a,cachePool:c}),l.memoizedState=v,l.childLanes=qu(e,p,a),n.memoizedState=Bu,Wa(e.child,l)):(ei(n),a=e.child,e=a.sibling,a=yn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Vu(e,n){return n=Yl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yl(e,n){return e=kt(22,e,null,n),e.lanes=0,e}function Fu(e,n,a){return Fi(n,e.child,null,a),e=Vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ru(e.return,n,a)}function Yu(e,n,a,l,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=f)}function Zp(e,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=Xe.current,v=(p&2)!==0;if(v?(p=p&1|2,n.flags|=128):p&=1,G(Xe,p),dt(e,n,l,a),l=ye?Ua:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,a,n);else if(e.tag===19)Wp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&jl(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Yu(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&jl(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Yu(n,!0,a,null,f,l);break;case"together":Yu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Nn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),si|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(As(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=yn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=yn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function I0(e,n,a){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Wn(n,Je,e.memoizedState.cache),Pi();break;case 27:case 5:Ea(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xp(e,n,a):(ei(n),e=Nn(e,n,a),e!==null?e.sibling:null);ei(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(As(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Zp(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Xe,Xe.current),l)break;return null;case 22:return n.lanes=0,qp(e,n,a,n.pendingProps);case 24:Wn(n,Je,e.memoizedState.cache)}return Nn(e,n,a)}function Jp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!Qu(e,a)&&(n.flags&128)===0)return et=!1,I0(e,n,a);et=(e.flags&131072)!==0}else et=!1,ye&&(n.flags&1048576)!==0&&Om(n,Ua,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=qi(n.elementType),n.type=e,typeof e=="function")Jc(e)?(l=Qi(e,l),n.tag=1,n=Qp(null,n,e,l,a)):(n.tag=0,n=Hu(null,n,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===Q){n.tag=11,n=Hp(null,n,e,l,a);break e}else if(c===Z){n.tag=14,n=Bp(null,n,e,l,a);break e}}throw n=Ge(e)||e,Error(r(306,n,""))}}return n;case 0:return Hu(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Qi(l,n.pendingProps),Qp(e,n,l,c,a);case 3:e:{if(vt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,hu(e,n),Fa(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Wn(n,Je,l),l!==f.cache&&lu(n,[Je],a,!0),Va(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(e,n,l,a);break e}else if(l!==c){c=Vt(Error(r(424)),n),za(c),n=Kp(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ze=Xt(e.firstChild),ut=n,ye=!0,Kn=null,Qt=!0,a=qm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Pi(),l===c){n=Nn(e,n,a);break e}dt(e,n,l,a)}n=n.child}return n;case 26:return Fl(e,n),e===null?(a=c_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ye||(a=n.type,e=n.pendingProps,l=oo(de.current).createElement(a),l[ct]=n,l[Tt]=e,ht(l,a,e),at(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ea(n),e===null&&ye&&(l=n.stateNode=r_(n.type,n.pendingProps,de.current),ut=n,Qt=!0,c=ze,ci(n.type)?(xf=c,ze=Xt(l.firstChild)):ze=c),dt(e,n,n.pendingProps.children,a),Fl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ye&&((c=l=ze)&&(l=oE(l,n.type,n.pendingProps,Qt),l!==null?(n.stateNode=l,ut=n,ze=Xt(l.firstChild),Qt=!1,c=!0):c=!1),c||Xn(n)),Ea(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,Ef(c,f)?l=null:p!==null&&Ef(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=bu(e,n,T0,null,null,a),fr._currentValue=c),Fl(e,n),dt(e,n,l,a),n.child;case 6:return e===null&&ye&&((e=a=ze)&&(a=cE(a,n.pendingProps,Qt),a!==null?(n.stateNode=a,ut=n,ze=null,e=!0):e=!1),e||Xn(n)),null;case 13:return Xp(e,n,a);case 4:return vt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Fi(n,null,l,a):dt(e,n,l,a),n.child;case 11:return Hp(e,n,n.type,n.pendingProps,a);case 7:return dt(e,n,n.pendingProps,a),n.child;case 8:return dt(e,n,n.pendingProps.children,a),n.child;case 12:return dt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wn(n,n.type,l.value),dt(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Bi(n),c=ft(c),l=l(c),n.flags|=1,dt(e,n,l,a),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,a);case 15:return Gp(e,n,n.type,n.pendingProps,a);case 19:return Zp(e,n,a);case 31:return D0(e,n,a);case 22:return qp(e,n,a,n.pendingProps);case 24:return Bi(n),l=ft(Je),e===null?(c=uu(),c===null&&(c=ke,f=ou(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},du(n),Wn(n,Je,c)):((e.lanes&a)!==0&&(hu(e,n),Fa(n,null,null,a),Va()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wn(n,Je,l)):(l=f.cache,Wn(n,Je,l),l!==c.cache&&lu(n,[Je],a,!0))),dt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function wn(e){e.flags|=4}function Ku(e,n,a,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Ng())e.flags|=8192;else throw Vi=Ol,fu}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(Ng())e.flags|=8192;else throw Vi=Ol,fu}function Ql(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ih():536870912,e.lanes|=n,Hs|=n)}function Za(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function M0(e,n,a){var l=n.pendingProps;switch(nu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),En(Je),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xs(n)?wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,su())),Pe(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(wn(n),f!==null?(Pe(n),$p(n,f)):(Pe(n),Ku(n,c,null,l,a))):f?f!==e.memoizedState?(wn(n),Pe(n),$p(n,f)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&wn(n),Pe(n),Ku(n,c,e,l,a)),null;case 27:if(sl(n),a=de.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&wn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Pe(n),null}e=V.current,xs(n)?Im(n):(e=r_(c,l,a),n.stateNode=e,wn(n))}return Pe(n),null;case 5:if(sl(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&wn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Pe(n),null}if(f=V.current,xs(n))Im(n);else{var p=oo(de.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[ct]=n,f[Tt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(ht(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wn(n)}}return Pe(n),Ku(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&wn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=de.current,xs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=ut,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ct]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xg(e.nodeValue,a)),e||Xn(n,!0)}else e=oo(e).createTextNode(l),e[ct]=n,n.stateNode=e}return Pe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=xs(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ct]=n}else Pi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else a=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Ut(n),n):(Ut(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Pe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=xs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=n}else Pi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),c=!1}else c=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ut(n),n):(Ut(n),null)}return Ut(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Ql(n,n.updateQueue),Pe(n),null);case 4:return Ke(),e===null&&_f(n.stateNode.containerInfo),Pe(n),null;case 10:return En(n.type),Pe(n),null;case 19:if(L(Xe),l=n.memoizedState,l===null)return Pe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Za(l,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=jl(e),f!==null){for(n.flags|=128,Za(l,!1),e=f.updateQueue,n.updateQueue=e,Ql(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)xm(a,e),a=a.sibling;return G(Xe,Xe.current&1|2),ye&&bn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Dt()>Jl&&(n.flags|=128,c=!0,Za(l,!1),n.lanes=4194304)}else{if(!c)if(e=jl(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Ql(n,e),Za(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ye)return Pe(n),null}else 2*Dt()-l.renderingStartTime>Jl&&a!==536870912&&(n.flags|=128,c=!0,Za(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,a=Xe.current,G(Xe,c?a&1|2:a&1),ye&&bn(n,l.treeForkCount),e):(Pe(n),null);case 22:case 23:return Ut(n),_u(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),a=n.updateQueue,a!==null&&Ql(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&L(Gi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),En(Je),Pe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function j0(e,n){switch(nu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return En(Je),Ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return sl(n),null;case 31:if(n.memoizedState!==null){if(Ut(n),n.alternate===null)throw Error(r(340));Pi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ut(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(Xe),null;case 4:return Ke(),null;case 10:return En(n.type),null;case 22:case 23:return Ut(n),_u(),e!==null&&L(Gi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return En(Je),null;case 25:return null;default:return null}}function eg(e,n){switch(nu(n),n.tag){case 3:En(Je),Ke();break;case 26:case 27:case 5:sl(n);break;case 4:Ke();break;case 31:n.memoizedState!==null&&Ut(n);break;case 13:Ut(n);break;case 19:L(Xe);break;case 10:En(n.type);break;case 22:case 23:Ut(n),_u(),e!==null&&L(Gi);break;case 24:En(Je)}}function Ja(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(v){Ae(n,n.return,v)}}function ni(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var p=l.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=n;var E=a,A=v;try{A()}catch(I){Ae(c,E,I)}}}l=l.next}while(l!==f)}}catch(I){Ae(n,n.return,I)}}function tg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Fm(n,a)}catch(l){Ae(e,e.return,l)}}}function ng(e,n,a){a.props=Qi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ae(e,n,l)}}function $a(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){Ae(e,n,c)}}function fn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ae(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ae(e,n,c)}else a.current=null}function ig(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ae(e,e.return,c)}}function Xu(e,n,a){try{var l=e.stateNode;nE(l,e.type,a,n),l[Tt]=n}catch(c){Ae(e,e.return,c)}}function sg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ci(e.type)||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_n));else if(l!==4&&(l===27&&ci(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Zu(e,n,a),e=e.sibling;e!==null;)Zu(e,n,a),e=e.sibling}function Kl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ci(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Kl(e,n,a),e=e.sibling;e!==null;)Kl(e,n,a),e=e.sibling}function ag(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ht(n,l,a),n[ct]=e,n[Tt]=a}catch(f){Ae(e,e.return,f)}}var xn=!1,tt=!1,Ju=!1,rg=typeof WeakSet=="function"?WeakSet:Set,rt=null;function k0(e,n){if(e=e.containerInfo,bf=go,e=vm(e),Fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,v=-1,E=-1,A=0,I=0,k=e,R=null;t:for(;;){for(var D;k!==a||c!==0&&k.nodeType!==3||(v=p+c),k!==f||l!==0&&k.nodeType!==3||(E=p+l),k.nodeType===3&&(p+=k.nodeValue.length),(D=k.firstChild)!==null;)R=k,k=D;for(;;){if(k===e)break t;if(R===a&&++A===c&&(v=p),R===f&&++I===l&&(E=p),(D=k.nextSibling)!==null)break;k=R,R=k.parentNode}k=D}a=v===-1||E===-1?null:{start:v,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:e,selectionRange:a},go=!1,rt=n;rt!==null;)if(n=rt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,rt=e;else for(;rt!==null;){switch(n=rt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var q=Qi(a.type,c);e=l.getSnapshotBeforeUpdate(q,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(J){Ae(a,a.return,J)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Cf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,rt=e;break}rt=n.return}}function lg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rn(e,a),l&4&&Ja(5,a);break;case 1:if(Rn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Ae(a,a.return,p)}else{var c=Qi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ae(a,a.return,p)}}l&64&&tg(a),l&512&&$a(a,a.return);break;case 3:if(Rn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Fm(e,n)}catch(p){Ae(a,a.return,p)}}break;case 27:n===null&&l&4&&ag(a);case 26:case 5:Rn(e,a),n===null&&l&4&&ig(a),l&512&&$a(a,a.return);break;case 12:Rn(e,a);break;case 31:Rn(e,a),l&4&&ug(e,a);break;case 13:Rn(e,a),l&4&&fg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=V0.bind(null,a),uE(e,a))));break;case 22:if(l=a.memoizedState!==null||xn,!l){n=n!==null&&n.memoizedState!==null||tt,c=xn;var f=tt;xn=l,(tt=n)&&!f?On(e,a,(a.subtreeFlags&8772)!==0):Rn(e,a),xn=c,tt=f}break;case 30:break;default:Rn(e,a)}}function og(e){var n=e.alternate;n!==null&&(e.alternate=null,og(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ac(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Nt=!1;function An(e,n,a){for(a=a.child;a!==null;)cg(e,n,a),a=a.sibling}function cg(e,n,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ta,a)}catch{}switch(a.tag){case 26:tt||fn(a,n),An(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||fn(a,n);var l=He,c=Nt;ci(a.type)&&(He=a.stateNode,Nt=!1),An(e,n,a),or(a.stateNode),He=l,Nt=c;break;case 5:tt||fn(a,n);case 6:if(l=He,c=Nt,He=null,An(e,n,a),He=l,Nt=c,He!==null)if(Nt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(f){Ae(a,n,f)}else try{He.removeChild(a.stateNode)}catch(f){Ae(a,n,f)}break;case 18:He!==null&&(Nt?(e=He,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ks(e)):t_(He,a.stateNode));break;case 4:l=He,c=Nt,He=a.stateNode.containerInfo,Nt=!0,An(e,n,a),He=l,Nt=c;break;case 0:case 11:case 14:case 15:ni(2,a,n),tt||ni(4,a,n),An(e,n,a);break;case 1:tt||(fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ng(a,n,l)),An(e,n,a);break;case 21:An(e,n,a);break;case 22:tt=(l=tt)||a.memoizedState!==null,An(e,n,a),tt=l;break;default:An(e,n,a)}}function ug(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(a){Ae(n,n.return,a)}}}function fg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(a){Ae(n,n.return,a)}}function L0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new rg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new rg),n;default:throw Error(r(435,e.tag))}}function Xl(e,n){var a=L0(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=F0.bind(null,e,l);l.then(c,c)}})}function wt(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,p=n,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(ci(v.type)){He=v.stateNode,Nt=!1;break e}break;case 5:He=v.stateNode,Nt=!1;break e;case 3:case 4:He=v.stateNode.containerInfo,Nt=!0;break e}v=v.return}if(He===null)throw Error(r(160));cg(f,p,c),He=null,Nt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dg(n,e),n=n.sibling}var tn=null;function dg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(n,e),xt(e),l&4&&(ni(3,e,e.return),Ja(3,e),ni(5,e,e.return));break;case 1:wt(n,e),xt(e),l&512&&(tt||a===null||fn(a,a.return)),l&64&&xn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=tn;if(wt(n,e),xt(e),l&512&&(tt||a===null||fn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[wa]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ht(f,l,a),f[ct]=e,at(f),l=f;break e;case"link":var p=d_("link","href",c).get(l+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(f=p[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break t}}f=c.createElement(l),ht(f,l,a),c.head.appendChild(f);break;case"meta":if(p=d_("meta","content",c).get(l+(a.content||""))){for(v=0;v<p.length;v++)if(f=p[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break t}}f=c.createElement(l),ht(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ct]=e,at(f),l=f}e.stateNode=l}else h_(c,e.type,e.stateNode);else e.stateNode=f_(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?h_(c,e.type,e.stateNode):f_(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Xu(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(n,e),xt(e),l&512&&(tt||a===null||fn(a,a.return)),a!==null&&l&4&&Xu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(n,e),xt(e),l&512&&(tt||a===null||fn(a,a.return)),e.flags&32){c=e.stateNode;try{_s(c,"")}catch(q){Ae(e,e.return,q)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Xu(e,c,a!==null?a.memoizedProps:c)),l&1024&&(Ju=!0);break;case 6:if(wt(n,e),xt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){Ae(e,e.return,q)}}break;case 3:if(fo=null,c=tn,tn=co(n.containerInfo),wt(n,e),tn=c,xt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ks(n.containerInfo)}catch(q){Ae(e,e.return,q)}Ju&&(Ju=!1,hg(e));break;case 4:l=tn,tn=co(e.stateNode.containerInfo),wt(n,e),xt(e),tn=l;break;case 12:wt(n,e),xt(e);break;case 31:wt(n,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xl(e,l)));break;case 13:wt(n,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zl=Dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xl(e,l)));break;case 22:c=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,A=xn,I=tt;if(xn=A||c,tt=I||E,wt(n,e),tt=I,xn=A,xt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||E||xn||tt||Ki(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(f=E.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=E.stateNode;var k=E.memoizedProps.style,R=k!=null&&k.hasOwnProperty("display")?k.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(q){Ae(E,E.return,q)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(q){Ae(E,E.return,q)}}}else if(n.tag===18){if(a===null){E=n;try{var D=E.stateNode;c?n_(D,!0):n_(E.stateNode,!1)}catch(q){Ae(E,E.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xl(e,a))));break;case 19:wt(n,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xl(e,l)));break;case 30:break;case 21:break;default:wt(n,e),xt(e)}}function xt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(sg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Wu(e);Kl(e,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(_s(p,""),a.flags&=-33);var v=Wu(e);Kl(e,v,p);break;case 3:case 4:var E=a.stateNode.containerInfo,A=Wu(e);Zu(e,A,E);break;default:throw Error(r(161))}}catch(I){Ae(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Rn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lg(e,n.alternate,n),n=n.sibling}function Ki(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ni(4,n,n.return),Ki(n);break;case 1:fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ng(n,n.return,a),Ki(n);break;case 27:or(n.stateNode);case 26:case 5:fn(n,n.return),Ki(n);break;case 22:n.memoizedState===null&&Ki(n);break;case 30:Ki(n);break;default:Ki(n)}e=e.sibling}}function On(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:On(c,f,a),Ja(4,f);break;case 1:if(On(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Ae(l,l.return,A)}if(l=f,c=l.updateQueue,c!==null){var v=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)Vm(E[c],v)}catch(A){Ae(l,l.return,A)}}a&&p&64&&tg(f),$a(f,f.return);break;case 27:ag(f);case 26:case 5:On(c,f,a),a&&l===null&&p&4&&ig(f),$a(f,f.return);break;case 12:On(c,f,a);break;case 31:On(c,f,a),a&&p&4&&ug(c,f);break;case 13:On(c,f,a),a&&p&4&&fg(c,f);break;case 22:f.memoizedState===null&&On(c,f,a),$a(f,f.return);break;case 30:break;default:On(c,f,a)}n=n.sibling}}function $u(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Pa(a))}function ef(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pa(e))}function nn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mg(e,n,a,l),n=n.sibling}function mg(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,a,l),c&2048&&Ja(9,n);break;case 1:nn(e,n,a,l);break;case 3:nn(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pa(e)));break;case 12:if(c&2048){nn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,v=f.onPostCommit;typeof v=="function"&&v(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ae(n,n.return,E)}}else nn(e,n,a,l);break;case 31:nn(e,n,a,l);break;case 13:nn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?nn(e,n,a,l):er(e,n):f._visibility&2?nn(e,n,a,l):(f._visibility|=2,Us(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&$u(p,n);break;case 24:nn(e,n,a,l),c&2048&&ef(n.alternate,n);break;default:nn(e,n,a,l)}}function Us(e,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,v=a,E=l,A=p.flags;switch(p.tag){case 0:case 11:case 15:Us(f,p,v,E,c),Ja(8,p);break;case 23:break;case 22:var I=p.stateNode;p.memoizedState!==null?I._visibility&2?Us(f,p,v,E,c):er(f,p):(I._visibility|=2,Us(f,p,v,E,c)),c&&A&2048&&$u(p.alternate,p);break;case 24:Us(f,p,v,E,c),c&&A&2048&&ef(p.alternate,p);break;default:Us(f,p,v,E,c)}n=n.sibling}}function er(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:er(a,l),c&2048&&$u(l.alternate,l);break;case 24:er(a,l),c&2048&&ef(l.alternate,l);break;default:er(a,l)}n=n.sibling}}var tr=8192;function zs(e,n,a){if(e.subtreeFlags&tr)for(e=e.child;e!==null;)pg(e,n,a),e=e.sibling}function pg(e,n,a){switch(e.tag){case 26:zs(e,n,a),e.flags&tr&&e.memoizedState!==null&&EE(a,tn,e.memoizedState,e.memoizedProps);break;case 5:zs(e,n,a);break;case 3:case 4:var l=tn;tn=co(e.stateNode.containerInfo),zs(e,n,a),tn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=tr,tr=16777216,zs(e,n,a),tr=l):zs(e,n,a));break;default:zs(e,n,a)}}function gg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];rt=l,vg(l,e)}gg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_g(e),e=e.sibling}function _g(e){switch(e.tag){case 0:case 11:case 15:nr(e),e.flags&2048&&ni(9,e,e.return);break;case 3:nr(e);break;case 12:nr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wl(e)):nr(e);break;default:nr(e)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];rt=l,vg(l,e)}gg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ni(8,n,n.return),Wl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wl(n));break;default:Wl(n)}e=e.sibling}}function vg(e,n){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:ni(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rt=l;else e:for(a=e;rt!==null;){l=rt;var c=l.sibling,f=l.return;if(og(l),l===a){rt=null;break e}if(c!==null){c.return=f,rt=c;break e}rt=f}}}var U0={getCacheForType:function(e){var n=ft(Je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ft(Je).controller.signal}},z0=typeof WeakMap=="function"?WeakMap:Map,Ce=0,ke=null,he=null,ge=0,xe=0,zt=null,ii=!1,Ps=!1,tf=!1,Dn=0,Ve=0,si=0,Xi=0,nf=0,Pt=0,Hs=0,ir=null,At=null,sf=!1,Zl=0,yg=0,Jl=1/0,$l=null,ai=null,nt=0,ri=null,Bs=null,In=0,af=0,rf=null,bg=null,sr=0,lf=null;function Ht(){return(Ce&2)!==0&&ge!==0?ge&-ge:O.T!==null?hf():Lh()}function Sg(){if(Pt===0)if((ge&536870912)===0||ye){var e=ll;ll<<=1,(ll&3932160)===0&&(ll=262144),Pt=e}else Pt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Pt}function Rt(e,n,a){(e===ke&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Gs(e,0),li(e,ge,Pt,!1)),Na(e,a),((Ce&2)===0||e!==ke)&&(e===ke&&((Ce&2)===0&&(Xi|=a),Ve===4&&li(e,ge,Pt,!1)),dn(e))}function Eg(e,n,a){if((Ce&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ca(e,n),c=l?B0(e,n):cf(e,n,!0),f=l;do{if(c===0){Ps&&!l&&li(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!P0(a)){c=cf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var v=e;c=ir;var E=v.current.memoizedState.isDehydrated;if(E&&(Gs(v,p).flags|=256),p=cf(v,p,!1),p!==2){if(tf&&!E){v.errorRecoveryDisabledLanes|=f,Xi|=f,c=4;break e}f=At,At=c,f!==null&&(At===null?At=f:At.push.apply(At,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Gs(e,0),li(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:li(l,n,Pt,!ii);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Zl+300-Dt(),10<c)){if(li(l,n,Pt,!ii),cl(l,0,!0)!==0)break e;In=n,l.timeoutHandle=$g(Tg.bind(null,l,a,At,$l,sf,n,Pt,Xi,Hs,ii,f,"Throttled",-0,0),c);break e}Tg(l,a,At,$l,sf,n,Pt,Xi,Hs,ii,f,null,-0,0)}}break}while(!0);dn(e)}function Tg(e,n,a,l,c,f,p,v,E,A,I,k,R,D){if(e.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},pg(n,f,k);var q=(f&62914560)===f?Zl-Dt():(f&4194048)===f?yg-Dt():0;if(q=TE(k,q),q!==null){In=f,e.cancelPendingCommit=q(Dg.bind(null,e,n,f,a,l,c,p,v,E,I,k,null,R,D)),li(e,f,p,!A);return}}Dg(e,n,f,a,l,c,p,v,E)}function P0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!jt(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function li(e,n,a,l){n&=~nf,n&=~Xi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Mt(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&Mh(e,a,n)}function eo(){return(Ce&6)===0?(ar(0),!1):!0}function of(){if(he!==null){if(xe===0)var e=he.return;else e=he,Sn=Hi=null,Tu(e),Is=null,Ba=0,e=he;for(;e!==null;)eg(e.alternate,e),e=e.return;he=null}}function Gs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,aE(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),In=0,of(),ke=e,he=a=yn(e.current,null),ge=n,xe=0,zt=null,ii=!1,Ps=Ca(e,n),tf=!1,Hs=Pt=nf=Xi=si=Ve=0,At=ir=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Mt(l),f=1<<c;n|=e[c],l&=~f}return Dn=n,Sl(),a}function Cg(e,n){ae=null,O.H=Xa,n===Ds||n===Rl?(n=Hm(),xe=3):n===fu?(n=Hm(),xe=4):xe=n===Pu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,he===null&&(Ve=1,ql(e,Vt(n,e.current)))}function Ng(){var e=Lt.current;return e===null?!0:(ge&4194048)===ge?Kt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Kt:!1}function wg(){var e=O.H;return O.H=Xa,e===null?Xa:e}function xg(){var e=O.A;return O.A=U0,e}function to(){Ve=4,ii||(ge&4194048)!==ge&&Lt.current!==null||(Ps=!0),(si&134217727)===0&&(Xi&134217727)===0||ke===null||li(ke,ge,Pt,!1)}function cf(e,n,a){var l=Ce;Ce|=2;var c=wg(),f=xg();(ke!==e||ge!==n)&&($l=null,Gs(e,n)),n=!1;var p=Ve;e:do try{if(xe!==0&&he!==null){var v=he,E=zt;switch(xe){case 8:of(),p=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(n=!0);var A=xe;if(xe=0,zt=null,qs(e,v,E,A),a&&Ps){p=0;break e}break;default:A=xe,xe=0,zt=null,qs(e,v,E,A)}}H0(),p=Ve;break}catch(I){Cg(e,I)}while(!0);return n&&e.shellSuspendCounter++,Sn=Hi=null,Ce=l,O.H=c,O.A=f,he===null&&(ke=null,ge=0,Sl()),p}function H0(){for(;he!==null;)Ag(he)}function B0(e,n){var a=Ce;Ce|=2;var l=wg(),c=xg();ke!==e||ge!==n?($l=null,Jl=Dt()+500,Gs(e,n)):Ps=Ca(e,n);e:do try{if(xe!==0&&he!==null){n=he;var f=zt;t:switch(xe){case 1:xe=0,zt=null,qs(e,n,f,1);break;case 2:case 9:if(zm(f)){xe=0,zt=null,Rg(n);break}n=function(){xe!==2&&xe!==9||ke!==e||(xe=7),dn(e)},f.then(n,n);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:zm(f)?(xe=0,zt=null,Rg(n)):(xe=0,zt=null,qs(e,n,f,7));break;case 5:var p=null;switch(he.tag){case 26:p=he.memoizedState;case 5:case 27:var v=he;if(p?m_(p):v.stateNode.complete){xe=0,zt=null;var E=v.sibling;if(E!==null)he=E;else{var A=v.return;A!==null?(he=A,no(A)):he=null}break t}}xe=0,zt=null,qs(e,n,f,5);break;case 6:xe=0,zt=null,qs(e,n,f,6);break;case 8:of(),Ve=6;break e;default:throw Error(r(462))}}G0();break}catch(I){Cg(e,I)}while(!0);return Sn=Hi=null,O.H=l,O.A=c,Ce=a,he!==null?0:(ke=null,ge=0,Sl(),Ve)}function G0(){for(;he!==null&&!fS();)Ag(he)}function Ag(e){var n=Jp(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,n===null?no(e):he=n}function Rg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Yp(a,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=Yp(a,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:Tu(n);default:eg(a,n),n=he=xm(n,Dn),n=Jp(a,n,Dn)}e.memoizedProps=e.pendingProps,n===null?no(e):he=n}function qs(e,n,a,l){Sn=Hi=null,Tu(n),Is=null,Ba=0;var c=n.return;try{if(O0(e,c,n,a,ge)){Ve=1,ql(e,Vt(a,e.current)),he=null;return}}catch(f){if(c!==null)throw he=c,f;Ve=1,ql(e,Vt(a,e.current)),he=null;return}n.flags&32768?(ye||l===1?e=!0:Ps||(ge&536870912)!==0?e=!1:(ii=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Og(n,e)):no(n)}function no(e){var n=e;do{if((n.flags&32768)!==0){Og(n,ii);return}e=n.return;var a=M0(n.alternate,n,Dn);if(a!==null){he=a;return}if(n=n.sibling,n!==null){he=n;return}he=n=e}while(n!==null);Ve===0&&(Ve=5)}function Og(e,n){do{var a=j0(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);Ve=6,he=null}function Dg(e,n,a,l,c,f,p,v,E){e.cancelPendingCommit=null;do io();while(nt!==0);if((Ce&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Wc,SS(e,a,f,p,v,E),e===ke&&(he=ke=null,ge=0),Bs=n,ri=e,In=a,af=f,rf=c,bg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(al,function(){return Lg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=P.p,P.p=2,p=Ce,Ce|=4;try{k0(e,n,a)}finally{Ce=p,P.p=c,O.T=l}}nt=1,Ig(),Mg(),jg()}}function Ig(){if(nt===1){nt=0;var e=ri,n=Bs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=P.p;P.p=2;var c=Ce;Ce|=4;try{dg(n,e);var f=Sf,p=vm(e.containerInfo),v=f.focusedElem,E=f.selectionRange;if(p!==v&&v&&v.ownerDocument&&_m(v.ownerDocument.documentElement,v)){if(E!==null&&Fc(v)){var A=E.start,I=E.end;if(I===void 0&&(I=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(I,v.value.length);else{var k=v.ownerDocument||document,R=k&&k.defaultView||window;if(R.getSelection){var D=R.getSelection(),q=v.textContent.length,J=Math.min(E.start,q),De=E.end===void 0?J:Math.min(E.end,q);!D.extend&&J>De&&(p=De,De=J,J=p);var N=gm(v,J),T=gm(v,De);if(N&&T&&(D.rangeCount!==1||D.anchorNode!==N.node||D.anchorOffset!==N.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var x=k.createRange();x.setStart(N.node,N.offset),D.removeAllRanges(),J>De?(D.addRange(x),D.extend(T.node,T.offset)):(x.setEnd(T.node,T.offset),D.addRange(x))}}}}for(k=[],D=v;D=D.parentNode;)D.nodeType===1&&k.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<k.length;v++){var j=k[v];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}go=!!bf,Sf=bf=null}finally{Ce=c,P.p=l,O.T=a}}e.current=n,nt=2}}function Mg(){if(nt===2){nt=0;var e=ri,n=Bs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=P.p;P.p=2;var c=Ce;Ce|=4;try{lg(e,n.alternate,n)}finally{Ce=c,P.p=l,O.T=a}}nt=3}}function jg(){if(nt===4||nt===3){nt=0,dS();var e=ri,n=Bs,a=In,l=bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nt=5:(nt=0,Bs=ri=null,kg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ai=null),wc(a),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ta,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=P.p,P.p=2,O.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var v=l[p];f(v.value,{componentStack:v.stack})}}finally{O.T=n,P.p=c}}(In&3)!==0&&io(),dn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===lf?sr++:(sr=0,lf=e):sr=0,ar(0)}}function kg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pa(n)))}function io(){return Ig(),Mg(),jg(),Lg()}function Lg(){if(nt!==5)return!1;var e=ri,n=af;af=0;var a=wc(In),l=O.T,c=P.p;try{P.p=32>a?32:a,O.T=null,a=rf,rf=null;var f=ri,p=In;if(nt=0,Bs=ri=null,In=0,(Ce&6)!==0)throw Error(r(331));var v=Ce;if(Ce|=4,_g(f.current),mg(f,f.current,p,a),Ce=v,ar(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ta,f)}catch{}return!0}finally{P.p=c,O.T=l,kg(e,n)}}function Ug(e,n,a){n=Vt(a,n),n=zu(e.stateNode,n,2),e=$n(e,n,2),e!==null&&(Na(e,2),dn(e))}function Ae(e,n,a){if(e.tag===3)Ug(e,e,a);else for(;n!==null;){if(n.tag===3){Ug(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ai===null||!ai.has(l))){e=Vt(a,e),a=zp(2),l=$n(n,a,2),l!==null&&(Pp(a,l,n,e),Na(l,2),dn(l));break}}n=n.return}}function uf(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new z0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(tf=!0,c.add(a),e=q0.bind(null,e,n,a),n.then(e,e))}function q0(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ke===e&&(ge&a)===a&&(Ve===4||Ve===3&&(ge&62914560)===ge&&300>Dt()-Zl?(Ce&2)===0&&Gs(e,0):nf|=a,Hs===ge&&(Hs=0)),dn(e)}function zg(e,n){n===0&&(n=Ih()),e=Ui(e,n),e!==null&&(Na(e,n),dn(e))}function V0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),zg(e,a)}function F0(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),zg(e,a)}function Y0(e,n){return Ec(e,n)}var so=null,Vs=null,ff=!1,ao=!1,df=!1,oi=0;function dn(e){e!==Vs&&e.next===null&&(Vs===null?so=Vs=e:Vs=Vs.next=e),ao=!0,ff||(ff=!0,K0())}function ar(e,n){if(!df&&ao){df=!0;do for(var a=!1,l=so;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,v=l.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=c&~(p&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gg(l,f))}else f=ge,f=cl(l,l===ke?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ca(l,f)||(a=!0,Gg(l,f));l=l.next}while(a);df=!1}}function Q0(){Pg()}function Pg(){ao=ff=!1;var e=0;oi!==0&&sE()&&(e=oi);for(var n=Dt(),a=null,l=so;l!==null;){var c=l.next,f=Hg(l,n);f===0?(l.next=null,a===null?so=c:a.next=c,c===null&&(Vs=a)):(a=l,(e!==0||(f&3)!==0)&&(ao=!0)),l=c}nt!==0&&nt!==5||ar(e),oi!==0&&(oi=0)}function Hg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Mt(f),v=1<<p,E=c[p];E===-1?((v&a)===0||(v&l)!==0)&&(c[p]=bS(v,n)):E<=n&&(e.expiredLanes|=v),f&=~v}if(n=ke,a=ge,a=cl(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tc(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ca(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Tc(l),wc(a)){case 2:case 8:a=Oh;break;case 32:a=al;break;case 268435456:a=Dh;break;default:a=al}return l=Bg.bind(null,e),a=Ec(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Tc(l),e.callbackPriority=2,e.callbackNode=null,2}function Bg(e,n){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(io()&&e.callbackNode!==a)return null;var l=ge;return l=cl(e,e===ke?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Eg(e,l,n),Hg(e,Dt()),e.callbackNode!=null&&e.callbackNode===a?Bg.bind(null,e):null)}function Gg(e,n){if(io())return null;Eg(e,n,!0)}function K0(){rE(function(){(Ce&6)!==0?Ec(Rh,Q0):Pg()})}function hf(){if(oi===0){var e=Rs;e===0&&(e=rl,rl<<=1,(rl&261888)===0&&(rl=256)),oi=e}return oi}function qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function Vg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function X0(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=qg((c[Tt]||null).action),p=l.submitter;p&&(n=(n=p[Tt]||null)?qg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var v=new _l("action","action",null,l,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oi!==0){var E=p?Vg(c,p):new FormData(c);Iu(a,{pending:!0,data:E,method:c.method,action:f},null,E)}}else typeof f=="function"&&(v.preventDefault(),E=p?Vg(c,p):new FormData(c),Iu(a,{pending:!0,data:E,method:c.method,action:f},f,E))},currentTarget:c}]})}}for(var mf=0;mf<Xc.length;mf++){var pf=Xc[mf],W0=pf.toLowerCase(),Z0=pf[0].toUpperCase()+pf.slice(1);en(W0,"on"+Z0)}en(Sm,"onAnimationEnd"),en(Em,"onAnimationIteration"),en(Tm,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(h0,"onTransitionRun"),en(m0,"onTransitionStart"),en(p0,"onTransitionCancel"),en(Cm,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rr));function Fg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var v=l[p],E=v.instance,A=v.currentTarget;if(v=v.listener,E!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=A;try{f(c)}catch(I){bl(I)}c.currentTarget=null,f=E}else for(p=0;p<l.length;p++){if(v=l[p],E=v.instance,A=v.currentTarget,v=v.listener,E!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=A;try{f(c)}catch(I){bl(I)}c.currentTarget=null,f=E}}}}function me(e,n){var a=n[xc];a===void 0&&(a=n[xc]=new Set);var l=e+"__bubble";a.has(l)||(Yg(n,e,2,!1),a.add(l))}function gf(e,n,a){var l=0;n&&(l|=4),Yg(a,e,l,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function _f(e){if(!e[ro]){e[ro]=!0,Ph.forEach(function(a){a!=="selectionchange"&&(J0.has(a)||gf(a,!1,e),gf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ro]||(n[ro]=!0,gf("selectionchange",!1,n))}}function Yg(e,n,a,l){switch(S_(n)){case 2:var c=wE;break;case 8:c=xE;break;default:c=If}a=c.bind(null,n,a,e),c=void 0,!Lc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function vf(e,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var v=l.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=l.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=ds(v),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){l=f=p;continue e}v=v.parentNode}}l=l.return}Zh(function(){var A=f,I=jc(a),k=[];e:{var R=Nm.get(e);if(R!==void 0){var D=_l,q=e;switch(e){case"keypress":if(pl(a)===0)break e;case"keydown":case"keyup":D=FS;break;case"focusin":q="focus",D=Hc;break;case"focusout":q="blur",D=Hc;break;case"beforeblur":case"afterblur":D=Hc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=KS;break;case Sm:case Em:case Tm:D=LS;break;case Cm:D=WS;break;case"scroll":case"scrollend":D=DS;break;case"wheel":D=JS;break;case"copy":case"cut":case"paste":D=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=nm;break;case"toggle":case"beforetoggle":D=e0}var J=(n&4)!==0,De=!J&&(e==="scroll"||e==="scrollend"),N=J?R!==null?R+"Capture":null:R;J=[];for(var T=A,x;T!==null;){var j=T;if(x=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||x===null||N===null||(j=Aa(T,N),j!=null&&J.push(lr(T,j,x))),De)break;T=T.return}0<J.length&&(R=new D(R,q,null,a,I),k.push({event:R,listeners:J}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&a!==Mc&&(q=a.relatedTarget||a.fromElement)&&(ds(q)||q[fs]))break e;if((D||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,D?(q=a.relatedTarget||a.toElement,D=A,q=q?ds(q):null,q!==null&&(De=u(q),J=q.tag,q!==De||J!==5&&J!==27&&J!==6)&&(q=null)):(D=null,q=A),D!==q)){if(J=em,j="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(J=nm,j="onPointerLeave",N="onPointerEnter",T="pointer"),De=D==null?R:xa(D),x=q==null?R:xa(q),R=new J(j,T+"leave",D,a,I),R.target=De,R.relatedTarget=x,j=null,ds(I)===A&&(J=new J(N,T+"enter",q,a,I),J.target=x,J.relatedTarget=De,j=J),De=j,D&&q)t:{for(J=$0,N=D,T=q,x=0,j=N;j;j=J(j))x++;j=0;for(var K=T;K;K=J(K))j++;for(;0<x-j;)N=J(N),x--;for(;0<j-x;)T=J(T),j--;for(;x--;){if(N===T||T!==null&&N===T.alternate){J=N;break t}N=J(N),T=J(T)}J=null}else J=null;D!==null&&Qg(k,R,D,J,!1),q!==null&&De!==null&&Qg(k,De,q,J,!0)}}e:{if(R=A?xa(A):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var be=um;else if(om(R))if(fm)be=u0;else{be=o0;var F=l0}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&Ic(A.elementType)&&(be=um):be=c0;if(be&&(be=be(e,A))){cm(k,be,a,I);break e}F&&F(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&Dc(R,"number",R.value)}switch(F=A?xa(A):window,e){case"focusin":(om(F)||F.contentEditable==="true")&&(Ss=F,Yc=A,La=null);break;case"focusout":La=Yc=Ss=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,ym(k,a,I);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":ym(k,a,I)}var oe;if(Gc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else bs?rm(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(im&&a.locale!=="ko"&&(bs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&bs&&(oe=Jh()):(Yn=I,Uc="value"in Yn?Yn.value:Yn.textContent,bs=!0)),F=lo(A,_e),0<F.length&&(_e=new tm(_e,e,null,a,I),k.push({event:_e,listeners:F}),oe?_e.data=oe:(oe=lm(a),oe!==null&&(_e.data=oe)))),(oe=n0?i0(e,a):s0(e,a))&&(_e=lo(A,"onBeforeInput"),0<_e.length&&(F=new tm("onBeforeInput","beforeinput",null,a,I),k.push({event:F,listeners:_e}),F.data=oe)),X0(k,e,A,a,I)}Fg(k,n)})}function lr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function lo(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Aa(e,a),c!=null&&l.unshift(lr(e,c,f)),c=Aa(e,n),c!=null&&l.push(lr(e,c,f))),e.tag===3)return l;e=e.return}return[]}function $0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qg(e,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var v=a,E=v.alternate,A=v.stateNode;if(v=v.tag,E!==null&&E===l)break;v!==5&&v!==26&&v!==27||A===null||(E=A,c?(A=Aa(a,f),A!=null&&p.unshift(lr(a,A,E))):c||(A=Aa(a,f),A!=null&&p.push(lr(a,A,E)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var eE=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Kg(e){return(typeof e=="string"?e:""+e).replace(eE,`
`).replace(tE,"")}function Xg(e,n){return n=Kg(n),Kg(e)===n}function Oe(e,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_s(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_s(e,""+l);break;case"className":fl(e,"class",l);break;case"tabIndex":fl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(e,a,l);break;case"style":Xh(e,l,f);break;case"data":if(n!=="object"){fl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=hl(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Oe(e,n,"name",c.name,c,null),Oe(e,n,"formEncType",c.formEncType,c,null),Oe(e,n,"formMethod",c.formMethod,c,null),Oe(e,n,"formTarget",c.formTarget,c,null)):(Oe(e,n,"encType",c.encType,c,null),Oe(e,n,"method",c.method,c,null),Oe(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=hl(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=_n);break;case"onScroll":l!=null&&me("scroll",e);break;case"onScrollEnd":l!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=hl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":me("beforetoggle",e),me("toggle",e),ul(e,"popover",l);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ul(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=RS.get(a)||a,ul(e,a,l))}}function yf(e,n,a,l,c,f){switch(a){case"style":Xh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_s(e,l):(typeof l=="number"||typeof l=="bigint")&&_s(e,""+l);break;case"onScroll":l!=null&&me("scroll",e);break;case"onScrollEnd":l!=null&&me("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[Tt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ul(e,a,l)}}}function ht(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Oe(e,n,f,p,a,null)}}c&&Oe(e,n,"srcSet",a.srcSet,a,null),l&&Oe(e,n,"src",a.src,a,null);return;case"input":me("invalid",e);var v=f=p=c=null,E=null,A=null;for(l in a)if(a.hasOwnProperty(l)){var I=a[l];if(I!=null)switch(l){case"name":c=I;break;case"type":p=I;break;case"checked":E=I;break;case"defaultChecked":A=I;break;case"value":f=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Oe(e,n,l,I,a,null)}}Fh(e,f,v,E,A,p,c,!1);return;case"select":me("invalid",e),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":p=v;break;case"multiple":l=v;default:Oe(e,n,c,v,a,null)}n=f,a=p,e.multiple=!!l,n!=null?gs(e,!!l,n,!1):a!=null&&gs(e,!!l,a,!0);return;case"textarea":me("invalid",e),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":l=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Oe(e,n,p,v,a,null)}Qh(e,l,c,f);return;case"option":for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null)&&(E==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(e,n,E,l,a,null));return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(l=0;l<rr.length;l++)me(rr[l],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Oe(e,n,A,l,a,null)}return;default:if(Ic(n)){for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!==void 0&&yf(e,n,I,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Oe(e,n,v,l,a,null))}function nE(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,v=null,E=null,A=null,I=null;for(D in a){var k=a[D];if(a.hasOwnProperty(D)&&k!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":E=k;default:l.hasOwnProperty(D)||Oe(e,n,D,null,l,k)}}for(var R in l){var D=l[R];if(k=a[R],l.hasOwnProperty(R)&&(D!=null||k!=null))switch(R){case"type":f=D;break;case"name":c=D;break;case"checked":A=D;break;case"defaultChecked":I=D;break;case"value":p=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:D!==k&&Oe(e,n,R,D,l,k)}}Oc(e,p,v,E,A,I,f,c);return;case"select":D=p=v=R=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":D=E;default:l.hasOwnProperty(f)||Oe(e,n,f,null,l,E)}for(c in l)if(f=l[c],E=a[c],l.hasOwnProperty(c)&&(f!=null||E!=null))switch(c){case"value":R=f;break;case"defaultValue":v=f;break;case"multiple":p=f;default:f!==E&&Oe(e,n,c,f,l,E)}n=v,a=p,l=D,R!=null?gs(e,!!a,R,!1):!!l!=!!a&&(n!=null?gs(e,!!a,n,!0):gs(e,!!a,a?[]:"",!1));return;case"textarea":D=R=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Oe(e,n,v,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":R=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Oe(e,n,p,c,l,f)}Yh(e,R,D);return;case"option":for(var q in a)R=a[q],a.hasOwnProperty(q)&&R!=null&&!l.hasOwnProperty(q)&&(q==="selected"?e.selected=!1:Oe(e,n,q,null,l,R));for(E in l)R=l[E],D=a[E],l.hasOwnProperty(E)&&R!==D&&(R!=null||D!=null)&&(E==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Oe(e,n,E,R,l,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in a)R=a[J],a.hasOwnProperty(J)&&R!=null&&!l.hasOwnProperty(J)&&Oe(e,n,J,null,l,R);for(A in l)if(R=l[A],D=a[A],l.hasOwnProperty(A)&&R!==D&&(R!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,n));break;default:Oe(e,n,A,R,l,D)}return;default:if(Ic(n)){for(var De in a)R=a[De],a.hasOwnProperty(De)&&R!==void 0&&!l.hasOwnProperty(De)&&yf(e,n,De,void 0,l,R);for(I in l)R=l[I],D=a[I],!l.hasOwnProperty(I)||R===D||R===void 0&&D===void 0||yf(e,n,I,R,l,D);return}}for(var N in a)R=a[N],a.hasOwnProperty(N)&&R!=null&&!l.hasOwnProperty(N)&&Oe(e,n,N,null,l,R);for(k in l)R=l[k],D=a[k],!l.hasOwnProperty(k)||R===D||R==null&&D==null||Oe(e,n,k,R,l,D)}function Wg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,p=c.initiatorType,v=c.duration;if(f&&v&&Wg(p)){for(p=0,v=c.responseEnd,l+=1;l<a.length;l++){var E=a[l],A=E.startTime;if(A>v)break;var I=E.transferSize,k=E.initiatorType;I&&Wg(k)&&(E=E.responseEnd,p+=I*(E<v?1:(v-A)/(E-A)))}if(--l,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bf=null,Sf=null;function oo(e){return e.nodeType===9?e:e.ownerDocument}function Zg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function sE(){var e=window.event;return e&&e.type==="popstate"?e===Tf?!1:(Tf=e,!0):(Tf=null,!1)}var $g=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(lE)}:$g;function lE(e){setTimeout(function(){throw e})}function ci(e){return e==="head"}function t_(e,n){var a=n,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),Ks(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")or(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,or(a);for(var f=a.firstChild;f;){var p=f.nextSibling,v=f.nodeName;f[wa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&or(e.ownerDocument.body);a=c}while(a);Ks(n)}function n_(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cf(a),Ac(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function oE(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[wa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function cE(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xt(e.nextSibling),e===null))return null;return e}function Nf(e){return e.data==="$?"||e.data==="$~"}function wf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uE(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xf=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Xt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,a){switch(n=oo(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function or(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ac(e)}var Wt=new Map,l_=new Set;function co(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=P.d;P.d={f:fE,r:dE,D:hE,C:mE,L:pE,m:gE,X:vE,S:_E,M:yE};function fE(){var e=Mn.f(),n=eo();return e||n}function dE(e){var n=hs(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):Mn.r(e)}var Fs=typeof document>"u"?null:document;function o_(e,n,a){var l=Fs;if(l&&typeof n=="string"&&n){var c=Gt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),l_.has(c)||(l_.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ht(n,"link",e),at(n),l.head.appendChild(n)))}}function hE(e){Mn.D(e),o_("dns-prefetch",e,null)}function mE(e,n){Mn.C(e,n),o_("preconnect",e,n)}function pE(e,n,a){Mn.L(e,n,a);var l=Fs;if(l&&e&&n){var c='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Gt(a.imageSizes)+'"]')):c+='[href="'+Gt(e)+'"]';var f=c;switch(n){case"style":f=Ys(e);break;case"script":f=Qs(e)}Wt.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Wt.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(cr(f))||n==="script"&&l.querySelector(ur(f))||(n=l.createElement("link"),ht(n,"link",e),at(n),l.head.appendChild(n)))}}function gE(e,n){Mn.m(e,n);var a=Fs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qs(e)}if(!Wt.has(f)&&(e=S({rel:"modulepreload",href:e},n),Wt.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ur(f)))return}l=a.createElement("link"),ht(l,"link",e),at(l),a.head.appendChild(l)}}}function _E(e,n,a){Mn.S(e,n,a);var l=Fs;if(l&&e){var c=ms(l).hoistableStyles,f=Ys(e);n=n||"default";var p=c.get(f);if(!p){var v={loading:0,preload:null};if(p=l.querySelector(cr(f)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Wt.get(f))&&Af(e,a);var E=p=l.createElement("link");at(E),ht(E,"link",e),E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,uo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(f,p)}}}function vE(e,n){Mn.X(e,n);var a=Fs;if(a&&e){var l=ms(a).hoistableScripts,c=Qs(e),f=l.get(c);f||(f=a.querySelector(ur(c)),f||(e=S({src:e,async:!0},n),(n=Wt.get(c))&&Rf(e,n),f=a.createElement("script"),at(f),ht(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yE(e,n){Mn.M(e,n);var a=Fs;if(a&&e){var l=ms(a).hoistableScripts,c=Qs(e),f=l.get(c);f||(f=a.querySelector(ur(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Wt.get(c))&&Rf(e,n),f=a.createElement("script"),at(f),ht(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function c_(e,n,a,l){var c=(c=de.current)?co(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ys(a.href),a=ms(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ys(a.href);var f=ms(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(cr(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Wt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wt.set(e,a),f||bE(c,e,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qs(a),a=ms(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ys(e){return'href="'+Gt(e)+'"'}function cr(e){return'link[rel="stylesheet"]['+e+"]"}function u_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function bE(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ht(n,"link",a),at(n),e.head.appendChild(n))}function Qs(e){return'[src="'+Gt(e)+'"]'}function ur(e){return"script[async]"+e}function f_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(l)return n.instance=l,at(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),at(l),ht(l,"style",c),uo(l,a.precedence,e),n.instance=l;case"stylesheet":c=Ys(a.href);var f=e.querySelector(cr(c));if(f)return n.state.loading|=4,n.instance=f,at(f),f;l=u_(a),(c=Wt.get(c))&&Af(l,c),f=(e.ownerDocument||e).createElement("link"),at(f);var p=f;return p._p=new Promise(function(v,E){p.onload=v,p.onerror=E}),ht(f,"link",l),n.state.loading|=4,uo(f,a.precedence,e),n.instance=f;case"script":return f=Qs(a.src),(c=e.querySelector(ur(f)))?(n.instance=c,at(c),c):(l=a,(c=Wt.get(f))&&(l=S({},a),Rf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),at(c),ht(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uo(l,a.precedence,e));return n.instance}function uo(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var v=l[p];if(v.dataset.precedence===n)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fo=null;function d_(e,n,a){if(fo===null){var l=new Map,c=fo=new Map;c.set(a,l)}else c=fo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[wa]||f[ct]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var v=l.get(p);v?v.push(f):l.set(p,[f])}}return l}function h_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function SE(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function EE(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Ys(l.href),f=n.querySelector(cr(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ho.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,at(f);return}f=n.ownerDocument||n,l=u_(l),(c=Wt.get(c))&&Af(l,c),f=f.createElement("link"),at(f);var p=f;p._p=new Promise(function(v,E){p.onload=v,p.onerror=E}),ht(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ho.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Of=0;function TE(e,n){return e.stylesheets&&e.count===0&&po(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&po(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Of===0&&(Of=62500*iE());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&po(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Of?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ho(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)po(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mo=null;function po(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mo=new Map,n.forEach(CE,e),mo=null,ho.call(e))}function CE(e,n){if(!(n.state.loading&4)){var a=mo.get(e);if(a)var l=a.get(null);else{a=new Map,mo.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=ho.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var fr={$$typeof:ue,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function NE(e,n,a,l,c,f,p,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.hiddenUpdates=Cc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function p_(e,n,a,l,c,f,p,v,E,A,I,k){return e=new NE(e,n,a,p,E,A,I,k,v),n=1,f===!0&&(n|=24),f=kt(3,null,null,n),e.current=f,f.stateNode=e,n=ou(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},du(f),e}function g_(e){return e?(e=Cs,e):Cs}function __(e,n,a,l,c,f){c=g_(c),l.context===null?l.context=c:l.pendingContext=c,l=Jn(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=$n(e,l,n),a!==null&&(Rt(a,e,n),qa(a,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Df(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function y_(e){if(e.tag===13||e.tag===31){var n=Ui(e,67108864);n!==null&&Rt(n,e,67108864),Df(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=Ht();n=Nc(n);var a=Ui(e,n);a!==null&&Rt(a,e,n),Df(e,n)}}var go=!0;function wE(e,n,a,l){var c=O.T;O.T=null;var f=P.p;try{P.p=2,If(e,n,a,l)}finally{P.p=f,O.T=c}}function xE(e,n,a,l){var c=O.T;O.T=null;var f=P.p;try{P.p=8,If(e,n,a,l)}finally{P.p=f,O.T=c}}function If(e,n,a,l){if(go){var c=Mf(l);if(c===null)vf(e,n,l,_o,a),E_(e,l);else if(RE(c,e,n,a,l))l.stopPropagation();else if(E_(e,l),n&4&&-1<AE.indexOf(e)){for(;c!==null;){var f=hs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ii(f.pendingLanes);if(p!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var E=1<<31-Mt(p);v.entanglements[1]|=E,p&=~E}dn(f),(Ce&6)===0&&(Jl=Dt()+500,ar(0))}}break;case 31:case 13:v=Ui(f,2),v!==null&&Rt(v,f,2),eo(),Df(f,2)}if(f=Mf(l),f===null&&vf(e,n,l,_o,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else vf(e,n,l,null,a)}}function Mf(e){return e=jc(e),jf(e)}var _o=null;function jf(e){if(_o=null,e=ds(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _o=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hS()){case Rh:return 2;case Oh:return 8;case al:case mS:return 32;case Dh:return 268435456;default:return 32}default:return 32}}var kf=!1,ui=null,fi=null,di=null,dr=new Map,hr=new Map,hi=[],AE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":dr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(n.pointerId)}}function mr(e,n,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=hs(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function RE(e,n,a,l,c){switch(n){case"focusin":return ui=mr(ui,e,n,a,l,c),!0;case"dragenter":return fi=mr(fi,e,n,a,l,c),!0;case"mouseover":return di=mr(di,e,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return dr.set(f,mr(dr.get(f)||null,e,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,hr.set(f,mr(hr.get(f)||null,e,n,a,l,c)),!0}return!1}function T_(e){var n=ds(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Uh(e.priority,function(){b_(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,Uh(e.priority,function(){b_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Mf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Mc=l,a.target.dispatchEvent(l),Mc=null}else return n=hs(a),n!==null&&y_(n),e.blockedOn=a,!1;n.shift()}return!0}function C_(e,n,a){vo(e)&&a.delete(n)}function OE(){kf=!1,ui!==null&&vo(ui)&&(ui=null),fi!==null&&vo(fi)&&(fi=null),di!==null&&vo(di)&&(di=null),dr.forEach(C_),hr.forEach(C_)}function yo(e,n){e.blockedOn===n&&(e.blockedOn=null,kf||(kf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,OE)))}var bo=null;function N_(e){bo!==e&&(bo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bo===e&&(bo=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(jf(l||a)===null)continue;break}var f=hs(a);f!==null&&(e.splice(n,3),n-=3,Iu(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ks(e){function n(E){return yo(E,e)}ui!==null&&yo(ui,e),fi!==null&&yo(fi,e),di!==null&&yo(di,e),dr.forEach(n),hr.forEach(n);for(var a=0;a<hi.length;a++){var l=hi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<hi.length&&(a=hi[0],a.blockedOn===null);)T_(a),a.blockedOn===null&&hi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[Tt]||null;if(typeof f=="function")p||N_(a);else if(p){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Tt]||null)v=p.formAction;else if(jf(c)!==null)continue}else v=p.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),N_(a)}}}function w_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Lf(e){this._internalRoot=e}So.prototype.render=Lf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Ht();__(a,l,e,n,null,null)},So.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),eo(),n[fs]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var n=Lh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<hi.length&&n!==0&&n<hi[a].priority;a++);hi.splice(a,0,e),a===0&&T_(e)}};var x_=t.version;if(x_!=="19.2.4")throw Error(r(527,x_,"19.2.4"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var DE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Ta=Eo.inject(DE),It=Eo}catch{}}return gr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=jp,f=kp,p=Lp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=p_(e,1,!1,null,null,a,l,null,c,f,p,w_),e[fs]=n.current,_f(e),new Lf(n)},gr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",f=jp,p=kp,v=Lp,E=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),n=p_(e,1,!0,n,a??null,l,c,E,f,p,v,w_),n.context=g_(null),a=n.current,l=Ht(),l=Nc(l),c=Jn(l),c.callback=null,$n(a,c,l),a=l,n.current.lanes=a,Na(n,a),dn(n),e[fs]=n.current,_f(e),new So(n)},gr.version="19.2.4",gr}var U_;function BE(){if(U_)return Pf.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pf.exports=HE(),Pf.exports}var GE=BE();function $i(s,t=[],i=null){const[r,o]=ce.useState(null),[u,d]=ce.useState(!0),[m,_]=ce.useState(null),g=ce.useCallback(async()=>{try{d(!0),_(null);const b=await s();o(b)}catch(b){_(b.message||"Failed to fetch data")}finally{d(!1)}},[s,...t]);return ce.useEffect(()=>{g()},[g]),ce.useEffect(()=>{if(!i)return;const b=setInterval(g,i);return()=>clearInterval(b)},[g,i]),{data:r,loading:u,error:m,reload:g}}const qE="https://fantasy.premierleague.com/api";let qr=5398119;function qf(s){qr=Number(s)}function VE(){return qr}let To=null,Co=null;const z_=[s=>`https://corsproxy.io/?url=${encodeURIComponent(s)}`,s=>`https://api.allorigins.win/raw?url=${encodeURIComponent(s)}`,s=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(s)}`,s=>`https://thingproxy.freeboard.io/fetch/${s}`];async function Vf(s,t=8e3){const i=new AbortController,r=setTimeout(()=>i.abort(),t);try{const o=await fetch(s,{signal:i.signal});return clearTimeout(r),o}catch(o){throw clearTimeout(r),o}}async function ls(s){try{const o=await Vf(`/api/fpl-proxy?path=${encodeURIComponent(s)}`);if(o.ok)return await o.json()}catch{}const t={"bootstrap-static/":"bootstrap.json","fixtures/":"fixtures.json"};if(t[s])try{const u=await Vf(`/FF2026/data/${t[s]}`,3e3);if(u.ok){const d=await u.json();if(d&&(Array.isArray(d)?d.length>0:Object.keys(d).length>0))return d}}catch{}const i=`${qE}/${s}`;let r;for(let o=0;o<z_.length;o++)try{const u=z_[o](i),d=await Vf(u);if(!d.ok)throw new Error(`FPL API error (${d.status})`);return await d.json()}catch(u){r=u}throw new Error(`Unable to reach the FPL API. All proxy methods failed. Last error: ${r?.message||"Unknown"}. Try refreshing or running the app locally with "npm run dev".`)}async function da(){return To||(To=ls("bootstrap-static/").catch(s=>{throw To=null,s})),To}async function Rd(){return ls(`entry/${qr}/`)}async function Od(){return ls(`entry/${qr}/history/`)}async function Dd(s){return ls(`entry/${qr}/event/${s}/picks/`)}async function nc(){return Co||(Co=ls("fixtures/").catch(s=>{throw Co=null,s})),Co}async function Jv(s){return ls(`event/${s}/live/`)}async function FE(s){return ls(`leagues-classic/${s}/standings/`)}function ha(s){const t={};for(const m of s.teams)t[m.id]=m;const i={};for(const m of s.element_types)i[m.id]=m.singular_name_short;const r={};for(const m of s.elements)r[m.id]=m;const o={};for(const m of s.events)o[m.id]=m;const u=s.events.find(m=>m.is_current),d=s.events.find(m=>m.is_next);return{teams:t,positionMap:i,players:r,events:o,currentEvent:u,nextEvent:d}}function $v(s,t,i){const r={},o=s.filter(u=>u.event&&u.event>i&&!u.finished).sort((u,d)=>u.event-d.event);for(const u of o)r[u.team_h]||(r[u.team_h]=[]),r[u.team_h].length<5&&r[u.team_h].push({gw:u.event,opponent:`${t[u.team_a]?.short_name||"?"} (H)`,difficulty:u.team_h_difficulty}),r[u.team_a]||(r[u.team_a]=[]),r[u.team_a].length<5&&r[u.team_a].push({gw:u.event,opponent:`${t[u.team_h]?.short_name||"?"} (A)`,difficulty:u.team_a_difficulty});return r}function YE(s){let t=1;const i=new Set(s.chips.map(r=>r.event));for(const r of s.current){if(i.has(r.event)){t=Math.min(t+1,5);continue}r.event_transfers===0?t=Math.min(t+1,5):r.event_transfers_cost>0?t=1:t=Math.max(1,Math.min(t-r.event_transfers+1,5))}return t}async function QE(){const[s,t,i,r]=await Promise.all([da(),Rd(),nc(),Od()]),{teams:o,positionMap:u,players:d,currentEvent:m}=ha(s),_=m?.id||t.current_event,[g,b]=await Promise.all([Dd(_),Jv(_)]),S={};for(const Q of b.elements)S[Q.id]=Q.stats.total_points;const y=$v(i,o,_),w=g.picks.filter(Q=>Q.position<=11).map(Q=>{const Y=d[Q.element],re=o[Y.team],Z=y[Y.team]||[],Te=Z[0],Ze=parseFloat(Y.form)||0;return{id:Y.id,name:Y.web_name,position:u[Y.element_type],club:re?.name||"Unknown",clubShort:re?.short_name||"???",price:Y.now_cost/10,totalPoints:Y.total_points,gameweekPoints:S[Y.id]??Y.event_points??0,form:Ze,upcomingFixtures:Z.slice(0,5),upcomingFixture:Te?Te.opponent:"TBD",fixtureDifficulty:Te?Te.difficulty:3,isCaptain:Q.is_captain,isViceCaptain:Q.is_vice_captain,pointsHistory:Array.from({length:5},()=>Math.max(1,Math.round(Ze+(Math.random()-.5)*4)))}}),M=g.picks.find(Q=>Q.is_captain),H=(M&&S[M.element]||0)*(M?.multiplier||2),X=new Set(r.chips.map(Q=>Q.name)),te=g.entry_history,ue={totalPoints:te.total_points,teamValue:te.value/10,moneyInBank:te.bank/10,overallRank:te.overall_rank||t.summary_overall_rank||0,gameweekRank:te.rank||0,currentGameweek:_,gameweekPoints:te.points,captainPoints:H,averagePoints:m?.average_entry_score||0,highestPoints:m?.highest_score||0,transfers:{made:te.event_transfers,cost:te.event_transfers_cost,available:YE(r)},chips:{wildcard:!X.has("wildcard"),benchBoost:!X.has("bboost"),tripleCaptain:!X.has("3xc"),freeHit:!X.has("freehit")}};return{players:w,summary:ue}}async function KE(){const[s,t]=await Promise.all([da(),Od()]),{events:i}=ha(s);return t.current.slice(-7).map(o=>({gw:o.event,points:o.points,average:i[o.event]?.average_entry_score||0,rank:o.overall_rank}))}async function XE(){const[s,t]=await Promise.all([da(),nc()]),{currentEvent:i}=ha(s),r=i?.id||1,o=s.events.filter(m=>m.id>r).slice(0,5);if(o.length===0)return[{gw:r+1,projected:50,difficulty:"Medium"}];const u=s.events.filter(m=>m.finished),d=u.length>0?Math.round(u.reduce((m,_)=>m+(_.average_entry_score||0),0)/u.length):50;return o.map(m=>{const _=t.filter(w=>w.event===m.id),g=_.length>0?_.reduce((w,M)=>w+M.team_h_difficulty+M.team_a_difficulty,0)/(_.length*2):3,b=g<2.5?"Easy":g>3.5?"Hard":"Medium",S=g<3?1.1:g>3?.9:1,y=Math.round(d*S);return{gw:m.id,projected:y,difficulty:b}})}async function WE(){const[s,t,i]=await Promise.all([da(),Rd(),nc()]),{teams:r,positionMap:o,currentEvent:u}=ha(s),d=u?.id||t.current_event,m=await Dd(d),_=new Set(m.picks.map(S=>S.element)),g=$v(i,r,d);return s.elements.filter(S=>!_.has(S.id)&&S.minutes>0&&S.status==="a").sort((S,y)=>parseFloat(y.form)-parseFloat(S.form)).slice(0,150).map(S=>{const y=r[S.team],w=parseFloat(S.form)||0,M=g[S.team]||[];return{id:S.id,name:S.web_name,position:o[S.element_type],club:y?.name||"Unknown",clubShort:y?.short_name||"???",price:S.now_cost/10,totalPoints:S.total_points,form:w,selectedByPercent:parseFloat(S.selected_by_percent)||0,upcomingFixtures:M.slice(0,5),expectedPoints:M.slice(0,5).map(z=>Math.max(1,Math.round(w+(3-z.difficulty)*.8)))}})}async function ZE(){const t=(await Rd()).leagues?.classic||[],i=t.find(o=>o.league_type==="x")||t.find(o=>o.max_entries&&o.max_entries<1e3)||t[0];if(!i)return{name:"No League Found",myPosition:0,totalMembers:0,standings:[]};const r=await FE(i.id);return{name:r.league.name,myPosition:i.entry_rank||0,totalMembers:i.entry_count||r.standings.results.length,standings:r.standings.results.slice(0,10).map((o,u)=>({rank:o.rank||u+1,name:o.entry_name,manager:o.entry===VE()?"You":o.player_name,points:o.total}))}}async function JE(){const[s,t]=await Promise.all([da(),nc()]),{teams:i,positionMap:r,currentEvent:o}=ha(s),u=o?.id||1,d=t.filter(y=>y.event&&y.event>u&&!y.finished).sort((y,w)=>y.event-w.event||y.kickoff_time?.localeCompare(w.kickoff_time||"")),m=[...new Set(d.map(y=>y.event))].slice(0,5),_={};for(const y of s.events)_[y.id]=y.deadline_time;const g={};for(const y of d)g[y.team_h]||(g[y.team_h]={}),g[y.team_h][y.event]={difficulty:y.team_h_difficulty,opponent:`${i[y.team_a]?.short_name||"?"} (H)`},g[y.team_a]||(g[y.team_a]={}),g[y.team_a][y.event]={difficulty:y.team_a_difficulty,opponent:`${i[y.team_h]?.short_name||"?"} (A)`};const b=s.elements.filter(y=>y.minutes>0&&y.status==="a"&&parseFloat(y.form)>0);function S(y){const w=b.filter(H=>g[H.team]?.[y]).map(H=>{const X=g[H.team][y],te=parseFloat(H.form)||0,ue=te+(3-X.difficulty)*1.2;return{id:H.id,name:H.web_name,position:r[H.element_type],club:i[H.team]?.short_name||"???",price:H.now_cost/10,form:te,totalPoints:H.total_points,opponent:X.opponent,difficulty:X.difficulty,score:ue}}).sort((H,X)=>X.score-H.score),M=[],z={};for(const H of w){const X=z[H.position]||0;if(X<2&&(M.push(H),z[H.position]=X+1),M.length>=8)break}return M}return m.map(y=>({gw:y,deadline:_[y]||null,matches:d.filter(w=>w.event===y).map(w=>({id:w.id,kickoff:w.kickoff_time,homeTeam:i[w.team_h]?.name||"TBD",homeShort:i[w.team_h]?.short_name||"?",awayTeam:i[w.team_a]?.name||"TBD",awayShort:i[w.team_a]?.short_name||"?",homeDifficulty:w.team_h_difficulty,awayDifficulty:w.team_a_difficulty})),picks:S(y)}))}async function $E(){const[s,t]=await Promise.all([da(),Od()]),{teams:i,positionMap:r,players:o}=ha(s),u=t.current.filter(y=>y.event_transfers>0);if(u.length===0)return[];const d=t.current.map(y=>y.event),m={},_=5;for(let y=0;y<d.length;y+=_){const w=d.slice(y,y+_),M=await Promise.all(w.map(z=>Dd(z).catch(()=>null)));w.forEach((z,H)=>{M[H]&&(m[z]=M[H])})}const g=[];for(const y of u){const w=y.event,M=d[d.indexOf(w)-1];if(!M||!m[M]||!m[w])continue;const z=new Set(m[M].picks.map(Q=>Q.element)),H=new Set(m[w].picks.map(Q=>Q.element)),X=[...H].filter(Q=>!z.has(Q)),te=[...z].filter(Q=>!H.has(Q)),ue=Math.min(X.length,te.length);for(let Q=0;Q<ue;Q++){const Y=o[X[Q]],re=o[te[Q]];!Y||!re||g.push({gameweek:w,transferCost:y.event_transfers_cost,playerIn:{id:Y.id,name:Y.web_name,position:r[Y.element_type],club:i[Y.team]?.short_name||"???",clubFull:i[Y.team]?.name||"Unknown",price:Y.now_cost/10},playerOut:{id:re.id,name:re.web_name,position:r[re.element_type],club:i[re.team]?.short_name||"???",clubFull:i[re.team]?.name||"Unknown",price:re.now_cost/10}})}}const b=Math.max(...d),S={};for(const y of g){let w=0,M=0;const z=[];for(let H=y.gameweek;H<=b;H++){S[H]||(S[H]=await Jv(H).catch(()=>null));const X=S[H];if(!X)continue;const te=X.elements.find(re=>re.id===y.playerIn.id),ue=X.elements.find(re=>re.id===y.playerOut.id),Q=te?.stats?.total_points||0,Y=ue?.stats?.total_points||0;w+=Q,M+=Y,z.push({gw:H,inPts:Q,outPts:Y,diff:Q-Y})}y.playerIn.pointsSinceTransfer=w,y.playerOut.pointsSinceTransfer=M,y.netGain=w-M,y.gwBreakdown=z,y.gameweeksCompared=z.length}return g.sort((y,w)=>w.gameweek-y.gameweek),g}function eT(s,t,i){const r=s.pointsHistory?s.pointsHistory.slice(0,i).reduce((M,z)=>M+z,0):Math.round((s.form||4)*i),o=t.expectedPoints?t.expectedPoints.slice(0,i).reduce((M,z)=>M+z,0):Math.round((t.form||4)*i),u=o-r,d=(t.form||0)-(s.form||0),m=(t.price||0)-(s.price||0),_=t.upcomingFixtures?.length?t.upcomingFixtures.slice(0,i).reduce((M,z)=>M+z.difficulty,0)/i:3,b=(s.fixtureDifficulty||3)-_;let S;Math.abs(u)<=3&&Math.abs(d)<1?S="Low":Math.abs(u)>8||_>3.5?S="High":S="Medium";let y;u>5&&d>0?y="Strong Buy":u<-3||d<-1.5?y="Avoid":y="Neutral";const w={"Strong Buy":`${t.name} is projected to outscore ${s.name} by ${u} points over the next ${i} gameweeks. With better form (${t.form} vs ${s.form}) and favorable upcoming fixtures, this looks like a smart move.`,Neutral:`This is a sideways move. ${t.name} and ${s.name} are projected similarly over the next ${i} gameweeks (${u>0?"+":""}${u} point difference). Consider saving the transfer for a better opportunity.`,Avoid:`${s.name} is the better option here. Keeping the current player saves a transfer and is projected to yield ${Math.abs(u)} more points over ${i} gameweeks.`};return{pointsDiff:u,formDiff:d.toFixed(1),priceDiff:m.toFixed(1),fixtureDiff:b.toFixed(1),riskLevel:S,recommendation:y,explanation:w[y],outProjected:r,inProjected:o,avgInDifficulty:_.toFixed(1)}}function Vr({message:s="Loading..."}){return h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:s})]})}function Fr({message:s,onRetry:t}){return h.jsxs("div",{className:"error-container",children:[h.jsx("div",{className:"error-icon",children:"!"}),h.jsx("p",{children:s}),t&&h.jsx("button",{className:"btn btn-primary",onClick:t,children:"Try Again"})]})}const P_={GKP:0,DEF:1,MID:2,FWD:3};function tT({player:s,isExpanded:t,onToggle:i}){const r=s.form>=7?"positive":s.form<=4?"negative":"",o=s.upcomingFixtures||[];return h.jsxs("div",{className:`player-card ${t?"expanded":""}`,onClick:i,children:[h.jsxs("div",{className:"player-card-header",children:[h.jsx("span",{className:`position-badge position-${s.position}`,children:s.position}),h.jsx("span",{className:"player-club",children:s.clubShort}),s.isCaptain&&h.jsx("span",{className:"badge captain",children:"C"}),s.isViceCaptain&&h.jsx("span",{className:"badge vice-captain",children:"V"})]}),h.jsx("div",{className:"player-name",children:s.name}),h.jsx("div",{className:"player-club-full",children:s.club}),h.jsxs("div",{className:"player-stats",children:[h.jsxs("div",{className:"stat",children:[h.jsx("span",{className:"stat-label",children:"Price"}),h.jsxs("span",{className:"stat-value",children:["",s.price,"m"]})]}),h.jsxs("div",{className:"stat",children:[h.jsx("span",{className:"stat-label",children:"Points"}),h.jsx("span",{className:"stat-value",children:s.totalPoints})]}),h.jsxs("div",{className:"stat",children:[h.jsx("span",{className:"stat-label",children:"Form"}),h.jsx("span",{className:`stat-value ${r}`,children:s.form})]}),h.jsxs("div",{className:"stat",children:[h.jsx("span",{className:"stat-label",children:"GW Pts"}),h.jsx("span",{className:"stat-value highlight",children:s.gameweekPoints})]})]}),h.jsxs("div",{className:"player-fixture",children:[h.jsx("span",{className:"fixture-label",children:"Next:"}),h.jsx("span",{className:`fixture-value fdr-${s.fixtureDifficulty}`,children:s.upcomingFixture}),h.jsx("span",{className:`expand-arrow ${t?"open":""}`,children:h.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),t&&h.jsxs("div",{className:"player-expanded",onClick:u=>u.stopPropagation(),children:[o.length>0&&h.jsxs("div",{className:"expanded-fixtures",children:[h.jsx("div",{className:"expanded-section-title",children:"Upcoming Fixtures"}),h.jsx("div",{className:"expanded-fixture-list",children:o.map(u=>h.jsxs("div",{className:"expanded-fixture-row",children:[h.jsxs("span",{className:"ef-gw",children:["GW",u.gw]}),h.jsx("span",{className:`ef-opponent fdr-${u.difficulty}`,children:u.opponent}),h.jsx("span",{className:"ef-diff-dots",children:[1,2,3,4,5].map(d=>h.jsx("span",{className:`ef-dot ${d<=u.difficulty?"filled":""}`},d))})]},u.gw))})]}),h.jsxs("div",{className:"expanded-stats",children:[h.jsx("div",{className:"expanded-section-title",children:"Season Stats"}),h.jsxs("div",{className:"expanded-stats-grid",children:[h.jsxs("div",{className:"es-item",children:[h.jsx("span",{className:"es-value",children:s.totalPoints}),h.jsx("span",{className:"es-label",children:"Total Pts"})]}),h.jsxs("div",{className:"es-item",children:[h.jsx("span",{className:"es-value",children:s.gameweekPoints}),h.jsx("span",{className:"es-label",children:"GW Pts"})]}),h.jsxs("div",{className:"es-item",children:[h.jsx("span",{className:`es-value ${r}`,children:s.form}),h.jsx("span",{className:"es-label",children:"Form"})]}),h.jsxs("div",{className:"es-item",children:[h.jsxs("span",{className:"es-value",children:["",s.price,"m"]}),h.jsx("span",{className:"es-label",children:"Price"})]})]})]})]})]})}function nT({summary:s}){return h.jsxs("div",{className:"team-summary",children:[h.jsxs("h3",{children:["Team Summary  GW",s.currentGameweek]}),h.jsxs("div",{className:"summary-grid",children:[h.jsxs("div",{className:"summary-item featured",children:[h.jsx("span",{className:"summary-value",children:s.gameweekPoints}),h.jsx("span",{className:"summary-label",children:"GW Points"})]}),h.jsxs("div",{className:"summary-item",children:[h.jsx("span",{className:"summary-value",children:s.totalPoints}),h.jsx("span",{className:"summary-label",children:"Total Points"})]}),h.jsxs("div",{className:"summary-item",children:[h.jsxs("span",{className:"summary-value",children:["",s.teamValue,"m"]}),h.jsx("span",{className:"summary-label",children:"Team Value"})]}),h.jsxs("div",{className:"summary-item",children:[h.jsxs("span",{className:"summary-value",children:["",s.moneyInBank,"m"]}),h.jsx("span",{className:"summary-label",children:"In Bank"})]}),h.jsxs("div",{className:"summary-item",children:[h.jsx("span",{className:"summary-value",children:s.overallRank.toLocaleString()}),h.jsx("span",{className:"summary-label",children:"Overall Rank"})]}),h.jsxs("div",{className:"summary-item",children:[h.jsx("span",{className:"summary-value",children:s.transfers.available}),h.jsx("span",{className:"summary-label",children:"Free Transfers"})]})]}),h.jsxs("div",{className:"chips-section",children:[h.jsx("span",{className:"chips-label",children:"Chips Available:"}),h.jsxs("div",{className:"chips-list",children:[s.chips.wildcard&&h.jsx("span",{className:"chip available",children:"Wildcard"}),s.chips.benchBoost&&h.jsx("span",{className:"chip available",children:"Bench Boost"}),s.chips.tripleCaptain&&h.jsx("span",{className:"chip available",children:"Triple Captain"}),s.chips.freeHit&&h.jsx("span",{className:"chip available",children:"Free Hit"}),!s.chips.tripleCaptain&&h.jsx("span",{className:"chip used",children:"Triple Captain"})]})]})]})}function iT({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const[o,u]=ce.useState(null);if(t)return h.jsx(Vr,{message:"Loading your team..."});if(i)return h.jsx(Fr,{message:i,onRetry:r});const{players:d,summary:m}=s,_=[...d].sort((g,b)=>P_[g.position]-P_[b.position]);return h.jsxs("div",{className:"my-team",children:[h.jsx(nT,{summary:m}),h.jsxs("div",{className:"players-section",children:[h.jsx("h3",{children:"Your Squad"}),h.jsx("div",{className:"players-grid",children:_.map(g=>h.jsx(tT,{player:g,isExpanded:o===g.id,onToggle:()=>u(o===g.id?null:g.id)},g.id))})]})]})}function sT({data:s,maxValue:t,labelKey:i,valueKey:r,compareKey:o}){return h.jsx("div",{className:"bar-chart",children:s.map((u,d)=>h.jsxs("div",{className:"bar-group",children:[h.jsxs("div",{className:"bar-container",children:[o&&h.jsx("div",{className:"bar bar-compare",style:{height:`${u[o]/t*100}%`},title:`Avg: ${u[o]}`}),h.jsx("div",{className:"bar bar-primary",style:{height:`${u[r]/t*100}%`},title:`${u[r]} pts`,children:h.jsx("span",{className:"bar-value",children:u[r]})})]}),h.jsx("span",{className:"bar-label",children:u[i]})]},d))})}function aT({projections:s}){return h.jsxs("div",{className:"projections-table",children:[h.jsxs("div",{className:"table-header",children:[h.jsx("span",{children:"GW"}),h.jsx("span",{children:"Projected"}),h.jsx("span",{children:"Difficulty"})]}),s.map(t=>h.jsxs("div",{className:"table-row",children:[h.jsxs("span",{children:["GW",t.gw]}),h.jsx("span",{className:"projected-value",children:t.projected}),h.jsx("span",{className:`difficulty difficulty-${t.difficulty.toLowerCase()}`,children:t.difficulty})]},t.gw))]})}function rT({league:s}){return h.jsxs("div",{className:"league-standings",children:[h.jsxs("div",{className:"table-header league-header",children:[h.jsx("span",{children:"#"}),h.jsx("span",{children:"Team"}),h.jsx("span",{children:"Pts"})]}),s.standings.map(t=>h.jsxs("div",{className:`table-row league-row ${t.manager==="You"?"my-row":""}`,children:[h.jsx("span",{className:"rank",children:t.rank}),h.jsxs("span",{className:"team-name",children:[t.name,h.jsx("small",{children:t.manager})]}),h.jsx("span",{className:"league-points",children:t.points})]},t.rank))]})}function lT({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const{data:o,loading:u,error:d,reload:m}=$i(KE),{data:_,loading:g,error:b}=$i(XE),{data:S,loading:y,error:w}=$i(ZE),M=u||g||t||y,z=d||b||i||w;if(M)return h.jsx(Vr,{message:"Loading performance data..."});if(z)return h.jsx(Fr,{message:z,onRetry:m});const{summary:H}=s,X=Math.max(...o.map(Y=>Math.max(Y.points,Y.average)))+10,te=o.reduce((Y,re)=>Y+re.points,0),ue=o.reduce((Y,re)=>Y+re.average,0),Q=te-ue;return h.jsxs("div",{className:"points-performance",children:[h.jsxs("div",{className:"metrics-row",children:[h.jsxs("div",{className:"metric-card featured",children:[h.jsx("span",{className:"metric-value",children:H.gameweekPoints}),h.jsxs("span",{className:"metric-label",children:["GW",H.currentGameweek," Points"]})]}),h.jsxs("div",{className:"metric-card",children:[h.jsx("span",{className:"metric-value",children:H.totalPoints}),h.jsx("span",{className:"metric-label",children:"Total Points"})]}),h.jsxs("div",{className:"metric-card",children:[h.jsx("span",{className:"metric-value",children:H.captainPoints}),h.jsx("span",{className:"metric-label",children:"Captain Bonus"})]}),h.jsxs("div",{className:"metric-card",children:[h.jsxs("span",{className:`metric-value ${Q>0?"positive":"negative"}`,children:[Q>0?"+":"",Q]}),h.jsx("span",{className:"metric-label",children:"vs League Avg"})]})]}),h.jsxs("div",{className:"panels-grid",children:[h.jsxs("div",{className:"panel",children:[h.jsx("h3",{children:"Gameweek Trend"}),h.jsxs("div",{className:"chart-legend",children:[h.jsxs("span",{className:"legend-item",children:[h.jsx("span",{className:"legend-dot primary"})," You"]}),h.jsxs("span",{className:"legend-item",children:[h.jsx("span",{className:"legend-dot compare"})," Average"]})]}),h.jsx(sT,{data:o,maxValue:X,labelKey:"gw",valueKey:"points",compareKey:"average"})]}),h.jsxs("div",{className:"panel",children:[h.jsx("h3",{children:"Upcoming Projections"}),h.jsx(aT,{projections:_})]}),h.jsxs("div",{className:"panel",children:[h.jsx("h3",{children:S.name}),h.jsx(rT,{league:S})]}),h.jsxs("div",{className:"panel",children:[h.jsx("h3",{children:"Rank Progression"}),h.jsx("div",{className:"rank-trend",children:o.map((Y,re)=>{const Te=(re>0?o[re-1].rank:Y.rank)-Y.rank;return h.jsxs("div",{className:"rank-item",children:[h.jsxs("span",{className:"rank-gw",children:["GW",Y.gw]}),h.jsx("span",{className:"rank-number",children:Y.rank.toLocaleString()}),h.jsx("span",{className:`rank-change ${Te>0?"positive":Te<0?"negative":""}`,children:Te>0?`+${Te.toLocaleString()}`:Te<0?Te.toLocaleString():"-"})]},Y.gw)})})]})]})]})}const oT=["All","GKP","DEF","MID","FWD"],cT=[{value:"form",label:"Form"},{value:"totalPoints",label:"Total Pts"},{value:"price-asc",label:"Price (low)"},{value:"price-desc",label:"Price (high)"},{value:"selectedByPercent",label:"Ownership %"}];function H_({label:s,players:t,selected:i,onChange:r,disabledId:o}){return h.jsxs("div",{className:"selector",children:[h.jsx("label",{children:s}),h.jsxs("select",{value:i||"",onChange:u=>r(Number(u.target.value)||null),children:[h.jsx("option",{value:"",children:"Select a player..."}),t.filter(u=>u.id!==o).map(u=>h.jsxs("option",{value:u.id,children:[u.name," (",u.position,") - ",u.clubShort," - ",u.price,"m"]},u.id))]})]})}function B_({player:s,label:t}){if(!s)return null;const i=s.upcomingFixtures?.[0];return h.jsxs("div",{className:"player-stat-card",children:[h.jsxs("div",{className:"stat-card-header",children:[h.jsx("span",{className:"stat-card-label",children:t}),h.jsx("span",{className:`position-badge position-${s.position}`,children:s.position})]}),h.jsx("div",{className:"stat-card-name",children:s.name}),h.jsx("div",{className:"stat-card-club",children:s.club}),h.jsxs("div",{className:"stat-card-stats",children:[h.jsxs("div",{className:"stat-card-item",children:[h.jsx("span",{className:"sc-value",children:s.totalPoints}),h.jsx("span",{className:"sc-label",children:"Pts"})]}),h.jsxs("div",{className:"stat-card-item",children:[h.jsx("span",{className:"sc-value",children:s.form}),h.jsx("span",{className:"sc-label",children:"Form"})]}),h.jsxs("div",{className:"stat-card-item",children:[h.jsxs("span",{className:"sc-value",children:["",s.price,"m"]}),h.jsx("span",{className:"sc-label",children:"Price"})]}),h.jsxs("div",{className:"stat-card-item",children:[i?h.jsx("span",{className:`sc-value fixture-badge fdr-${i.difficulty}`,children:i.opponent}):h.jsx("span",{className:"sc-value",children:"-"}),h.jsx("span",{className:"sc-label",children:"Next"})]})]})]})}function uT({playerOut:s,playerIn:t,gameweeks:i}){const r=s.upcomingFixtures?.slice(0,i)||[],o=t.upcomingFixtures?.slice(0,i)||[],u=[...new Set([...r.map(_=>_.gw),...o.map(_=>_.gw)])].sort((_,g)=>_-g),d=Object.fromEntries(r.map(_=>[_.gw,_])),m=Object.fromEntries(o.map(_=>[_.gw,_]));return h.jsxs("div",{className:"fixture-comparison",children:[h.jsx("h4",{children:"Fixture Comparison"}),h.jsxs("div",{className:"fixture-table",children:[h.jsxs("div",{className:"fixture-row header three-col",children:[h.jsx("span",{children:s.name}),h.jsx("span",{children:"GW"}),h.jsx("span",{children:t.name})]}),u.map(_=>{const g=d[_],b=m[_];return h.jsxs("div",{className:"fixture-row three-col",children:[h.jsx("span",{className:g?`fixture-badge fdr-${g.difficulty}`:"fixture-blank",children:g?g.opponent:"-"}),h.jsxs("span",{className:"fixture-gw",children:["GW",_]}),h.jsx("span",{className:b?`fixture-badge fdr-${b.difficulty}`:"fixture-blank",children:b?b.opponent:"-"})]},_)})]})]})}function fT({result:s,playerOut:t,playerIn:i}){const r=s.recommendation==="Strong Buy"?"strong-buy":s.recommendation==="Avoid"?"avoid":"neutral";return h.jsxs("div",{className:"trade-result",children:[h.jsx("div",{className:`recommendation-badge ${r}`,children:s.recommendation}),h.jsxs("div",{className:"result-metrics",children:[h.jsxs("div",{className:"result-metric",children:[h.jsx("span",{className:"result-label",children:"Projected Points Diff"}),h.jsxs("span",{className:`result-value ${s.pointsDiff>0?"positive":s.pointsDiff<0?"negative":""}`,children:[s.pointsDiff>0?"+":"",s.pointsDiff]})]}),h.jsxs("div",{className:"result-metric",children:[h.jsx("span",{className:"result-label",children:"Form Comparison"}),h.jsxs("span",{className:`result-value ${Number(s.formDiff)>0?"positive":Number(s.formDiff)<0?"negative":""}`,children:[Number(s.formDiff)>0?"+":"",s.formDiff]})]}),h.jsxs("div",{className:"result-metric",children:[h.jsx("span",{className:"result-label",children:"Price Impact"}),h.jsxs("span",{className:`result-value ${Number(s.priceDiff)<0?"positive":Number(s.priceDiff)>0?"negative":""}`,children:[Number(s.priceDiff)>0?"+":"","",s.priceDiff,"m"]})]}),h.jsxs("div",{className:"result-metric",children:[h.jsx("span",{className:"result-label",children:"Fixture Swing"}),h.jsxs("span",{className:`result-value ${Number(s.fixtureDiff)>0?"positive":Number(s.fixtureDiff)<0?"negative":""}`,children:[Number(s.fixtureDiff)>0?"+":"",s.fixtureDiff]})]}),h.jsxs("div",{className:"result-metric",children:[h.jsx("span",{className:"result-label",children:"Risk Rating"}),h.jsx("span",{className:`risk-badge risk-${s.riskLevel.toLowerCase()}`,children:s.riskLevel})]})]}),h.jsxs("div",{className:"points-projection",children:[h.jsxs("div",{className:"projection-bar",children:[h.jsx("span",{className:"proj-label",children:t.name}),h.jsx("div",{className:"proj-track",children:h.jsxs("div",{className:"proj-fill out",style:{width:`${s.outProjected/Math.max(s.outProjected,s.inProjected)*100}%`},children:[s.outProjected," pts"]})})]}),h.jsxs("div",{className:"projection-bar",children:[h.jsx("span",{className:"proj-label",children:i.name}),h.jsx("div",{className:"proj-track",children:h.jsxs("div",{className:"proj-fill in",style:{width:`${s.inProjected/Math.max(s.outProjected,s.inProjected)*100}%`},children:[s.inProjected," pts"]})})]})]}),h.jsxs("div",{className:"ai-explanation",children:[h.jsx("div",{className:"explanation-header",children:"Analysis"}),h.jsx("p",{children:s.explanation})]})]})}function dT({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const[o,u]=ce.useState(null),[d,m]=ce.useState(null),[_,g]=ce.useState(3),[b,S]=ce.useState("All"),[y,w]=ce.useState(""),[M,z]=ce.useState("form"),{data:H,loading:X,error:te}=$i(WE),ue=t||X,Q=i||te,Y=ce.useMemo(()=>s?.players.find(le=>le.id===o),[s,o]),re=ce.useMemo(()=>{if(!H)return[];let le=H;if(b!=="All"&&(le=le.filter(U=>U.position===b)),y){const U=parseFloat(y);isNaN(U)||(le=le.filter(ne=>ne.price<=U))}const Be=[...le];switch(M){case"form":Be.sort((U,ne)=>ne.form-U.form);break;case"totalPoints":Be.sort((U,ne)=>ne.totalPoints-U.totalPoints);break;case"price-asc":Be.sort((U,ne)=>U.price-ne.price);break;case"price-desc":Be.sort((U,ne)=>ne.price-U.price);break;case"selectedByPercent":Be.sort((U,ne)=>ne.selectedByPercent-U.selectedByPercent);break}return Be},[H,b,y,M]),Z=ce.useMemo(()=>H?.find(le=>le.id===d),[H,d]),Te=ce.useMemo(()=>!Y||!Z?null:eT(Y,Z,_),[Y,Z,_]);function Ze(le){if(u(le),le&&s){const Be=s.players.find(U=>U.id===le);Be&&S(Be.position)}}return ue?h.jsx(Vr,{message:"Loading trade data..."}):Q?h.jsx(Fr,{message:Q,onRetry:r}):h.jsxs("div",{className:"trade-analyzer",children:[h.jsxs("div",{className:"trade-controls",children:[h.jsxs("div",{className:"controls-card",children:[h.jsx("h3",{children:"Transfer Setup"}),h.jsx(H_,{label:"Transfer Out",players:s.players,selected:o,onChange:Ze}),h.jsxs("div",{className:"filter-bar",children:[h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:"Position"}),h.jsx("div",{className:"filter-buttons",children:oT.map(le=>h.jsx("button",{className:`filter-btn ${b===le?"active":""}`,onClick:()=>S(le),children:le},le))})]}),h.jsxs("div",{className:"filter-row",children:[h.jsxs("div",{className:"filter-group filter-group-sm",children:[h.jsx("label",{children:"Max Price"}),h.jsx("input",{type:"number",className:"filter-input",placeholder:"e.g. 8.0",step:"0.5",min:"3.5",max:"15",value:y,onChange:le=>w(le.target.value)})]}),h.jsxs("div",{className:"filter-group filter-group-sm",children:[h.jsx("label",{children:"Sort By"}),h.jsx("select",{className:"filter-select",value:M,onChange:le=>z(le.target.value),children:cT.map(le=>h.jsx("option",{value:le.value,children:le.label},le.value))})]})]})]}),h.jsx(H_,{label:`Transfer In (${re.length} players)`,players:re,selected:d,onChange:m}),h.jsxs("div",{className:"gameweeks-selector",children:[h.jsx("label",{children:"Gameweeks to Analyze"}),h.jsx("div",{className:"gw-buttons",children:[1,2,3,4,5].map(le=>h.jsx("button",{className:`gw-btn ${_===le?"active":""}`,onClick:()=>g(le),children:le},le))})]})]}),h.jsx("div",{className:"stat-cards-column",children:Y||Z?h.jsxs(h.Fragment,{children:[h.jsx(B_,{player:Y,label:"OUT"}),Y&&Z&&h.jsx("div",{className:"versus-icon",children:"vs"}),h.jsx(B_,{player:Z,label:"IN"})]}):h.jsxs("div",{className:"versus-card",children:[h.jsx("div",{className:"placeholder-icon",children:""}),h.jsx("p",{className:"versus-detail",children:"Select players to compare stats"})]})})]}),Te&&h.jsxs("div",{className:"trade-results",children:[h.jsx(fT,{result:Te,playerOut:Y,playerIn:Z}),h.jsx(uT,{playerOut:Y,playerIn:Z,gameweeks:_})]}),!o&&!d&&h.jsxs("div",{className:"trade-placeholder",children:[h.jsx("div",{className:"placeholder-icon",children:""}),h.jsx("p",{children:"Select players above to analyze a potential transfer"})]})]})}function hT(s){return s?new Date(s).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""}function mT(s){return s?new Date(s).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"TBD"}function pT({match:s}){return h.jsxs("div",{className:"match-row",children:[h.jsxs("div",{className:"match-team home",children:[h.jsx("span",{className:"team-full",children:s.homeTeam}),h.jsx("span",{className:"team-short",children:s.homeShort}),h.jsx("span",{className:`fdr-badge fdr-${s.homeDifficulty}`,children:s.homeDifficulty})]}),h.jsx("div",{className:"match-vs",children:"vs"}),h.jsxs("div",{className:"match-team away",children:[h.jsx("span",{className:`fdr-badge fdr-${s.awayDifficulty}`,children:s.awayDifficulty}),h.jsx("span",{className:"team-full",children:s.awayTeam}),h.jsx("span",{className:"team-short",children:s.awayShort})]}),h.jsx("div",{className:"match-kickoff",children:mT(s.kickoff)})]})}function gT({pick:s}){return h.jsxs("div",{className:"pick-card",children:[h.jsxs("div",{className:"pick-top",children:[h.jsx("span",{className:`pick-pos position-badge position-${s.position}`,children:s.position}),h.jsxs("span",{className:"pick-price",children:["",s.price,"m"]})]}),h.jsx("div",{className:"pick-name",children:s.name}),h.jsx("div",{className:"pick-club",children:s.club}),h.jsxs("div",{className:"pick-details",children:[h.jsxs("div",{className:"pick-stat",children:[h.jsx("span",{className:"pick-stat-value",children:s.form}),h.jsx("span",{className:"pick-stat-label",children:"Form"})]}),h.jsxs("div",{className:"pick-stat",children:[h.jsx("span",{className:"pick-stat-value",children:s.totalPoints}),h.jsx("span",{className:"pick-stat-label",children:"Pts"})]}),h.jsxs("div",{className:"pick-stat",children:[h.jsx("span",{className:`pick-stat-value fixture-badge fdr-${s.difficulty}`,children:s.opponent}),h.jsx("span",{className:"pick-stat-label",children:"Fix"})]})]})]})}function _T({picks:s}){return!s||s.length===0?null:h.jsxs("div",{className:"picks-section",children:[h.jsxs("div",{className:"picks-header",children:[h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),h.jsx("span",{children:"Recommended Picks"})]}),h.jsx("div",{className:"picks-grid",children:s.map(t=>h.jsx(gT,{pick:t},t.id))})]})}function vT({gw:s,isActive:t,onToggle:i}){return h.jsxs("div",{className:`gw-card ${t?"expanded":""}`,children:[h.jsxs("button",{className:"gw-card-header",onClick:i,children:[h.jsxs("div",{className:"gw-title",children:[h.jsxs("span",{className:"gw-number",children:["GW",s.gw]}),h.jsxs("span",{className:"gw-match-count",children:[s.matches.length," match",s.matches.length!==1?"es":""]})]}),h.jsxs("div",{className:"gw-meta",children:[s.deadline&&h.jsxs("span",{className:"gw-deadline",children:["Deadline: ",hT(s.deadline)]}),h.jsx("span",{className:`gw-chevron ${t?"open":""}`,children:h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),t&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"gw-matches",children:s.matches.map(r=>h.jsx(pT,{match:r},r.id))}),h.jsx(_T,{picks:s.picks})]})]})}function yT(){const{data:s,loading:t,error:i,reload:r}=$i(JE),[o,u]=ce.useState(null);if(t)return h.jsx(Vr,{message:"Loading fixtures..."});if(i)return h.jsx(Fr,{message:i,onRetry:r});const d=o??s[0]?.gw;return h.jsxs("div",{className:"fixtures",children:[h.jsxs("div",{className:"fixtures-header",children:[h.jsx("h3",{children:"Upcoming Fixtures"}),h.jsxs("div",{className:"fdr-legend",children:[h.jsx("span",{className:"legend-label",children:"FDR:"}),[1,2,3,4,5].map(m=>h.jsx("span",{className:`fdr-badge fdr-${m}`,children:m},m))]})]}),h.jsx("div",{className:"gw-list",children:s.map(m=>h.jsx(vT,{gw:m,isActive:d===m.gw,onToggle:()=>u(d===m.gw?null:m.gw)},m.gw))})]})}function bT(s){const t={DEF:0,MID:0,FWD:0};for(const i of s)t[i.position]!==void 0&&t[i.position]++;return`${t.DEF}-${t.MID}-${t.FWD}`}function ST(s){const t={GKP:[],DEF:[],MID:[],FWD:[]};for(const i of s)t[i.position]?.push(i);return t}function No({player:s,isSelected:t,onSelect:i}){return h.jsxs("div",{className:`pitch-player ${t?"selected":""}`,onClick:()=>i(s),children:[h.jsxs("div",{className:`pitch-shirt position-shirt-${s.position}`,children:[s.isCaptain&&h.jsx("span",{className:"pitch-armband",children:"C"}),s.isViceCaptain&&h.jsx("span",{className:"pitch-armband vc",children:"V"})]}),h.jsx("div",{className:"pitch-player-name",children:s.name}),h.jsxs("div",{className:"pitch-player-pts",children:[s.gameweekPoints," pts"]})]})}function ET({player:s,onClose:t}){if(!s)return null;const i=s.form>=7?"positive":s.form<=4?"negative":"";return h.jsxs("div",{className:"formation-detail",children:[h.jsxs("div",{className:"formation-detail-header",children:[h.jsxs("div",{children:[h.jsx("span",{className:`position-badge position-${s.position}`,children:s.position}),h.jsx("span",{className:"detail-player-name",children:s.name}),s.isCaptain&&h.jsx("span",{className:"badge captain",children:"C"}),s.isViceCaptain&&h.jsx("span",{className:"badge vice-captain",children:"V"})]}),h.jsx("button",{className:"detail-close",onClick:t,children:h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),h.jsx("div",{className:"detail-club",children:s.club}),h.jsxs("div",{className:"detail-stats-grid",children:[h.jsxs("div",{className:"detail-stat",children:[h.jsx("span",{className:"detail-stat-value highlight",children:s.gameweekPoints}),h.jsx("span",{className:"detail-stat-label",children:"GW Pts"})]}),h.jsxs("div",{className:"detail-stat",children:[h.jsx("span",{className:"detail-stat-value",children:s.totalPoints}),h.jsx("span",{className:"detail-stat-label",children:"Total"})]}),h.jsxs("div",{className:"detail-stat",children:[h.jsx("span",{className:`detail-stat-value ${i}`,children:s.form}),h.jsx("span",{className:"detail-stat-label",children:"Form"})]}),h.jsxs("div",{className:"detail-stat",children:[h.jsxs("span",{className:"detail-stat-value",children:["",s.price,"m"]}),h.jsx("span",{className:"detail-stat-label",children:"Price"})]})]}),s.upcomingFixtures?.length>0&&h.jsxs("div",{className:"detail-fixtures",children:[h.jsx("div",{className:"detail-fixtures-label",children:"Upcoming"}),h.jsx("div",{className:"detail-fixture-chips",children:s.upcomingFixtures.slice(0,5).map(r=>h.jsx("span",{className:`detail-fixture-chip fdr-${r.difficulty}`,children:r.opponent},r.gw))})]})]})}function TT({teamData:s,teamLoading:t,teamError:i,teamReload:r}){const[o,u]=ce.useState(null);if(t)return h.jsx(Vr,{message:"Loading formation..."});if(i)return h.jsx(Fr,{message:i,onRetry:r});const{players:d,summary:m}=s,_=bT(d),g=ST(d);return h.jsxs("div",{className:"formation-view",children:[h.jsxs("div",{className:"formation-header",children:[h.jsxs("h3",{children:["Formation  ",_]}),h.jsxs("span",{className:"formation-gw",children:["GW",m.currentGameweek]})]}),h.jsx("div",{className:"pitch",children:h.jsxs("div",{className:"pitch-surface",children:[h.jsx("div",{className:"pitch-marking center-circle"}),h.jsx("div",{className:"pitch-marking center-line"}),h.jsx("div",{className:"pitch-marking penalty-box top"}),h.jsx("div",{className:"pitch-marking penalty-box bottom"}),h.jsx("div",{className:"pitch-row fwd-row",children:g.FWD.map(b=>h.jsx(No,{player:b,isSelected:o?.id===b.id,onSelect:u},b.id))}),h.jsx("div",{className:"pitch-row mid-row",children:g.MID.map(b=>h.jsx(No,{player:b,isSelected:o?.id===b.id,onSelect:u},b.id))}),h.jsx("div",{className:"pitch-row def-row",children:g.DEF.map(b=>h.jsx(No,{player:b,isSelected:o?.id===b.id,onSelect:u},b.id))}),h.jsx("div",{className:"pitch-row gk-row",children:g.GKP.map(b=>h.jsx(No,{player:b,isSelected:o?.id===b.id,onSelect:u},b.id))})]})}),h.jsx(ET,{player:o,onClose:()=>u(null)})]})}const CT=()=>{};var G_={};const ey={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(s,t){if(!s)throw ma(t)},ma=function(s){return new Error("Firebase Database ("+ey.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const ty=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},NT=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],m=s[i++],_=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[i++],d=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Id={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,m=d?s[o+1]:0,_=o+2<s.length,g=_?s[o+2]:0,b=u>>2,S=(u&3)<<4|m>>4;let y=(m&15)<<2|g>>6,w=g&63;_||(w=64,d||(y=64)),r.push(i[b],i[S],i[y],i[w])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(ty(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):NT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new wT;const y=u<<2|m>>4;if(r.push(y),g!==64){const w=m<<4&240|g>>2;if(r.push(w),S!==64){const M=g<<6&192|S;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ny=function(s){const t=ty(s);return Id.encodeByteArray(t,!0)},jo=function(s){return ny(s).replace(/\./g,"")},ko=function(s){try{return Id.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xT(s){return iy(void 0,s)}function iy(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!AT(i)||(s[i]=iy(s[i],t[i]));return s}function AT(s){return s!=="__proto__"}function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OT=()=>RT().__FIREBASE_DEFAULTS__,DT=()=>{if(typeof process>"u"||typeof G_>"u")return;const s=G_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},IT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ko(s[1]);return t&&JSON.parse(t)},Md=()=>{try{return CT()||OT()||DT()||IT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sy=s=>Md()?.emulatorHosts?.[s],MT=s=>{const t=sy(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},ay=()=>Md()?.config,ry=s=>Md()?.[`_${s}`];class Yr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function pa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ly(s){return(await fetch(s,{credentials:"include"})).ok}function jT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[jo(JSON.stringify(i)),jo(JSON.stringify(d)),""].join(".")}const Tr={};function kT(){const s={prod:[],emulator:[]};for(const t of Object.keys(Tr))Tr[t]?s.emulator.push(t):s.prod.push(t);return s}function LT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let q_=!1;function oy(s,t){if(typeof window>"u"||typeof document>"u"||!pa(window.location.host)||Tr[s]===t||Tr[s]||q_)return;Tr[s]=t;function i(y){return`__firebase__banner__${y}`}const r="__firebase__banner",u=kT().prod.length>0;function d(){const y=document.getElementById(r);y&&y.remove()}function m(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function _(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function g(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{q_=!0,d()},y}function b(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function S(){const y=LT(r),w=i("text"),M=document.getElementById(w)||document.createElement("span"),z=i("learnmore"),H=document.getElementById(z)||document.createElement("a"),X=i("preprendIcon"),te=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const ue=y.element;m(ue),b(H,z);const Q=g();_(te,X),ue.append(te,M,H,Q),document.body.appendChild(ue)}u?(M.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function UT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function cy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PT(){const s=Et();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HT(){return ey.NODE_ADMIN===!0}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function GT(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const qT="FirebaseError";class Ri extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=qT,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}}class Qr{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?VT(u,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ri(o,m,r)}}function VT(s,t){return s.replace(FT,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const FT=/\{\$([^}]+)}/g;function Ir(s){return JSON.parse(s)}function st(s){return JSON.stringify(s)}const uy=function(s){let t={},i={},r={},o="";try{const u=s.split(".");t=Ir(ko(u[0])||""),i=Ir(ko(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},YT=function(s){const t=uy(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},QT=function(s){const t=uy(s).claims;return typeof t=="object"&&t.admin===!0};function pn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function sa(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function ad(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Lo(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function es(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],d=t[o];if(V_(u)&&V_(d)){if(!es(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function V_(s){return s!==null&&typeof s=="object"}function ga(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sr(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Er(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}class KT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let S=0;S<16;S++)r[S]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let S=0;S<16;S++)r[S]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let S=16;S<80;S++){const y=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],d=this.chain_[2],m=this.chain_[3],_=this.chain_[4],g,b;for(let S=0;S<80;S++){S<40?S<20?(g=m^u&(d^m),b=1518500249):(g=u^d^m,b=1859775393):S<60?(g=u&d|m&(u|d),b=2400959708):(g=u^d^m,b=3395469782);const y=(o<<5|o>>>27)+g+_+b+r[S]&4294967295;_=m,m=d,d=(u<<30|u>>>2)&4294967295,u=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}else for(;o<i;)if(u[d]=t[o],++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function XT(s,t){const i=new WT(s,t);return i.subscribe.bind(i)}class WT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ZT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Ff),o.error===void 0&&(o.error=Ff),o.complete===void 0&&(o.complete=Ff);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZT(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ff(){}function ic(s,t){return`${s} failed: ${t} argument `}const JT=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,B(r<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(r)-56320;o=65536+(u<<10)+d}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},sc=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function _t(s){return s&&s._delegate?s._delegate:s}class ts{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Wi="[DEFAULT]";class $T{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Yr;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t1(t))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wi){return this.instances.has(t)}getOptions(t=Wi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wi){return this.component?this.component.multipleInstances?t:Wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e1(s){return s===Wi?void 0:s}function t1(s){return s.instantiationMode==="EAGER"}class n1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new $T(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const i1={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},s1=Ie.INFO,a1={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},r1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=a1[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kd{constructor(t){this.name=t,this._logLevel=s1,this._logHandler=r1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?i1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}const l1=(s,t)=>t.some(i=>s instanceof i);let F_,Y_;function o1(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c1(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fy=new WeakMap,rd=new WeakMap,dy=new WeakMap,Yf=new WeakMap,Ld=new WeakMap;function u1(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Si(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&fy.set(i,s)}).catch(()=>{}),Ld.set(t,s),t}function f1(s){if(rd.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});rd.set(s,t)}let ld={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return rd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||dy.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Si(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function d1(s){ld=s(ld)}function h1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Qf(this),t,...i);return dy.set(r,t.sort?t.sort():[t]),Si(r)}:c1().includes(s)?function(...t){return s.apply(Qf(this),t),Si(fy.get(this))}:function(...t){return Si(s.apply(Qf(this),t))}}function m1(s){return typeof s=="function"?h1(s):(s instanceof IDBTransaction&&f1(s),l1(s,o1())?new Proxy(s,ld):s)}function Si(s){if(s instanceof IDBRequest)return u1(s);if(Yf.has(s))return Yf.get(s);const t=m1(s);return t!==s&&(Yf.set(s,t),Ld.set(t,s)),t}const Qf=s=>Ld.get(s);function p1(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(s,t),m=Si(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Si(d.result),_.oldVersion,_.newVersion,Si(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),m.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const g1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Kf=new Map;function Q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kf.get(t))return Kf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=_1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||g1.includes(i)))return;const u=async function(d,...m){const _=this.transaction(d,o?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&_.done]))[0]};return Kf.set(t,u),u}d1(s=>({...s,get:(t,i,r)=>Q_(t,i)||s.get(t,i,r),has:(t,i)=>!!Q_(t,i)||s.has(t,i)}));class v1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(y1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function y1(s){return s.getComponent()?.type==="VERSION"}const od="@firebase/app",K_="0.14.8";const Pn=new kd("@firebase/app"),b1="@firebase/app-compat",S1="@firebase/analytics-compat",E1="@firebase/analytics",T1="@firebase/app-check-compat",C1="@firebase/app-check",N1="@firebase/auth",w1="@firebase/auth-compat",x1="@firebase/database",A1="@firebase/data-connect",R1="@firebase/database-compat",O1="@firebase/functions",D1="@firebase/functions-compat",I1="@firebase/installations",M1="@firebase/installations-compat",j1="@firebase/messaging",k1="@firebase/messaging-compat",L1="@firebase/performance",U1="@firebase/performance-compat",z1="@firebase/remote-config",P1="@firebase/remote-config-compat",H1="@firebase/storage",B1="@firebase/storage-compat",G1="@firebase/firestore",q1="@firebase/ai",V1="@firebase/firestore-compat",F1="firebase",Y1="12.9.0";const cd="[DEFAULT]",Q1={[od]:"fire-core",[b1]:"fire-core-compat",[E1]:"fire-analytics",[S1]:"fire-analytics-compat",[C1]:"fire-app-check",[T1]:"fire-app-check-compat",[N1]:"fire-auth",[w1]:"fire-auth-compat",[x1]:"fire-rtdb",[A1]:"fire-data-connect",[R1]:"fire-rtdb-compat",[O1]:"fire-fn",[D1]:"fire-fn-compat",[I1]:"fire-iid",[M1]:"fire-iid-compat",[j1]:"fire-fcm",[k1]:"fire-fcm-compat",[L1]:"fire-perf",[U1]:"fire-perf-compat",[z1]:"fire-rc",[P1]:"fire-rc-compat",[H1]:"fire-gcs",[B1]:"fire-gcs-compat",[G1]:"fire-fst",[V1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};const Uo=new Map,K1=new Map,ud=new Map;function X_(s,t){try{s.container.addComponent(t)}catch(i){Pn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function aa(s){const t=s.name;if(ud.has(t))return Pn.debug(`There were multiple attempts to register component ${t}.`),!1;ud.set(t,s);for(const i of Uo.values())X_(i,s);for(const i of K1.values())X_(i,s);return!0}function Ud(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Zt(s){return s==null?!1:s.settings!==void 0}const X1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Qr("app","Firebase",X1);class W1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const _a=Y1;function hy(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:cd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(i||(i=ay()),!i)throw Ei.create("no-options");const u=Uo.get(o);if(u){if(es(i,u.options)&&es(r,u.config))return u;throw Ei.create("duplicate-app",{appName:o})}const d=new n1(o);for(const _ of ud.values())d.addComponent(_);const m=new W1(i,r,d);return Uo.set(o,m),m}function my(s=cd){const t=Uo.get(s);if(!t&&s===cd&&ay())return hy();if(!t)throw Ei.create("no-app",{appName:s});return t}function Ti(s,t,i){let r=Q1[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pn.warn(d.join(" "));return}aa(new ts(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Z1="firebase-heartbeat-database",J1=1,Mr="firebase-heartbeat-store";let Xf=null;function py(){return Xf||(Xf=p1(Z1,J1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Mr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ei.create("idb-open",{originalErrorMessage:s.message})})),Xf}async function $1(s){try{const i=(await py()).transaction(Mr),r=await i.objectStore(Mr).get(gy(s));return await i.done,r}catch(t){if(t instanceof Ri)Pn.warn(t.message);else{const i=Ei.create("idb-get",{originalErrorMessage:t?.message});Pn.warn(i.message)}}}async function W_(s,t){try{const r=(await py()).transaction(Mr,"readwrite");await r.objectStore(Mr).put(t,gy(s)),await r.done}catch(i){if(i instanceof Ri)Pn.warn(i.message);else{const r=Ei.create("idb-set",{originalErrorMessage:i?.message});Pn.warn(r.message)}}}function gy(s){return`${s.name}!${s.options.appId}`}const eC=1024,tC=30;class nC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tC){const o=aC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Pn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:r}=iC(this._heartbeatsCache.heartbeats),o=jo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pn.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function iC(s,t=eC){const i=[];let r=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),J_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),J_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class sC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?GT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function J_(s){return jo(JSON.stringify({version:2,heartbeats:s})).length}function aC(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function rC(s){aa(new ts("platform-logger",t=>new v1(t),"PRIVATE")),aa(new ts("heartbeat",t=>new nC(t),"PRIVATE")),Ti(od,K_,s),Ti(od,K_,"esm2020"),Ti("fire-js","")}rC("");var $_={};const ev="@firebase/database",tv="1.1.0";let _y="";function lC(s){_y=s}class oC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),st(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ir(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class cC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return pn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const vy=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new oC(t)}}catch{}return new cC},Ji=vy("localStorage"),uC=vy("sessionStorage");const $s=new kd("@firebase/database"),fC=(function(){let s=1;return function(){return s++}})(),yy=function(s){const t=JT(s),i=new KT;i.update(t);const r=i.digest();return Id.encodeByteArray(r)},Kr=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Kr.apply(null,r):typeof r=="object"?t+=st(r):t+=r,t+=" "}return t};let Cr=null,nv=!0;const dC=function(s,t){B(!0,"Can't turn on custom loggers persistently."),$s.logLevel=Ie.VERBOSE,Cr=$s.log.bind($s)},mt=function(...s){if(nv===!0&&(nv=!1,Cr===null&&uC.get("logging_enabled")===!0&&dC()),Cr){const t=Kr.apply(null,s);Cr(t)}},Xr=function(s){return function(...t){mt(s,...t)}},fd=function(...s){const t="FIREBASE INTERNAL ERROR: "+Kr(...s);$s.error(t)},Hn=function(...s){const t=`FIREBASE FATAL ERROR: ${Kr(...s)}`;throw $s.error(t),new Error(t)},St=function(...s){const t="FIREBASE WARNING: "+Kr(...s);$s.warn(t)},hC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zd=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},mC=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ra="[MIN_NAME]",ns="[MAX_NAME]",os=function(s,t){if(s===t)return 0;if(s===ra||t===ns)return-1;if(t===ra||s===ns)return 1;{const i=iv(s),r=iv(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},pC=function(s,t){return s===t?0:s<t?-1:1},_r=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+st(t))},Pd=function(s){if(typeof s!="object"||s===null)return st(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=st(t[r]),i+=":",i+=Pd(s[t[r]]);return i+="}",i},by=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function pt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Sy=function(s){B(!zd(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,d,m,_;s===0?(u=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=m+r,d=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,d=Math.round(s/Math.pow(2,1-r-i))));const g=[];for(_=i;_;_-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(_=t;_;_-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const b=g.join("");let S="";for(_=0;_<64;_+=8){let y=parseInt(b.substr(_,8),2).toString(16);y.length===1&&(y="0"+y),S=S+y}return S.toLowerCase()},gC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_C=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vC(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const yC=new RegExp("^-?(0*)\\d{1,10}$"),bC=-2147483648,SC=2147483647,iv=function(s){if(yC.test(s)){const t=Number(s);if(t>=bC&&t<=SC)return t}return null},va=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw St("Exception was thrown by user callback.",i),t},Math.floor(0))}},EC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nr=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class TC{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Zt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class CC{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(t)}}class Ro{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ro.OWNER="owner";const Hd="5",Ey="v",Ty="s",Cy="r",Ny="f",wy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xy="ls",Ay="p",dd="ac",Ry="websocket",Oy="long_polling";class Dy{constructor(t,i,r,o,u=!1,d="",m=!1,_=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=_,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function NC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Iy(s,t,i){B(typeof t=="string","typeof type must == string"),B(typeof i=="object","typeof params must == object");let r;if(t===Ry)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Oy)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);NC(s)&&(i.ns=s.namespace);const o=[];return pt(i,(u,d)=>{o.push(u+"="+d)}),r+o.join("&")}class wC{constructor(){this.counters_={}}incrementCounter(t,i=1){pn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return xT(this.counters_)}}const Wf={},Zf={};function Bd(s){const t=s.toString();return Wf[t]||(Wf[t]=new wC),Wf[t]}function xC(s,t){const i=s.toString();return Zf[i]||(Zf[i]=t()),Zf[i]}class AC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&va(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const sv="start",RC="close",OC="pLPCommand",DC="pRTLPCB",My="id",jy="pw",ky="ser",IC="cb",MC="seg",jC="ts",kC="d",LC="dframe",Ly=1870,Uy=30,UC=Ly-Uy,zC=25e3,PC=3e4;class Zs{constructor(t,i,r,o,u,d,m){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xr(t),this.stats_=Bd(i),this.urlFn=_=>(this.appCheckToken&&(_[dd]=this.appCheckToken),Iy(i,Oy,_))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new AC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PC)),mC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gd((...u)=>{const[d,m,_,g,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===sv)this.id=m,this.password=_;else if(d===RC)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[sv]="t",r[ky]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[IC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ey]=Hd,this.transportSessionId&&(r[Ty]=this.transportSessionId),this.lastSessionId&&(r[xy]=this.lastSessionId),this.applicationId&&(r[Ay]=this.applicationId),this.appCheckToken&&(r[dd]=this.appCheckToken),typeof location<"u"&&location.hostname&&wy.test(location.hostname)&&(r[Cy]=Ny);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zs.forceAllow_=!0}static forceDisallow(){Zs.forceDisallow_=!0}static isAvailable(){return Zs.forceAllow_?!0:!Zs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gC()&&!_C()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=st(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ny(i),o=by(r,UC);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[LC]="t",r[My]=t,r[jy]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=st(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Gd{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fC(),window[OC+this.uniqueCallbackIdentifier]=t,window[DC+this.uniqueCallbackIdentifier]=i,this.myIFrame=Gd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){mt("frame writing exception"),m.stack&&mt(m.stack),mt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||mt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[My]=this.myID,t[jy]=this.myPW,t[ky]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uy+r.length<=Ly;){const d=this.pendingSegs.shift();r=r+"&"+MC+o+"="+d.seg+"&"+jC+o+"="+d.ts+"&"+kC+o+"="+d.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(zC)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{mt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const HC=16384,BC=45e3;let zo=null;typeof MozWebSocket<"u"?zo=MozWebSocket:typeof WebSocket<"u"&&(zo=WebSocket);class sn{constructor(t,i,r,o,u,d,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xr(this.connId),this.stats_=Bd(i),this.connURL=sn.connectionURL_(i,d,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const d={};return d[Ey]=Hd,typeof location<"u"&&location.hostname&&wy.test(location.hostname)&&(d[Cy]=Ny),i&&(d[Ty]=i),r&&(d[xy]=r),o&&(d[dd]=o),u&&(d[Ay]=u),Iy(t,Ry,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let r;HT(),this.mySock=new zo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&zo!==null&&!sn.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Ir(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=st(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=by(i,HC);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BC))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;class jr{static get ALL_TRANSPORTS(){return[Zs,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=sn&&sn.isAvailable();let r=i&&!sn.previouslyFailed();if(t.webSocketOnly&&(i||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const o=this.transports_=[];for(const u of jr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);jr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jr.globalTransportInitialized_=!1;const GC=6e4,qC=5e3,VC=10*1024,FC=100*1024,Jf="t",av="d",YC="s",rv="r",QC="e",lv="o",ov="a",cv="n",uv="p",KC="h";class XC{constructor(t,i,r,o,u,d,m,_,g,b){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=_,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xr("c:"+this.id+":"),this.transportManager_=new jr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Jf in t){const i=t[Jf];i===ov?this.upgradeIfSecondaryHealthy_():i===rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===lv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=_r("t",t),r=_r("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ov,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=_r("t",t),r=_r("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=_r(Jf,t);if(av in t){const r=t[av];if(i===KC){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===cv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===YC?this.onConnectionShutdown_(r):i===rv?this.onReset_(r):i===QC?fd("Server Error: "+r):i===lv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fd("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Hd!==r&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zy{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class Py{constructor(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){B(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Po extends Py{static getInstance(){return new Po}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return B(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const fv=32,dv=768;class Me{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Ee(){return new Me("")}function ve(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function wi(s){return s.pieces_.length-s.pieceNum_}function Ue(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Me(s.pieces_,t)}function qd(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function WC(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function kr(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Hy(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Me(t,0)}function Fe(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof Me)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Me(i,0)}function pe(s){return s.pieceNum_>=s.pieces_.length}function bt(s,t){const i=ve(s),r=ve(t);if(i===null)return t;if(i===r)return bt(Ue(s),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function ZC(s,t){const i=kr(s,0),r=kr(t,0);for(let o=0;o<i.length&&o<r.length;o++){const u=os(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function By(s,t){if(wi(s)!==wi(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function Jt(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(wi(s)>wi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class JC{constructor(t,i){this.errorPrefix_=i,this.parts_=kr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sc(this.parts_[r]);Gy(this)}}function $C(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=sc(t),Gy(s)}function eN(s){const t=s.parts_.pop();s.byteLength_-=sc(t),s.parts_.length>0&&(s.byteLength_-=1)}function Gy(s){if(s.byteLength_>dv)throw new Error(s.errorPrefix_+"has a key path longer than "+dv+" bytes ("+s.byteLength_+").");if(s.parts_.length>fv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fv+") or object contains a cycle "+Zi(s))}function Zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Vd extends Py{static getInstance(){return new Vd}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return B(t==="visible","Unknown event type: "+t),[this.visible_]}}const vr=1e3,tN=300*1e3,hv=30*1e3,nN=1.3,iN=3e4,sN="server_kill",mv=3;class Un extends zy{constructor(t,i,r,o,u,d,m,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=Un.nextPersistentConnectionId_++,this.log_=Xr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vr,this.maxReconnectDelay_=tN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Po.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(st(u)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Yr,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(d).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},d="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,m=>{const _=m.d,g=m.s;Un.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(g,_))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&pn(t,"w")){const r=sa(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||QT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hv)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=YT(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,d=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},d="n";o&&(u.q=r,u.t=o),this.sendRequest(d,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const d={p:i,d:r};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+st(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):fd("Unrecognized action received from server: "+st(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iN&&(this.reconnectDelay_=vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Un.nextConnectionId_++,u=this.lastSessionId;let d=!1,m=null;const _=function(){m?m.close():(d=!0,r())},g=function(S){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(S)};this.realtime_={close:_,sendRequest:g};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,y]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);d?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=y&&y.token,m=new XC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,w=>{St(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(sN)},u))}catch(S){this.log_("Failed to get token: "+S),d||(this.repoInfo_.nodeAdmin&&St(S),_())}}}interrupt(t){mt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){mt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ad(this.interruptReasons_)&&(this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>Pd(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Me(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){mt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mv&&(this.reconnectDelay_=hv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){mt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+_y.replace(/\./g,"-")]=1,jd()?t["framework.cordova"]=1:cy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Po.getInstance().currentlyOnline();return ad(this.interruptReasons_)&&t}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;class fe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new fe(t,i)}}class ac{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new fe(ra,t),o=new fe(ra,i);return this.compare(r,o)!==0}minPost(){return fe.MIN}}let wo;class qy extends ac{static get __EMPTY_NODE(){return wo}static set __EMPTY_NODE(t){wo=t}compare(t,i){return os(t.name,i.name)}isDefinedOn(t){throw ma("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(ns,wo)}makePost(t,i){return B(typeof t=="string","KeyIndex indexValue must always be a string."),new fe(t,wo)}toString(){return".key"}}const ea=new qy;class xo{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?r(t.key,i):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ot{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??ot.RED,this.left=o??Ot.EMPTY_NODE,this.right=u??Ot.EMPTY_NODE}copy(t,i,r,o,u){return new ot(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class aN{copy(t,i,r,o,u){return this}insert(t,i,r){return new ot(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(t,i=Ot.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ot(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(t){return new Ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new xo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new xo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new xo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new xo(this.root_,null,this.comparator_,!0,t)}}Ot.EMPTY_NODE=new aN;function rN(s,t){return os(s.name,t.name)}function Fd(s,t){return os(s,t)}let hd;function lN(s){hd=s}const Vy=function(s){return typeof s=="number"?"number:"+Sy(s):"string:"+s},Fy=function(s){if(s.isLeafNode()){const t=s.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&pn(t,".sv"),"Priority must be a string or number.")}else B(s===hd||s.isEmpty(),"priority of unexpected type.");B(s===hd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pv;class lt{static set __childrenNodeConstructor(t){pv=t}static get __childrenNodeConstructor(){return pv}constructor(t,i=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Fy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new lt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pe(t)?this:ve(t)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ve(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||wi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Vy(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Sy(this.value_):t+=this.value_,this.lazyHash_=yy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===lt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof lt.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=lt.VALUE_TYPE_ORDER.indexOf(i),u=lt.VALUE_TYPE_ORDER.indexOf(r);return B(o>=0,"Unknown leaf type: "+i),B(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Yy,Qy;function oN(s){Yy=s}function cN(s){Qy=s}class uN extends ac{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?os(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(ns,new lt("[PRIORITY-POST]",Qy))}makePost(t,i){const r=Yy(t);return new fe(i,new lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ye=new uN;const fN=Math.log(2);class dN{constructor(t){const i=u=>parseInt(Math.log(u)/fN,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ho=function(s,t,i,r){s.sort(t);const o=function(_,g){const b=g-_;let S,y;if(b===0)return null;if(b===1)return S=s[_],y=i?i(S):S,new ot(y,S.node,ot.BLACK,null,null);{const w=parseInt(b/2,10)+_,M=o(_,w),z=o(w+1,g);return S=s[w],y=i?i(S):S,new ot(y,S.node,ot.BLACK,M,z)}},u=function(_){let g=null,b=null,S=s.length;const y=function(M,z){const H=S-M,X=S;S-=M;const te=o(H+1,X),ue=s[H],Q=i?i(ue):ue;w(new ot(Q,ue.node,z,null,te))},w=function(M){g?(g.left=M,g=M):(b=M,g=M)};for(let M=0;M<_.count;++M){const z=_.nextBitIsOne(),H=Math.pow(2,_.count-(M+1));z?y(H,ot.BLACK):(y(H,ot.BLACK),y(H,ot.RED))}return b},d=new dN(s.length),m=u(d);return new Ot(r||t,m)};let $f;const Xs={};class jn{static get Default(){return B(Xs&&Ye,"ChildrenNode.ts has not been loaded"),$f=$f||new jn({".priority":Xs},{".priority":Ye}),$f}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=sa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ot?i:null}hasIndex(t){return pn(this.indexSet_,t.toString())}addIndex(t,i){B(t!==ea,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(fe.Wrap);let d=u.getNext();for(;d;)o=o||t.isDefinedOn(d.node),r.push(d),d=u.getNext();let m;o?m=Ho(r,t.getCompare()):m=Xs;const _=t.toString(),g={...this.indexSet_};g[_]=t;const b={...this.indexes_};return b[_]=m,new jn(b,g)}addToIndexes(t,i){const r=Lo(this.indexes_,(o,u)=>{const d=sa(this.indexSet_,u);if(B(d,"Missing index implementation for "+u),o===Xs)if(d.isDefinedOn(t.node)){const m=[],_=i.getIterator(fe.Wrap);let g=_.getNext();for(;g;)g.name!==t.name&&m.push(g),g=_.getNext();return m.push(t),Ho(m,d.getCompare())}else return Xs;else{const m=i.get(t.name);let _=o;return m&&(_=_.remove(new fe(t.name,m))),_.insert(t,t.node)}});return new jn(r,this.indexSet_)}removeFromIndexes(t,i){const r=Lo(this.indexes_,o=>{if(o===Xs)return o;{const u=i.get(t.name);return u?o.remove(new fe(t.name,u)):o}});return new jn(r,this.indexSet_)}}let yr;class ee{static get EMPTY_NODE(){return yr||(yr=new ee(new Ot(Fd),null,jn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Fy(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yr}updatePriority(t){return this.children_.isEmpty()?this:new ee(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?yr:i}}getChild(t){const i=ve(t);return i===null?this:this.getImmediateChild(i).getChild(Ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(B(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new fe(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?yr:this.priorityNode_;return new ee(o,d,u)}}updateChild(t,i){const r=ve(t);if(r===null)return i;{B(ve(t)!==".priority"||wi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ue(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Ye,(d,m)=>{i[d]=m.val(t),r++,u&&ee.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):u=!1}),!t&&u&&o<2*r){const d=[];for(const m in i)d[m]=i[m];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Vy(this.getPriority().val())+":"),this.forEachChild(Ye,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":yy(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new fe(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new fe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new fe(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,fe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wr?-1:0}withIndex(t){if(t===ea||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ea||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ye),o=i.getIterator(Ye);let u=r.getNext(),d=o.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=r.getNext(),d=o.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===ea?null:this.indexMap_.get(t.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hN extends ee{constructor(){super(new Ot(Fd),ee.EMPTY_NODE,jn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ee.EMPTY_NODE}isEmpty(){return!1}}const Wr=new hN;Object.defineProperties(fe,{MIN:{value:new fe(ra,ee.EMPTY_NODE)},MAX:{value:new fe(ns,Wr)}});qy.__EMPTY_NODE=ee.EMPTY_NODE;lt.__childrenNodeConstructor=ee;lN(Wr);cN(Wr);const mN=!0;function it(s,t=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new lt(i,it(t))}if(!(s instanceof Array)&&mN){const i=[];let r=!1;if(pt(s,(d,m)=>{if(d.substring(0,1)!=="."){const _=it(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),i.push(new fe(d,_)))}}),i.length===0)return ee.EMPTY_NODE;const u=Ho(i,rN,d=>d.name,Fd);if(r){const d=Ho(i,Ye.getCompare());return new ee(u,it(t),new jn({".priority":d},{".priority":Ye}))}else return new ee(u,it(t),jn.Default)}else{let i=ee.EMPTY_NODE;return pt(s,(r,o)=>{if(pn(s,r)&&r.substring(0,1)!=="."){const u=it(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(it(t))}}oN(it);class pN extends ac{constructor(t){super(),this.indexPath_=t,B(!pe(t)&&ve(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?os(t.name,i.name):u}makePost(t,i){const r=it(t),o=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(i,o)}maxPost(){const t=ee.EMPTY_NODE.updateChild(this.indexPath_,Wr);return new fe(ns,t)}toString(){return kr(this.indexPath_,0).join("/")}}class gN extends ac{compare(t,i){const r=t.node.compareTo(i.node);return r===0?os(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(t,i){const r=it(t);return new fe(i,r)}toString(){return".value"}}const _N=new gN;function Ky(s){return{type:"value",snapshotNode:s}}function la(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Lr(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Ur(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function vN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Yd{constructor(t){this.index_=t}updateChild(t,i,r,o,u,d){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(d!=null&&(r.isEmpty()?t.hasChild(i)?d.trackChildChange(Lr(i,m)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(la(i,r)):d.trackChildChange(Ur(i,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ye,(o,u)=>{i.hasChild(o)||r.trackChildChange(Lr(o,u))}),i.isLeafNode()||i.forEachChild(Ye,(o,u)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(u)||r.trackChildChange(Ur(o,u,d))}else r.trackChildChange(la(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ee.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zr{constructor(t){this.indexedFilter_=new Yd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zr.getStartPost_(t),this.endPost_=zr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,d){return this.matches(new fe(i,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,d)}updateFullNode(t,i,r){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const u=this;return i.forEachChild(Ye,(d,m)=>{u.matches(new fe(d,m))||(o=o.updateImmediateChild(d,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class yN{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,d){return this.rangedFilter_.matches(new fe(i,r))||(r=ee.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,d):this.fullLimitUpdateChild_(t,i,r,u,d)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let d=0;for(;u.hasNext();){const m=u.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let d;if(this.reverse_){const S=this.index_.getCompare();d=(y,w)=>S(w,y)}else d=this.index_.getCompare();const m=t;B(m.numChildren()===this.limit_,"");const _=new fe(i,r),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(_);if(m.hasChild(i)){const S=m.getImmediateChild(i);let y=o.getChildAfterChild(this.index_,g,this.reverse_);for(;y!=null&&(y.name===i||m.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:d(y,_);if(b&&!r.isEmpty()&&w>=0)return u?.trackChildChange(Ur(i,r,S)),m.updateImmediateChild(i,r);{u?.trackChildChange(Lr(i,S));const z=m.updateImmediateChild(i,ee.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u?.trackChildChange(la(y.name,y.node)),z.updateImmediateChild(y.name,y.node)):z}}else return r.isEmpty()?t:b&&d(g,_)>=0?(u!=null&&(u.trackChildChange(Lr(g.name,g.node)),u.trackChildChange(la(i,r))),m.updateImmediateChild(i,r).updateImmediateChild(g.name,ee.EMPTY_NODE)):t}}class Qd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ra}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const t=new Qd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function bN(s){return s.loadsAllData()?new Yd(s.getIndex()):s.hasLimit()?new yN(s):new zr(s)}function gv(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Ye?i="$priority":s.index_===_N?i="$value":s.index_===ea?i="$key":(B(s.index_ instanceof pN,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=st(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=st(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+st(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=st(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+st(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function _v(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Ye&&(t.i=s.index_.toString()),t}class Bo extends zy{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(B(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Xr("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=Bo.getListenId_(t,r),m={};this.listens_[d]=m;const _=gv(t._queryParams);this.restRequest_(u+".json",_,(g,b)=>{let S=b;if(g===404&&(S=null,g=null),g===null&&this.onDataUpdate_(u,S,!1,r),sa(this.listens_,d)===m){let y;g?g===401?y="permission_denied":y="rest_error:"+g:y="ok",o(y,null)}})}unlisten(t,i){const r=Bo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=gv(t._queryParams),r=t._path.toString(),o=new Yr;return this.restRequest_(r+".json",i,(u,d)=>{let m=d;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ga(i);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=Ir(m.responseText)}catch{St("Failed to parse JSON response for "+d+": "+m.responseText)}r(null,_)}else m.status!==401&&m.status!==404&&St("Got unsuccessful REST response for "+d+" Status: "+m.status),r(m.status);r=null}},m.open("GET",d,!0),m.send()})}}class SN{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Go(){return{value:null,children:new Map}}function Xy(s,t,i){if(pe(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=ve(t);s.children.has(r)||s.children.set(r,Go());const o=s.children.get(r);t=Ue(t),Xy(o,t,i)}}function md(s,t,i){s.value!==null?i(t,s.value):EN(s,(r,o)=>{const u=new Me(t.toString()+"/"+r);md(o,u,i)})}function EN(s,t){s.children.forEach((i,r)=>{t(r,i)})}class TN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&pt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}const vv=10*1e3,CN=30*1e3,NN=300*1e3;class wN{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new TN(t);const r=vv+(CN-vv)*Math.random();Nr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;pt(t,(o,u)=>{u>0&&pn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Nr(this.reportStats_.bind(this),Math.floor(Math.random()*2*NN))}}var an;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function Kd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class qo{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=Kd()}operationForChild(t){if(pe(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(t));return new qo(Ee(),i,this.revert)}}else return B(ve(this.path)===t,"operationForChild called for unrelated child."),new qo(Ue(this.path),this.affectedTree,this.revert)}}class Pr{constructor(t,i){this.source=t,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(t){return pe(this.path)?new Pr(this.source,Ee()):new Pr(this.source,Ue(this.path))}}class is{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=an.OVERWRITE}operationForChild(t){return pe(this.path)?new is(this.source,Ee(),this.snap.getImmediateChild(t)):new is(this.source,Ue(this.path),this.snap)}}class oa{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=an.MERGE}operationForChild(t){if(pe(this.path)){const i=this.children.subtree(new Me(t));return i.isEmpty()?null:i.value?new is(this.source,Ee(),i.value):new oa(this.source,Ee(),i)}else return B(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new oa(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xi{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pe(t))return this.isFullyInitialized()&&!this.filtered_;const i=ve(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class xN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function AN(s,t,i,r){const o=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(vN(d.childName,d.snapshotNode))}),br(s,o,"child_removed",t,r,i),br(s,o,"child_added",t,r,i),br(s,o,"child_moved",u,r,i),br(s,o,"child_changed",t,r,i),br(s,o,"value",t,r,i),o}function br(s,t,i,r,o,u){const d=r.filter(m=>m.type===i);d.sort((m,_)=>ON(s,m,_)),d.forEach(m=>{const _=RN(s,m,u);o.forEach(g=>{g.respondsTo(m.type)&&t.push(g.createEvent(_,s.query_))})})}function RN(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function ON(s,t,i){if(t.childName==null||i.childName==null)throw ma("Should only compare child_ events.");const r=new fe(t.childName,t.snapshotNode),o=new fe(i.childName,i.snapshotNode);return s.index_.compare(r,o)}function rc(s,t){return{eventCache:s,serverCache:t}}function wr(s,t,i,r){return rc(new xi(t,i,r),s.serverCache)}function Wy(s,t,i,r){return rc(s.eventCache,new xi(t,i,r))}function Vo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ss(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let ed;const DN=()=>(ed||(ed=new Ot(pC)),ed);class Le{static fromObject(t){let i=new Le(null);return pt(t,(r,o)=>{i=i.set(new Me(r),o)}),i}constructor(t,i=DN()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Ee(),value:this.value};if(pe(t))return null;{const r=ve(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ue(t),i);return u!=null?{path:Fe(new Me(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pe(t))return this;{const i=ve(t),r=this.children.get(i);return r!==null?r.subtree(Ue(t)):new Le(null)}}set(t,i){if(pe(t))return new Le(i,this.children);{const r=ve(t),u=(this.children.get(r)||new Le(null)).set(Ue(t),i),d=this.children.insert(r,u);return new Le(this.value,d)}}remove(t){if(pe(t))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const i=ve(t),r=this.children.get(i);if(r){const o=r.remove(Ue(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Le(null):new Le(this.value,u)}else return this}}get(t){if(pe(t))return this.value;{const i=ve(t),r=this.children.get(i);return r?r.get(Ue(t)):null}}setTree(t,i){if(pe(t))return i;{const r=ve(t),u=(this.children.get(r)||new Le(null)).setTree(Ue(t),i);let d;return u.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,u),new Le(this.value,d)}}fold(t){return this.fold_(Ee(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Fe(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,Ee(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(pe(t))return null;{const u=ve(t),d=this.children.get(u);return d?d.findOnPath_(Ue(t),Fe(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Ee(),i)}foreachOnPath_(t,i,r){if(pe(t))return this;{this.value&&r(i,this.value);const o=ve(t),u=this.children.get(o);return u?u.foreachOnPath_(Ue(t),Fe(i,o),r):new Le(null)}}foreach(t){this.foreach_(Ee(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Fe(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new Le(null))}}function xr(s,t,i){if(pe(t))return new ln(new Le(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const d=bt(o,t);return u=u.updateChild(d,i),new ln(s.writeTree_.set(o,u))}else{const o=new Le(i),u=s.writeTree_.setTree(t,o);return new ln(u)}}}function pd(s,t,i){let r=s;return pt(i,(o,u)=>{r=xr(r,Fe(t,o),u)}),r}function yv(s,t){if(pe(t))return ln.empty();{const i=s.writeTree_.setTree(t,new Le(null));return new ln(i)}}function gd(s,t){return cs(s,t)!=null}function cs(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(bt(i.path,t)):null}function bv(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ye,(r,o)=>{t.push(new fe(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new fe(r,o.value))}),t}function Ci(s,t){if(pe(t))return s;{const i=cs(s,t);return i!=null?new ln(new Le(i)):new ln(s.writeTree_.subtree(t))}}function _d(s){return s.writeTree_.isEmpty()}function ca(s,t){return Zy(Ee(),s.writeTree_,t)}function Zy(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(B(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Zy(Fe(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(Fe(s,".priority"),r)),i}}function lc(s,t){return tb(t,s)}function IN(s,t,i,r,o){B(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=xr(s.visibleWrites,t,i)),s.lastWriteId=r}function MN(s,t,i,r){B(r>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:r,visible:!0}),s.visibleWrites=pd(s.visibleWrites,t,i),s.lastWriteId=r}function jN(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function kN(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);B(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const m=s.allWrites[d];m.visible&&(d>=i&&LN(m,r.path)?o=!1:Jt(r.path,m.path)&&(u=!0)),d--}if(o){if(u)return UN(s),!0;if(r.snap)s.visibleWrites=yv(s.visibleWrites,r.path);else{const m=r.children;pt(m,_=>{s.visibleWrites=yv(s.visibleWrites,Fe(r.path,_))})}return!0}else return!1}function LN(s,t){if(s.snap)return Jt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Jt(Fe(s.path,i),t))return!0;return!1}function UN(s){s.visibleWrites=Jy(s.allWrites,zN,Ee()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function zN(s){return s.visible}function Jy(s,t,i){let r=ln.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const d=u.path;let m;if(u.snap)Jt(i,d)?(m=bt(i,d),r=xr(r,m,u.snap)):Jt(d,i)&&(m=bt(d,i),r=xr(r,Ee(),u.snap.getChild(m)));else if(u.children){if(Jt(i,d))m=bt(i,d),r=pd(r,m,u.children);else if(Jt(d,i))if(m=bt(d,i),pe(m))r=pd(r,Ee(),u.children);else{const _=sa(u.children,ve(m));if(_){const g=_.getChild(Ue(m));r=xr(r,Ee(),g)}}}else throw ma("WriteRecord should have .snap or .children")}}return r}function $y(s,t,i,r,o){if(!r&&!o){const u=cs(s.visibleWrites,t);if(u!=null)return u;{const d=Ci(s.visibleWrites,t);if(_d(d))return i;if(i==null&&!gd(d,Ee()))return null;{const m=i||ee.EMPTY_NODE;return ca(d,m)}}}else{const u=Ci(s.visibleWrites,t);if(!o&&_d(u))return i;if(!o&&i==null&&!gd(u,Ee()))return null;{const d=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(Jt(g.path,t)||Jt(t,g.path))},m=Jy(s.allWrites,d,t),_=i||ee.EMPTY_NODE;return ca(m,_)}}}function PN(s,t,i){let r=ee.EMPTY_NODE;const o=cs(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ye,(u,d)=>{r=r.updateImmediateChild(u,d)}),r;if(i){const u=Ci(s.visibleWrites,t);return i.forEachChild(Ye,(d,m)=>{const _=ca(Ci(u,new Me(d)),m);r=r.updateImmediateChild(d,_)}),bv(u).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}else{const u=Ci(s.visibleWrites,t);return bv(u).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}}function HN(s,t,i,r,o){B(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Fe(t,i);if(gd(s.visibleWrites,u))return null;{const d=Ci(s.visibleWrites,u);return _d(d)?o.getChild(i):ca(d,o.getChild(i))}}function BN(s,t,i,r){const o=Fe(t,i),u=cs(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const d=Ci(s.visibleWrites,o);return ca(d,r.getNode().getImmediateChild(i))}else return null}function GN(s,t){return cs(s.visibleWrites,t)}function qN(s,t,i,r,o,u,d){let m;const _=Ci(s.visibleWrites,t),g=cs(_,Ee());if(g!=null)m=g;else if(i!=null)m=ca(_,i);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const b=[],S=d.getCompare(),y=u?m.getReverseIteratorFrom(r,d):m.getIteratorFrom(r,d);let w=y.getNext();for(;w&&b.length<o;)S(w,r)!==0&&b.push(w),w=y.getNext();return b}else return[]}function VN(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Fo(s,t,i,r){return $y(s.writeTree,s.treePath,t,i,r)}function Zd(s,t){return PN(s.writeTree,s.treePath,t)}function Sv(s,t,i,r){return HN(s.writeTree,s.treePath,t,i,r)}function Yo(s,t){return GN(s.writeTree,Fe(s.treePath,t))}function FN(s,t,i,r,o,u){return qN(s.writeTree,s.treePath,t,i,r,o,u)}function Jd(s,t,i){return BN(s.writeTree,s.treePath,t,i)}function eb(s,t){return tb(Fe(s.treePath,t),s.writeTree)}function tb(s,t){return{treePath:s,writeTree:t}}class YN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;B(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Ur(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Lr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,la(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Ur(r,t.snapshotNode,o.oldSnap));else throw ma("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class QN{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const nb=new QN;class $d{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jd(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ss(this.viewCache_),u=FN(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}function KN(s){return{filter:s}}function XN(s,t){B(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function WN(s,t,i,r,o){const u=new YN;let d,m;if(i.type===an.OVERWRITE){const g=i;g.source.fromUser?d=vd(s,t,g.path,g.snap,r,o,u):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered()&&!pe(g.path),d=Qo(s,t,g.path,g.snap,r,o,m,u))}else if(i.type===an.MERGE){const g=i;g.source.fromUser?d=JN(s,t,g.path,g.children,r,o,u):(B(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered(),d=yd(s,t,g.path,g.children,r,o,m,u))}else if(i.type===an.ACK_USER_WRITE){const g=i;g.revert?d=tw(s,t,g.path,r,o,u):d=$N(s,t,g.path,g.affectedTree,r,o,u)}else if(i.type===an.LISTEN_COMPLETE)d=ew(s,t,i.path,r,u);else throw ma("Unknown operation type: "+i.type);const _=u.getChanges();return ZN(t,d,_),{viewCache:d,changes:_}}function ZN(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Vo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(Ky(Vo(t)))}}function ib(s,t,i,r,o,u){const d=t.eventCache;if(Yo(r,i)!=null)return t;{let m,_;if(pe(i))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ss(t),b=g instanceof ee?g:ee.EMPTY_NODE,S=Zd(r,b);m=s.filter.updateFullNode(t.eventCache.getNode(),S,u)}else{const g=Fo(r,ss(t));m=s.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=ve(i);if(g===".priority"){B(wi(i)===1,"Can't have a priority with additional path components");const b=d.getNode();_=t.serverCache.getNode();const S=Sv(r,i,b,_);S!=null?m=s.filter.updatePriority(b,S):m=d.getNode()}else{const b=Ue(i);let S;if(d.isCompleteForChild(g)){_=t.serverCache.getNode();const y=Sv(r,i,d.getNode(),_);y!=null?S=d.getNode().getImmediateChild(g).updateChild(b,y):S=d.getNode().getImmediateChild(g)}else S=Jd(r,g,t.serverCache);S!=null?m=s.filter.updateChild(d.getNode(),g,S,b,o,u):m=d.getNode()}}return wr(t,m,d.isFullyInitialized()||pe(i),s.filter.filtersNodes())}}function Qo(s,t,i,r,o,u,d,m){const _=t.serverCache;let g;const b=d?s.filter:s.filter.getIndexedFilter();if(pe(i))g=b.updateFullNode(_.getNode(),r,null);else if(b.filtersNodes()&&!_.isFiltered()){const w=_.getNode().updateChild(i,r);g=b.updateFullNode(_.getNode(),w,null)}else{const w=ve(i);if(!_.isCompleteForPath(i)&&wi(i)>1)return t;const M=Ue(i),H=_.getNode().getImmediateChild(w).updateChild(M,r);w===".priority"?g=b.updatePriority(_.getNode(),H):g=b.updateChild(_.getNode(),w,H,M,nb,null)}const S=Wy(t,g,_.isFullyInitialized()||pe(i),b.filtersNodes()),y=new $d(o,S,u);return ib(s,S,i,o,y,m)}function vd(s,t,i,r,o,u,d){const m=t.eventCache;let _,g;const b=new $d(o,t,u);if(pe(i))g=s.filter.updateFullNode(t.eventCache.getNode(),r,d),_=wr(t,g,!0,s.filter.filtersNodes());else{const S=ve(i);if(S===".priority")g=s.filter.updatePriority(t.eventCache.getNode(),r),_=wr(t,g,m.isFullyInitialized(),m.isFiltered());else{const y=Ue(i),w=m.getNode().getImmediateChild(S);let M;if(pe(y))M=r;else{const z=b.getCompleteChild(S);z!=null?qd(y)===".priority"&&z.getChild(Hy(y)).isEmpty()?M=z:M=z.updateChild(y,r):M=ee.EMPTY_NODE}if(w.equals(M))_=t;else{const z=s.filter.updateChild(m.getNode(),S,M,y,b,d);_=wr(t,z,m.isFullyInitialized(),s.filter.filtersNodes())}}}return _}function Ev(s,t){return s.eventCache.isCompleteForChild(t)}function JN(s,t,i,r,o,u,d){let m=t;return r.foreach((_,g)=>{const b=Fe(i,_);Ev(t,ve(b))&&(m=vd(s,m,b,g,o,u,d))}),r.foreach((_,g)=>{const b=Fe(i,_);Ev(t,ve(b))||(m=vd(s,m,b,g,o,u,d))}),m}function Tv(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function yd(s,t,i,r,o,u,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _=t,g;pe(i)?g=r:g=new Le(null).setTree(i,r);const b=t.serverCache.getNode();return g.children.inorderTraversal((S,y)=>{if(b.hasChild(S)){const w=t.serverCache.getNode().getImmediateChild(S),M=Tv(s,w,y);_=Qo(s,_,new Me(S),M,o,u,d,m)}}),g.children.inorderTraversal((S,y)=>{const w=!t.serverCache.isCompleteForChild(S)&&y.value===null;if(!b.hasChild(S)&&!w){const M=t.serverCache.getNode().getImmediateChild(S),z=Tv(s,M,y);_=Qo(s,_,new Me(S),z,o,u,d,m)}}),_}function $N(s,t,i,r,o,u,d){if(Yo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),_=t.serverCache;if(r.value!=null){if(pe(i)&&_.isFullyInitialized()||_.isCompleteForPath(i))return Qo(s,t,i,_.getNode().getChild(i),o,u,m,d);if(pe(i)){let g=new Le(null);return _.getNode().forEachChild(ea,(b,S)=>{g=g.set(new Me(b),S)}),yd(s,t,i,g,o,u,m,d)}else return t}else{let g=new Le(null);return r.foreach((b,S)=>{const y=Fe(i,b);_.isCompleteForPath(y)&&(g=g.set(b,_.getNode().getChild(y)))}),yd(s,t,i,g,o,u,m,d)}}function ew(s,t,i,r,o){const u=t.serverCache,d=Wy(t,u.getNode(),u.isFullyInitialized()||pe(i),u.isFiltered());return ib(s,d,i,r,nb,o)}function tw(s,t,i,r,o,u){let d;if(Yo(r,i)!=null)return t;{const m=new $d(r,t,o),_=t.eventCache.getNode();let g;if(pe(i)||ve(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Fo(r,ss(t));else{const S=t.serverCache.getNode();B(S instanceof ee,"serverChildren would be complete if leaf node"),b=Zd(r,S)}b=b,g=s.filter.updateFullNode(_,b,u)}else{const b=ve(i);let S=Jd(r,b,t.serverCache);S==null&&t.serverCache.isCompleteForChild(b)&&(S=_.getImmediateChild(b)),S!=null?g=s.filter.updateChild(_,b,S,Ue(i),m,u):t.eventCache.getNode().hasChild(b)?g=s.filter.updateChild(_,b,ee.EMPTY_NODE,Ue(i),m,u):g=_,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Fo(r,ss(t)),d.isLeafNode()&&(g=s.filter.updateFullNode(g,d,u)))}return d=t.serverCache.isFullyInitialized()||Yo(r,Ee())!=null,wr(t,g,d,s.filter.filtersNodes())}}class nw{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Yd(r.getIndex()),u=bN(r);this.processor_=KN(u);const d=i.serverCache,m=i.eventCache,_=o.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(ee.EMPTY_NODE,m.getNode(),null),b=new xi(_,d.isFullyInitialized(),o.filtersNodes()),S=new xi(g,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=rc(S,b),this.eventGenerator_=new xN(this.query_)}get query(){return this.query_}}function iw(s){return s.viewCache_.serverCache.getNode()}function sw(s){return Vo(s.viewCache_)}function aw(s,t){const i=ss(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!pe(t)&&!i.getImmediateChild(ve(t)).isEmpty())?i.getChild(t):null}function Cv(s){return s.eventRegistrations_.length===0}function rw(s,t){s.eventRegistrations_.push(t)}function Nv(s,t,i){const r=[];if(i){B(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(i,o);d&&r.push(d)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const d=s.eventRegistrations_[u];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function wv(s,t,i,r){t.type===an.MERGE&&t.source.queryId!==null&&(B(ss(s.viewCache_),"We should always have a full cache before handling merges"),B(Vo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=WN(s.processor_,o,t,i,r);return XN(s.processor_,u.viewCache),B(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,sb(s,u.changes,u.viewCache.eventCache.getNode(),null)}function lw(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ye,(u,d)=>{r.push(la(u,d))}),i.isFullyInitialized()&&r.push(Ky(i.getNode())),sb(s,r,i.getNode(),t)}function sb(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return AN(s.eventGenerator_,t,i,o)}let Ko;class ab{constructor(){this.views=new Map}}function ow(s){B(!Ko,"__referenceConstructor has already been defined"),Ko=s}function cw(){return B(Ko,"Reference.ts has not been loaded"),Ko}function uw(s){return s.views.size===0}function eh(s,t,i,r){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return B(u!=null,"SyncTree gave us an op for an invalid query."),wv(u,t,i,r)}else{let u=[];for(const d of s.views.values())u=u.concat(wv(d,t,i,r));return u}}function rb(s,t,i,r,o){const u=t._queryIdentifier,d=s.views.get(u);if(!d){let m=Fo(i,o?r:null),_=!1;m?_=!0:r instanceof ee?(m=Zd(i,r),_=!1):(m=ee.EMPTY_NODE,_=!1);const g=rc(new xi(m,_,!1),new xi(r,o,!1));return new nw(t,g)}return d}function fw(s,t,i,r,o,u){const d=rb(s,t,r,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,d),rw(d,i),lw(d,i)}function dw(s,t,i,r){const o=t._queryIdentifier,u=[];let d=[];const m=Ai(s);if(o==="default")for(const[_,g]of s.views.entries())d=d.concat(Nv(g,i,r)),Cv(g)&&(s.views.delete(_),g.query._queryParams.loadsAllData()||u.push(g.query));else{const _=s.views.get(o);_&&(d=d.concat(Nv(_,i,r)),Cv(_)&&(s.views.delete(o),_.query._queryParams.loadsAllData()||u.push(_.query)))}return m&&!Ai(s)&&u.push(new(cw())(t._repo,t._path)),{removed:u,events:d}}function lb(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ni(s,t){let i=null;for(const r of s.views.values())i=i||aw(r,t);return i}function ob(s,t){if(t._queryParams.loadsAllData())return oc(s);{const r=t._queryIdentifier;return s.views.get(r)}}function cb(s,t){return ob(s,t)!=null}function Ai(s){return oc(s)!=null}function oc(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Xo;function hw(s){B(!Xo,"__referenceConstructor has already been defined"),Xo=s}function mw(){return B(Xo,"Reference.ts has not been loaded"),Xo}let pw=1;class xv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Le(null),this.pendingWriteTree_=VN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ub(s,t,i,r,o){return IN(s.pendingWriteTree_,t,i,r,o),o?ya(s,new is(Kd(),t,i)):[]}function gw(s,t,i,r){MN(s.pendingWriteTree_,t,i,r);const o=Le.fromObject(i);return ya(s,new oa(Kd(),t,o))}function bi(s,t,i=!1){const r=jN(s.pendingWriteTree_,t);if(kN(s.pendingWriteTree_,t)){let u=new Le(null);return r.snap!=null?u=u.set(Ee(),!0):pt(r.children,d=>{u=u.set(new Me(d),!0)}),ya(s,new qo(r.path,u,i))}else return[]}function Zr(s,t,i){return ya(s,new is(Xd(),t,i))}function _w(s,t,i){const r=Le.fromObject(i);return ya(s,new oa(Xd(),t,r))}function vw(s,t){return ya(s,new Pr(Xd(),t))}function yw(s,t,i){const r=nh(s,i);if(r){const o=ih(r),u=o.path,d=o.queryId,m=bt(u,t),_=new Pr(Wd(d),m);return sh(s,u,_)}else return[]}function fb(s,t,i,r,o=!1){const u=t._path,d=s.syncPointTree_.get(u);let m=[];if(d&&(t._queryIdentifier==="default"||cb(d,t))){const _=dw(d,t,i,r);uw(d)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const g=_.removed;if(m=_.events,!o){const b=g.findIndex(y=>y._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(u,(y,w)=>Ai(w));if(b&&!S){const y=s.syncPointTree_.subtree(u);if(!y.isEmpty()){const w=Tw(y);for(let M=0;M<w.length;++M){const z=w[M],H=z.query,X=pb(s,z);s.listenProvider_.startListening(Ar(H),Hr(s,H),X.hashFn,X.onComplete)}}}!S&&g.length>0&&!r&&(b?s.listenProvider_.stopListening(Ar(t),null):g.forEach(y=>{const w=s.queryToTagMap.get(cc(y));s.listenProvider_.stopListening(Ar(y),w)}))}Cw(s,g)}return m}function db(s,t,i,r){const o=nh(s,r);if(o!=null){const u=ih(o),d=u.path,m=u.queryId,_=bt(d,t),g=new is(Wd(m),_,i);return sh(s,d,g)}else return[]}function bw(s,t,i,r){const o=nh(s,r);if(o){const u=ih(o),d=u.path,m=u.queryId,_=bt(d,t),g=Le.fromObject(i),b=new oa(Wd(m),_,g);return sh(s,d,b)}else return[]}function Sw(s,t,i,r=!1){const o=t._path;let u=null,d=!1;s.syncPointTree_.foreachOnPath(o,(y,w)=>{const M=bt(y,o);u=u||Ni(w,M),d=d||Ai(w)});let m=s.syncPointTree_.get(o);m?(d=d||Ai(m),u=u||Ni(m,Ee())):(m=new ab,s.syncPointTree_=s.syncPointTree_.set(o,m));let _;u!=null?_=!0:(_=!1,u=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((w,M)=>{const z=Ni(M,Ee());z&&(u=u.updateImmediateChild(w,z))}));const g=cb(m,t);if(!g&&!t._queryParams.loadsAllData()){const y=cc(t);B(!s.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=Nw();s.queryToTagMap.set(y,w),s.tagToQueryMap.set(w,y)}const b=lc(s.pendingWriteTree_,o);let S=fw(m,t,i,b,u,_);if(!g&&!d&&!r){const y=ob(m,t);S=S.concat(ww(s,t,y))}return S}function th(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(d,m)=>{const _=bt(d,t),g=Ni(m,_);if(g)return g});return $y(o,t,u,i,!0)}function Ew(s,t){const i=t._path;let r=null;s.syncPointTree_.foreachOnPath(i,(g,b)=>{const S=bt(g,i);r=r||Ni(b,S)});let o=s.syncPointTree_.get(i);o?r=r||Ni(o,Ee()):(o=new ab,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,d=u?new xi(r,!0,!1):null,m=lc(s.pendingWriteTree_,t._path),_=rb(o,t,m,u?d.getNode():ee.EMPTY_NODE,u);return sw(_)}function ya(s,t){return hb(t,s.syncPointTree_,null,lc(s.pendingWriteTree_,Ee()))}function hb(s,t,i,r){if(pe(s.path))return mb(s,t,i,r);{const o=t.get(Ee());i==null&&o!=null&&(i=Ni(o,Ee()));let u=[];const d=ve(s.path),m=s.operationForChild(d),_=t.children.get(d);if(_&&m){const g=i?i.getImmediateChild(d):null,b=eb(r,d);u=u.concat(hb(m,_,g,b))}return o&&(u=u.concat(eh(o,s,r,i))),u}}function mb(s,t,i,r){const o=t.get(Ee());i==null&&o!=null&&(i=Ni(o,Ee()));let u=[];return t.children.inorderTraversal((d,m)=>{const _=i?i.getImmediateChild(d):null,g=eb(r,d),b=s.operationForChild(d);b&&(u=u.concat(mb(b,m,_,g)))}),o&&(u=u.concat(eh(o,s,r,i))),u}function pb(s,t){const i=t.query,r=Hr(s,i);return{hashFn:()=>(iw(t)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?yw(s,i._path,r):vw(s,i._path);{const u=vC(o,i);return fb(s,i,null,u)}}}}function Hr(s,t){const i=cc(t);return s.queryToTagMap.get(i)}function cc(s){return s._path.toString()+"$"+s._queryIdentifier}function nh(s,t){return s.tagToQueryMap.get(t)}function ih(s){const t=s.indexOf("$");return B(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Me(s.substr(0,t))}}function sh(s,t,i){const r=s.syncPointTree_.get(t);B(r,"Missing sync point for query tag that we're tracking");const o=lc(s.pendingWriteTree_,t);return eh(r,i,o,null)}function Tw(s){return s.fold((t,i,r)=>{if(i&&Ai(i))return[oc(i)];{let o=[];return i&&(o=lb(i)),pt(r,(u,d)=>{o=o.concat(d)}),o}})}function Ar(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(mw())(s._repo,s._path):s}function Cw(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=cc(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function Nw(){return pw++}function ww(s,t,i){const r=t._path,o=Hr(s,t),u=pb(s,i),d=s.listenProvider_.startListening(Ar(t),o,u.hashFn,u.onComplete),m=s.syncPointTree_.subtree(r);if(o)B(!Ai(m.value),"If we're adding a query, it shouldn't be shadowed");else{const _=m.fold((g,b,S)=>{if(!pe(g)&&b&&Ai(b))return[oc(b).query];{let y=[];return b&&(y=y.concat(lb(b).map(w=>w.query))),pt(S,(w,M)=>{y=y.concat(M)}),y}});for(let g=0;g<_.length;++g){const b=_[g];s.listenProvider_.stopListening(Ar(b),Hr(s,b))}}return d}class ah{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new ah(i)}node(){return this.node_}}class rh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Fe(this.path_,t);return new rh(this.syncTree_,i)}node(){return th(this.syncTree_,this.path_)}}const xw=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Av=function(s,t,i){if(!s||typeof s!="object")return s;if(B(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return Aw(s[".sv"],t,i);if(typeof s[".sv"]=="object")return Rw(s[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},Aw=function(s,t,i){if(s==="timestamp")return i.timestamp;B(!1,"Unexpected server value: "+s)},Rw=function(s,t,i){s.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const o=t.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const d=o.getValue();return typeof d!="number"?r:d+r},gb=function(s,t,i,r){return lh(t,new rh(i,s),r)},_b=function(s,t,i){return lh(s,new ah(t),i)};function lh(s,t,i){const r=s.getPriority().val(),o=Av(r,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const d=s,m=Av(d.getValue(),t,i);return m!==d.getValue()||o!==d.getPriority().val()?new lt(m,it(o)):s}else{const d=s;return u=d,o!==d.getPriority().val()&&(u=u.updatePriority(new lt(o))),d.forEachChild(Ye,(m,_)=>{const g=lh(_,t.getImmediateChild(m),i);g!==_&&(u=u.updateImmediateChild(m,g))}),u}}class oh{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function ch(s,t){let i=t instanceof Me?t:new Me(t),r=s,o=ve(i);for(;o!==null;){const u=sa(r.node.children,o)||{children:{},childCount:0};r=new oh(o,r,u),i=Ue(i),o=ve(i)}return r}function ba(s){return s.node.value}function vb(s,t){s.node.value=t,bd(s)}function yb(s){return s.node.childCount>0}function Ow(s){return ba(s)===void 0&&!yb(s)}function uc(s,t){pt(s.node.children,(i,r)=>{t(new oh(i,s,r))})}function bb(s,t,i,r){i&&t(s),uc(s,o=>{bb(o,t,!0)})}function Dw(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Jr(s){return new Me(s.parent===null?s.name:Jr(s.parent)+"/"+s.name)}function bd(s){s.parent!==null&&Iw(s.parent,s.name,s)}function Iw(s,t,i){const r=Ow(i),o=pn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,bd(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,bd(s))}const Mw=/[\[\].#$\/\u0000-\u001F\u007F]/,jw=/[\[\].#$\u0000-\u001F\u007F]/,td=10*1024*1024,uh=function(s){return typeof s=="string"&&s.length!==0&&!Mw.test(s)},Sb=function(s){return typeof s=="string"&&s.length!==0&&!jw.test(s)},kw=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Sb(s)},Lw=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!zd(s)||s&&typeof s=="object"&&pn(s,".sv")},Uw=function(s,t,i,r){fc(ic(s,"value"),t,i)},fc=function(s,t,i){const r=i instanceof Me?new JC(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Zi(r));if(typeof t=="function")throw new Error(s+"contains a function "+Zi(r)+" with contents = "+t.toString());if(zd(t))throw new Error(s+"contains "+t.toString()+" "+Zi(r));if(typeof t=="string"&&t.length>td/3&&sc(t)>td)throw new Error(s+"contains a string greater than "+td+" utf8 bytes "+Zi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(pt(t,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!uh(d)))throw new Error(s+" contains an invalid key ("+d+") "+Zi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$C(r,d),fc(s,m,r),eN(r)}),o&&u)throw new Error(s+' contains ".value" child '+Zi(r)+" in addition to actual children.")}},zw=function(s,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const u=kr(r);for(let d=0;d<u.length;d++)if(!(u[d]===".priority"&&d===u.length-1)){if(!uh(u[d]))throw new Error(s+"contains an invalid key ("+u[d]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(ZC);let o=null;for(i=0;i<t.length;i++){if(r=t[i],o!==null&&Jt(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},Pw=function(s,t,i,r){const o=ic(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];pt(t,(d,m)=>{const _=new Me(d);if(fc(o,m,Fe(i,_)),qd(_)===".priority"&&!Lw(m))throw new Error(o+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(_)}),zw(o,u)},Eb=function(s,t,i,r){if(!Sb(i))throw new Error(ic(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Hw=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Eb(s,t,i)},Bw=function(s,t){if(ve(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},Gw=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!uh(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!kw(i))throw new Error(ic(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class qw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fh(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!By(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function $t(s,t,i){fh(s,i),Vw(s,r=>Jt(r,t)||Jt(t,r))}function Vw(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;t(u)?(Fw(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function Fw(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();Cr&&mt("event: "+i.toString()),va(r)}}}const Yw="repo_interrupt",Qw=25;class Kw{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Go(),this.transactionQueueTree_=new oh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xw(s,t,i){if(s.stats_=Bd(s.repoInfo_),s.forceRestClient_||EC())s.server_=new Bo(s.repoInfo_,(r,o,u,d)=>{Rv(s,r,o,u,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ov(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Un(s.repoInfo_,t,(r,o,u,d)=>{Rv(s,r,o,u,d)},r=>{Ov(s,r)},r=>{Zw(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=xC(s.repoInfo_,()=>new wN(s.stats_,s.server_)),s.infoData_=new SN,s.infoSyncTree_=new xv({startListening:(r,o,u,d)=>{let m=[];const _=s.infoData_.getNode(r._path);return _.isEmpty()||(m=Zr(s.infoSyncTree_,r._path,_),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),dh(s,"connected",!1),s.serverSyncTree_=new xv({startListening:(r,o,u,d)=>(s.server_.listen(r,u,o,(m,_)=>{const g=d(m,_);$t(s.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function Ww(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function dc(s){return xw({timestamp:Ww(s)})}function Rv(s,t,i,r,o){s.dataUpdateCount++;const u=new Me(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let d=[];if(o)if(r){const _=Lo(i,g=>it(g));d=bw(s.serverSyncTree_,u,_,o)}else{const _=it(i);d=db(s.serverSyncTree_,u,_,o)}else if(r){const _=Lo(i,g=>it(g));d=_w(s.serverSyncTree_,u,_)}else{const _=it(i);d=Zr(s.serverSyncTree_,u,_)}let m=u;d.length>0&&(m=ua(s,u)),$t(s.eventQueue_,m,d)}function Ov(s,t){dh(s,"connected",t),t===!1&&tx(s)}function Zw(s,t){pt(t,(i,r)=>{dh(s,i,r)})}function dh(s,t,i){const r=new Me("/.info/"+t),o=it(i);s.infoData_.updateSnapshot(r,o);const u=Zr(s.infoSyncTree_,r,o);$t(s.eventQueue_,r,u)}function hh(s){return s.nextWriteId_++}function Jw(s,t,i){const r=Ew(s.serverSyncTree_,t);return r!=null?Promise.resolve(r):s.server_.get(t).then(o=>{const u=it(o).withIndex(t._queryParams.getIndex());Sw(s.serverSyncTree_,t,i,!0);let d;if(t._queryParams.loadsAllData())d=Zr(s.serverSyncTree_,t._path,u);else{const m=Hr(s.serverSyncTree_,t);d=db(s.serverSyncTree_,t._path,u,m)}return $t(s.eventQueue_,t._path,d),fb(s.serverSyncTree_,t,i,null,!0),u},o=>($r(s,"get for query "+st(t)+" failed: "+o),Promise.reject(new Error(o))))}function $w(s,t,i,r,o){$r(s,"set",{path:t.toString(),value:i,priority:r});const u=dc(s),d=it(i,r),m=th(s.serverSyncTree_,t),_=_b(d,m,u),g=hh(s),b=ub(s.serverSyncTree_,t,_,g,!0);fh(s.eventQueue_,b),s.server_.put(t.toString(),d.val(!0),(y,w)=>{const M=y==="ok";M||St("set at "+t+" failed: "+y);const z=bi(s.serverSyncTree_,g,!M);$t(s.eventQueue_,t,z),Sd(s,o,y,w)});const S=ph(s,t);ua(s,S),$t(s.eventQueue_,S,[])}function ex(s,t,i,r){$r(s,"update",{path:t.toString(),value:i});let o=!0;const u=dc(s),d={};if(pt(i,(m,_)=>{o=!1,d[m]=gb(Fe(t,m),it(_),s.serverSyncTree_,u)}),o)mt("update() called with empty data.  Don't do anything."),Sd(s,r,"ok",void 0);else{const m=hh(s),_=gw(s.serverSyncTree_,t,d,m);fh(s.eventQueue_,_),s.server_.merge(t.toString(),i,(g,b)=>{const S=g==="ok";S||St("update at "+t+" failed: "+g);const y=bi(s.serverSyncTree_,m,!S),w=y.length>0?ua(s,t):t;$t(s.eventQueue_,w,y),Sd(s,r,g,b)}),pt(i,g=>{const b=ph(s,Fe(t,g));ua(s,b)}),$t(s.eventQueue_,t,[])}}function tx(s){$r(s,"onDisconnectEvents");const t=dc(s),i=Go();md(s.onDisconnect_,Ee(),(o,u)=>{const d=gb(o,u,s.serverSyncTree_,t);Xy(i,o,d)});let r=[];md(i,Ee(),(o,u)=>{r=r.concat(Zr(s.serverSyncTree_,o,u));const d=ph(s,o);ua(s,d)}),s.onDisconnect_=Go(),$t(s.eventQueue_,Ee(),r)}function nx(s){s.persistentConnection_&&s.persistentConnection_.interrupt(Yw)}function $r(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),mt(i,...t)}function Sd(s,t,i,r){t&&va(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const d=new Error(u);d.code=o,t(d)}})}function Tb(s,t,i){return th(s.serverSyncTree_,t,i)||ee.EMPTY_NODE}function mh(s,t=s.transactionQueueTree_){if(t||hc(s,t),ba(t)){const i=Nb(s,t);B(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&ix(s,Jr(t),i)}else yb(t)&&uc(t,i=>{mh(s,i)})}function ix(s,t,i){const r=i.map(g=>g.currentWriteId),o=Tb(s,t,r);let u=o;const d=o.hash();for(let g=0;g<i.length;g++){const b=i[g];B(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const S=bt(t,b.path);u=u.updateChild(S,b.currentOutputSnapshotRaw)}const m=u.val(!0),_=t;s.server_.put(_.toString(),m,g=>{$r(s,"transaction put response",{path:_.toString(),status:g});let b=[];if(g==="ok"){const S=[];for(let y=0;y<i.length;y++)i[y].status=2,b=b.concat(bi(s.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&S.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();hc(s,ch(s.transactionQueueTree_,t)),mh(s,s.transactionQueueTree_),$t(s.eventQueue_,t,b);for(let y=0;y<S.length;y++)va(S[y])}else{if(g==="datastale")for(let S=0;S<i.length;S++)i[S].status===3?i[S].status=4:i[S].status=0;else{St("transaction at "+_.toString()+" failed: "+g);for(let S=0;S<i.length;S++)i[S].status=4,i[S].abortReason=g}ua(s,t)}},d)}function ua(s,t){const i=Cb(s,t),r=Jr(i),o=Nb(s,i);return sx(s,o,r),r}function sx(s,t,i){if(t.length===0)return;const r=[];let o=[];const d=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const _=t[m],g=bt(i,_.path);let b=!1,S;if(B(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)b=!0,S=_.abortReason,o=o.concat(bi(s.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=Qw)b=!0,S="maxretry",o=o.concat(bi(s.serverSyncTree_,_.currentWriteId,!0));else{const y=Tb(s,_.path,d);_.currentInputSnapshot=y;const w=t[m].update(y.val());if(w!==void 0){fc("transaction failed: Data returned ",w,_.path);let M=it(w);typeof w=="object"&&w!=null&&pn(w,".priority")||(M=M.updatePriority(y.getPriority()));const H=_.currentWriteId,X=dc(s),te=_b(M,y,X);_.currentOutputSnapshotRaw=M,_.currentOutputSnapshotResolved=te,_.currentWriteId=hh(s),d.splice(d.indexOf(H),1),o=o.concat(ub(s.serverSyncTree_,_.path,te,_.currentWriteId,_.applyLocally)),o=o.concat(bi(s.serverSyncTree_,H,!0))}else b=!0,S="nodata",o=o.concat(bi(s.serverSyncTree_,_.currentWriteId,!0))}$t(s.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(y){setTimeout(y,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(S==="nodata"?r.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):r.push(()=>t[m].onComplete(new Error(S),!1,null))))}hc(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)va(r[m]);mh(s,s.transactionQueueTree_)}function Cb(s,t){let i,r=s.transactionQueueTree_;for(i=ve(t);i!==null&&ba(r)===void 0;)r=ch(r,i),t=Ue(t),i=ve(t);return r}function Nb(s,t){const i=[];return wb(s,t,i),i.sort((r,o)=>r.order-o.order),i}function wb(s,t,i){const r=ba(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);uc(t,o=>{wb(s,o,i)})}function hc(s,t){const i=ba(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,vb(t,i.length>0?i:void 0)}uc(t,r=>{hc(s,r)})}function ph(s,t){const i=Jr(Cb(s,t)),r=ch(s.transactionQueueTree_,t);return Dw(r,o=>{nd(s,o)}),nd(s,r),bb(r,o=>{nd(s,o)}),i}function nd(s,t){const i=ba(t);if(i){const r=[];let o=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(B(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(B(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(bi(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&r.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?vb(t,void 0):i.length=u+1,$t(s.eventQueue_,Jr(t),o);for(let d=0;d<r.length;d++)va(r[d])}}function ax(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function rx(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):St(`Invalid query segment '${i}' in query '${s}'`)}return t}const Dv=function(s,t){const i=lx(s),r=i.namespace;i.domain==="firebase.com"&&Hn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||hC();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Dy(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new Me(i.pathString)}},lx=function(s){let t="",i="",r="",o="",u="",d=!0,m="https",_=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(m=s.substring(0,g-1),s=s.substring(g+2));let b=s.indexOf("/");b===-1&&(b=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),t=s.substring(0,Math.min(b,S)),b<S&&(o=ax(s.substring(b,S)));const y=rx(s.substring(Math.min(s.length,S)));g=t.indexOf(":"),g>=0?(d=m==="https"||m==="wss",_=parseInt(t.substring(g+1),10)):g=t.length;const w=t.slice(0,g);if(w.toLowerCase()==="localhost")i="localhost";else if(w.split(".").length<=2)i=w;else{const M=t.indexOf(".");r=t.substring(0,M).toLowerCase(),i=t.substring(M+1),u=r}"ns"in y&&(u=y.ns)}return{host:t,port:_,domain:i,subdomain:r,secure:d,scheme:m,pathString:o,namespace:u}};class ox{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class cx{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ux{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class gh{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return pe(this._path)?null:qd(this._path)}get ref(){return new Gn(this._repo,this._path)}get _queryIdentifier(){const t=_v(this._queryParams),i=Pd(t);return i==="{}"?"default":i}get _queryObject(){return _v(this._queryParams)}isEqual(t){if(t=_t(t),!(t instanceof gh))return!1;const i=this._repo===t._repo,r=By(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+WC(this._path)}}class Gn extends gh{constructor(t,i){super(t,i,new Qd,!1)}get parent(){const t=Hy(this._path);return t===null?null:new Gn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Br{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Me(t),r=Ed(this.ref,t);return new Br(this._node.getChild(i),r,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new Br(o,Ed(this.ref,r),Ye)))}hasChild(t){const i=new Me(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rr(s,t){return s=_t(s),s._checkNotDeleted("ref"),t!==void 0?Ed(s._root,t):s._root}function Ed(s,t){return s=_t(s),ve(s._path)===null?Hw("child","path",t):Eb("child","path",t),new Gn(s._repo,Fe(s._path,t))}function xb(s,t){s=_t(s),Bw("set",s._path),Uw("set",t,s._path);const i=new Yr;return $w(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function fx(s,t){Pw("update",t,s._path);const i=new Yr;return ex(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function _h(s){s=_t(s);const t=new ux(()=>{}),i=new vh(t);return Jw(s._repo,s,i).then(r=>new Br(r,new Gn(s._repo,s._path),s._queryParams.getIndex()))}class vh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new ox("value",this,new Br(t.snapshotNode,new Gn(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new cx(this,t,i):null}matches(t){return t instanceof vh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}ow(Gn);hw(Gn);const dx="FIREBASE_DATABASE_EMULATOR_HOST",Td={};let hx=!1;function mx(s,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),d=pa(u);s.repoInfo_=new Dy(t,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function px(s,t,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=Dv(u,o),m=d.repoInfo,_;typeof process<"u"&&$_&&(_=$_[dx]),_?(u=`http://${_}?ns=${m.namespace}`,d=Dv(u,o),m=d.repoInfo):d.repoInfo.secure;const g=new CC(s.name,s.options,t);Gw("Invalid Firebase Database URL",d),pe(d.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=_x(m,s,g,new TC(s,i));return new vx(b,s)}function gx(s,t){const i=Td[t];(!i||i[s.key]!==s)&&Hn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),nx(s),delete i[s.key]}function _x(s,t,i,r){let o=Td[t.name];o||(o={},Td[t.name]=o);let u=o[s.toURLString()];return u&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new Kw(s,hx,i,r),o[s.toURLString()]=u,u}class vx{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Hn("Cannot call "+t+" on a deleted database.")}}function yx(s=my(),t){const i=Ud(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=MT("database");r&&bx(i,...r)}return i}function bx(s,t,i,r={}){s=_t(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&es(r,u.repoInfo_.emulatorOptions))return;Hn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Ro(Ro.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:jT(r.mockUserToken,s.app.options.projectId);d=new Ro(m)}pa(t)&&(ly(t),oy("Database",!0)),mx(u,o,r,d)}function Sx(s){lC(_a),aa(new ts("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return px(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ti(ev,tv,s),Ti(ev,tv,"esm2020")}Un.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Un.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};Sx();var Ex="firebase",Tx="12.9.0";Ti(Ex,Tx,"app");function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cx=Ab,Rb=new Qr("auth","Firebase",Ab());const Wo=new kd("@firebase/auth");function Nx(s,...t){Wo.logLevel<=Ie.WARN&&Wo.warn(`Auth (${_a}): ${s}`,...t)}function Oo(s,...t){Wo.logLevel<=Ie.ERROR&&Wo.error(`Auth (${_a}): ${s}`,...t)}function on(s,...t){throw yh(s,...t)}function hn(s,...t){return yh(s,...t)}function Ob(s,t,i){const r={...Cx(),[t]:i};return new Qr("auth","Firebase",r).create(t,{appName:s.name})}function zn(s){return Ob(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yh(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Rb.create(s,...t)}function $(s,t,...i){if(!s)throw yh(t,...i)}function kn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oo(t),new Error(t)}function Bn(s,t){s||kn(t)}function Cd(){return typeof self<"u"&&self.location?.href||""}function wx(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}function xx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wx()||zT()||"connection"in navigator)?navigator.onLine:!0}function Ax(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class el{constructor(t,i){this.shortDelay=t,this.longDelay=i,Bn(i>t,"Short delay should be less than long delay!"),this.isMobile=jd()||cy()}get(){return xx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bh(s,t){Bn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Db{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ox=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dx=new el(3e4,6e4);function Oi(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function qn(s,t,i,r,o={}){return Ib(s,o,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const m=ga({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:_,...u};return UT()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&pa(s.emulatorConfig.host)&&(g.credentials="include"),Db.fetch()(await Mb(s,s.config.apiHost,i,m),g)})}async function Ib(s,t,i){s._canInitEmulator=!1;const r={...Rx,...t};try{const o=new Mx(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ao(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[_,g]=m.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ao(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ao(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ao(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ob(s,b,g);on(s,b)}}catch(o){if(o instanceof Ri)throw o;on(s,"network-request-failed",{message:String(o)})}}async function tl(s,t,i,r,o={}){const u=await qn(s,t,i,r,o);return"mfaPendingCredential"in u&&on(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Mb(s,t,i,r){const o=`${t}${i}?${r}`,u=s,d=u.config.emulator?bh(s.config,o):`${s.config.apiScheme}://${o}`;return Ox.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Ix(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(hn(this.auth,"network-request-failed")),Dx.get())})}}function Ao(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=hn(s,t,r);return o.customData._tokenResponse=i,o}function Mv(s){return s!==void 0&&s.enterprise!==void 0}class jx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Ix(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kx(s,t){return qn(s,"GET","/v2/recaptchaConfig",Oi(s,t))}async function Lx(s,t){return qn(s,"POST","/v1/accounts:delete",t)}async function Zo(s,t){return qn(s,"POST","/v1/accounts:lookup",t)}function Or(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ux(s,t=!1){const i=_t(s),r=await i.getIdToken(t),o=Sh(r);$(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:r,authTime:Or(id(o.auth_time)),issuedAtTime:Or(id(o.iat)),expirationTime:Or(id(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function id(s){return Number(s)*1e3}function Sh(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Oo("JWT malformed, contained fewer than 3 sections"),null;try{const o=ko(i);return o?JSON.parse(o):(Oo("Failed to decode base64 JWT payload"),null)}catch(o){return Oo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jv(s){const t=Sh(s);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function fa(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ri&&zx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function zx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Px{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jo(s){const t=s.auth,i=await s.getIdToken(),r=await fa(s,Zo(t,{idToken:i}));$(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?jb(o.providerUserInfo):[],d=Bx(s.providerData,u),m=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,g=m?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Nd(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,b)}async function Hx(s){const t=_t(s);await Jo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Bx(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function jb(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Gx(s,t){const i=await Ib(s,{},async()=>{const r=ga({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await Mb(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:m,body:r};return s.emulatorConfig&&pa(s.emulatorConfig.host)&&(_.credentials="include"),Db.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qx(s,t){return qn(s,"POST","/v2/accounts:revokeToken",Oi(s,t))}class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){$(t.length!==0,"internal-error");const i=jv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await Gx(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,d=new ta;return r&&($(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&($(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&($(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return kn("not implemented")}}function pi(s,t){$(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class rn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await fa(this,this.stsTokenManager.getToken(this.auth,t));return $(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ux(this,t)}reload(){return Hx(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new rn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Jo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(zn(this.auth));const t=await this.getIdToken();return await fa(this,Lx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,m=i.tenantId??void 0,_=i._redirectEventId??void 0,g=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:y,isAnonymous:w,providerData:M,stsTokenManager:z}=i;$(S&&z,t,"internal-error");const H=ta.fromJSON(this.name,z);$(typeof S=="string",t,"internal-error"),pi(r,t.name),pi(o,t.name),$(typeof y=="boolean",t,"internal-error"),$(typeof w=="boolean",t,"internal-error"),pi(u,t.name),pi(d,t.name),pi(m,t.name),pi(_,t.name),pi(g,t.name),pi(b,t.name);const X=new rn({uid:S,auth:t,email:o,emailVerified:y,displayName:r,isAnonymous:w,photoURL:d,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:b});return M&&Array.isArray(M)&&(X.providerData=M.map(te=>({...te}))),_&&(X._redirectEventId=_),X}static async _fromIdTokenResponse(t,i,r=!1){const o=new ta;o.updateFromServerResponse(i);const u=new rn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Jo(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];$(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?jb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,m=new ta;m.updateFromIdToken(r);const _=new rn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,g),_}}const kv=new Map;function Ln(s){Bn(s instanceof Function,"Expected a class definition");let t=kv.get(s);return t?(Bn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,kv.set(s,t),t)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}kb.type="NONE";const Lv=kb;function Do(s,t,i){return`firebase:${s}:${t}:${i}`}class na{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Do(this.userKey,o.apiKey,u),this.fullPersistenceKey=Do("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zo(this.auth,{idToken:t}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,t):null}return rn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new na(Ln(Lv),t,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ln(Lv);const d=Do(r,t.config.apiKey,t.name);let m=null;for(const g of i)try{const b=await g._get(d);if(b){let S;if(typeof b=="string"){const y=await Zo(t,{idToken:b}).catch(()=>{});if(!y)break;S=await rn._fromGetAccountInfoResponse(t,y,b)}else S=rn._fromJSON(t,b);g!==u&&(m=S),u=g;break}}catch{}const _=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new na(u,t,r):(u=_[0],m&&await u._set(d,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new na(u,t,r))}}function Uv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bb(t))return"Blackberry";if(Gb(t))return"Webos";if(Ub(t))return"Safari";if((t.includes("chrome/")||zb(t))&&!t.includes("edge/"))return"Chrome";if(Hb(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Lb(s=Et()){return/firefox\//i.test(s)}function Ub(s=Et()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zb(s=Et()){return/crios\//i.test(s)}function Pb(s=Et()){return/iemobile/i.test(s)}function Hb(s=Et()){return/android/i.test(s)}function Bb(s=Et()){return/blackberry/i.test(s)}function Gb(s=Et()){return/webos/i.test(s)}function Eh(s=Et()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Vx(s=Et()){return Eh(s)&&!!window.navigator?.standalone}function Fx(){return PT()&&document.documentMode===10}function qb(s=Et()){return Eh(s)||Hb(s)||Gb(s)||Bb(s)||/windows phone/i.test(s)||Pb(s)}function Vb(s,t=[]){let i;switch(s){case"Browser":i=Uv(Et());break;case"Worker":i=`${Uv(Et())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${_a}/${r}`}class Yx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((d,m)=>{try{const _=t(u);d(_)}catch(_){m(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Qx(s,t={}){return qn(s,"GET","/v2/passwordPolicy",Oi(s,t))}const Kx=6;class Xx{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Kx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Wx{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new Yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ln(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await na.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zo(this,{idToken:t}),r=await rn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===d)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ax()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zt(this.app))return Promise.reject(zn(this));const i=t?_t(t):null;return i&&$(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zt(this.app)?Promise.reject(zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Qx(this),i=new Xx(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qr("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await qx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ln(t)||this._popupRedirectResolver;$(i,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Ln(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if($(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Nx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function us(s){return _t(s)}class zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=XT(i=>this.observer=i)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zx(s){mc=s}function Fb(s){return mc.loadJS(s)}function Jx(){return mc.recaptchaEnterpriseScript}function $x(){return mc.gapiScript}function eA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class tA{constructor(){this.enterprise=new nA}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class nA{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const iA="recaptcha-enterprise",Yb="NO_RECAPTCHA";class sA{constructor(t){this.type=iA,this.auth=us(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{kx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new jx(_);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(_=>{m(_)})})}function o(u,d,m){const _=window.grecaptcha;Mv(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:t}).then(g=>{d(g)}).catch(()=>{d(Yb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(m=>{if(!i&&Mv(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Jx();_.length!==0&&(_+=m),Fb(_).then(()=>{o(m,u,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function Pv(s,t,i,r=!1,o=!1){const u=new sA(s);let d;if(o)d=Yb;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const m={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const _=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const _=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wd(s,t,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Pv(s,t,i,i==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Pv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function aA(s,t){const i=Ud(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(es(u,t??{}))return o;on(o,"already-initialized")}return i.initialize({options:t})}function rA(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ln);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function lA(s,t,i){const r=us(s);$(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Qb(t),{host:d,port:m}=oA(t),_=m===null?"":`:${m}`,g={url:`${u}//${d}${_}/`},b=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){$(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$(es(g,r.config.emulator)&&es(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,pa(d)?(ly(`${u}//${d}${_}`),oy("Auth",!0)):cA()}function Qb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function oA(s){const t=Qb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Hv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Hv(d)}}}function Hv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function cA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Th{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return kn("not implemented")}_getIdTokenResponse(t){return kn("not implemented")}_linkToIdToken(t,i){return kn("not implemented")}_getReauthenticationResolver(t){return kn("not implemented")}}async function uA(s,t){return qn(s,"POST","/v1/accounts:signUp",t)}async function fA(s,t){return tl(s,"POST","/v1/accounts:signInWithPassword",Oi(s,t))}async function dA(s,t){return tl(s,"POST","/v1/accounts:signInWithEmailLink",Oi(s,t))}async function hA(s,t){return tl(s,"POST","/v1/accounts:signInWithEmailLink",Oi(s,t))}class Gr extends Th{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Gr(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Gr(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wd(t,i,"signInWithPassword",fA);case"emailLink":return dA(t,{email:this._email,oobCode:this._password});default:on(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wd(t,r,"signUpPassword",uA);case"emailLink":return hA(t,{idToken:i,email:this._email,oobCode:this._password});default:on(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ia(s,t){return tl(s,"POST","/v1/accounts:signInWithIdp",Oi(s,t))}const mA="http://localhost";class as extends Th{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):on("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const d=new as(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ia(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ia(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ia(t,i)}buildRequest(){const t={requestUri:mA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ga(i)}return t}}function pA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gA(s){const t=Sr(Er(s)).link,i=t?Sr(Er(t)).deep_link_id:null,r=Sr(Er(s)).deep_link_id;return(r?Sr(Er(r)).link:null)||r||i||t||s}class Ch{constructor(t){const i=Sr(Er(t)),r=i.apiKey??null,o=i.oobCode??null,u=pA(i.mode??null);$(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=gA(t);try{return new Ch(i)}catch{return null}}}class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(t,i){return Gr._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Ch.parseLink(i);return $(r,"argument-error"),Gr._fromEmailAndCode(t,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Kb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nl extends Kb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class gi extends nl{constructor(){super("facebook.com")}static credential(t){return as._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";class _i extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return as._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return _i.credential(i,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";class vi extends nl{constructor(){super("github.com")}static credential(t){return as._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";class yi extends nl{constructor(){super("twitter.com")}static credential(t,i){return as._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return yi.credential(i,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";async function _A(s,t){return tl(s,"POST","/v1/accounts:signUp",Oi(s,t))}class rs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await rn._fromIdTokenResponse(t,r,o),d=Bv(r);return new rs({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Bv(r);return new rs({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class $o extends Ri{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new $o(t,i,r,o)}}function Xb(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$o._fromErrorAndOperation(s,u,t,r):u})}async function vA(s,t,i=!1){const r=await fa(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return rs._forOperation(s,"link",r)}async function yA(s,t,i=!1){const{auth:r}=s;if(Zt(r.app))return Promise.reject(zn(r));const o="reauthenticate";try{const u=await fa(s,Xb(r,o,t,s),i);$(u.idToken,r,"internal-error");const d=Sh(u.idToken);$(d,r,"internal-error");const{sub:m}=d;return $(s.uid===m,r,"user-mismatch"),rs._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&on(r,"user-mismatch"),u}}async function Wb(s,t,i=!1){if(Zt(s.app))return Promise.reject(zn(s));const r="signIn",o=await Xb(s,r,t),u=await rs._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function bA(s,t){return Wb(us(s),t)}async function Zb(s){const t=us(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function SA(s,t,i){if(Zt(s.app))return Promise.reject(zn(s));const r=us(s),d=await wd(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_A).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&Zb(s),_}),m=await rs._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(m.user),m}function EA(s,t,i){return Zt(s.app)?Promise.reject(zn(s)):bA(_t(s),Sa.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Zb(s),r})}async function TA(s,t){return qn(s,"POST","/v1/accounts:update",t)}async function CA(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=_t(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await fa(r,TA(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const m=r.providerData.find(({providerId:_})=>_==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function NA(s,t,i,r){return _t(s).onIdTokenChanged(t,i,r)}function wA(s,t,i){return _t(s).beforeAuthStateChanged(t,i)}function xA(s,t,i,r){return _t(s).onAuthStateChanged(t,i,r)}function AA(s){return _t(s).signOut()}const ec="__sak";class Jb{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const RA=1e3,OA=10;class $b extends Jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,m,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);Fx()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,OA):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},RA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$b.type="LOCAL";const DA=$b;class eS extends Jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}eS.type="SESSION";const tS=eS;function IA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class pc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new pc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async g=>g(i.origin,u)),_=await IA(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pc.receivers=[];function Nh(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class MA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,_)=>{const g=Nh("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const y=S;if(y.data.eventId===g)switch(y.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(y.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function mn(){return window}function jA(s){mn().location.href=s}function nS(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function kA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LA(){return navigator?.serviceWorker?.controller||null}function UA(){return nS()?self:null}const iS="firebaseLocalStorageDb",zA=1,tc="firebaseLocalStorage",sS="fbase_key";class il{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gc(s,t){return s.transaction([tc],t?"readwrite":"readonly").objectStore(tc)}function PA(){const s=indexedDB.deleteDatabase(iS);return new il(s).toPromise()}function xd(){const s=indexedDB.open(iS,zA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(tc,{keyPath:sS})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(tc)?t(r):(r.close(),await PA(),t(await xd()))})})}async function Gv(s,t,i){const r=gc(s,!0).put({[sS]:t,value:i});return new il(r).toPromise()}async function HA(s,t){const i=gc(s,!1).get(t),r=await new il(i).toPromise();return r===void 0?null:r.value}function qv(s,t){const i=gc(s,!0).delete(t);return new il(i).toPromise()}const BA=800,GA=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>GA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pc._getInstance(UA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kA(),!this.activeServiceWorker)return;this.sender=new MA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xd();return await Gv(t,ec,"1"),await qv(t,ec),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>HA(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>qv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=gc(o,!1).getAll();return new il(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const qA=aS;new el(3e4,6e4);function VA(s,t){return t?Ln(t):($(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class wh extends Th{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ia(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ia(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ia(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function FA(s){return Wb(s.auth,new wh(s),s.bypassAuthState)}function YA(s){const{auth:t,user:i}=s;return $(i,t,"internal-error"),yA(i,new wh(s),s.bypassAuthState)}async function QA(s){const{auth:t,user:i}=s;return $(i,t,"internal-error"),vA(i,new wh(s),s.bypassAuthState)}class rS{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:d,type:m}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(_))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FA;case"linkViaPopup":case"linkViaRedirect":return QA;case"reauthViaPopup":case"reauthViaRedirect":return YA;default:on(this.auth,"internal-error")}}resolve(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KA=new el(2e3,1e4);class Js extends rS{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const t=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KA.get())};t()}}Js.currentPopupAction=null;const XA="pendingRedirect",Io=new Map;class WA extends rS{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Io.get(this.auth._key());if(!t){try{const r=await ZA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Io.set(this.auth._key(),t)}return this.bypassAuthState||Io.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZA(s,t){const i=eR(t),r=$A(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function JA(s,t){Io.set(s._key(),t)}function $A(s){return Ln(s._redirectPersistence)}function eR(s){return Do(XA,s.config.apiKey,s.name)}async function tR(s,t,i=!1){if(Zt(s.app))return Promise.reject(zn(s));const r=us(s),o=VA(r,t),d=await new WA(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const nR=600*1e3;class iR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!lS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(hn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(t))}saveEventToCache(t){this.cachedEventUids.add(Vv(t)),this.lastProcessedEventTime=Date.now()}}function Vv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function lS({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function sR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(s);default:return!1}}async function aR(s,t={}){return qn(s,"GET","/v1/projects",t)}const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lR=/^https?/;async function oR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await aR(s);for(const i of t)try{if(cR(i))return}catch{}on(s,"unauthorized-domain")}function cR(s){const t=Cd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!lR.test(i))return!1;if(rR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const uR=new el(3e4,6e4);function Fv(){const s=mn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function fR(s){return new Promise((t,i)=>{function r(){Fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fv(),i(hn(s,"network-request-failed"))},timeout:uR.get()})}if(mn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(mn().gapi?.load)r();else{const o=eA("iframefcb");return mn()[o]=()=>{gapi.load?r():i(hn(s,"network-request-failed"))},Fb(`${$x()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Mo=null,t})}let Mo=null;function dR(s){return Mo=Mo||fR(s),Mo}const hR=new el(5e3,15e3),mR="__/auth/iframe",pR="emulator/auth/iframe",gR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vR(s){const t=s.config;$(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bh(t,pR):`https://${s.config.authDomain}/${mR}`,r={apiKey:t.apiKey,appName:s.name,v:_a},o=_R.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ga(r).slice(1)}`}async function yR(s){const t=await dR(s),i=mn().gapi;return $(i,s,"internal-error"),t.open({where:document.body,url:vR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=hn(s,"network-request-failed"),m=mn().setTimeout(()=>{u(d)},hR.get());function _(){mn().clearTimeout(m),o(r)}r.ping(_).then(_,()=>{u(d)})}))}const bR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SR=500,ER=600,TR="_blank",CR="http://localhost";class Yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NR(s,t,i,r=SR,o=ER){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const _={...bR,width:r.toString(),height:o.toString(),top:u,left:d},g=Et().toLowerCase();i&&(m=zb(g)?TR:i),Lb(g)&&(t=t||CR,_.scrollbars="yes");const b=Object.entries(_).reduce((y,[w,M])=>`${y}${w}=${M},`,"");if(Vx(g)&&m!=="_self")return wR(t||"",m),new Yv(null);const S=window.open(t||"",m,b);$(S,s,"popup-blocked");try{S.focus()}catch{}return new Yv(S)}function wR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const xR="__/auth/handler",AR="emulator/auth/handler",RR=encodeURIComponent("fac");async function Qv(s,t,i,r,o,u){$(s.config.authDomain,s,"auth-domain-config-required"),$(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:_a,eventId:o};if(t instanceof Kb){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",ad(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof nl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const _=await s._getAppCheckToken(),g=_?`#${RR}=${encodeURIComponent(_)}`:"";return`${OR(s)}?${ga(m).slice(1)}${g}`}function OR({config:s}){return s.emulator?bh(s,AR):`https://${s.authDomain}/${xR}`}const sd="webStorageSupport";class DR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=tR,this._overrideRedirectResult=JA}async _openPopup(t,i,r,o){Bn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Qv(t,i,r,Cd(),o);return NR(t,u,Nh())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await Qv(t,i,r,Cd(),o);return jA(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Bn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await yR(t),r=new iR(t);return i.register("authEvent",o=>($(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sd,{type:sd},o=>{const u=o?.[0]?.[sd];u!==void 0&&i(!!u),on(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return qb()||Ub()||Eh()}}const IR=DR;var Kv="@firebase/auth",Xv="1.12.0";class MR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kR(s){aa(new ts("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;$(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(s)},g=new Wx(r,o,u,_);return rA(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),aa(new ts("auth-internal",t=>{const i=us(t.getProvider("auth").getImmediate());return(r=>new MR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(Kv,Xv,jR(s)),Ti(Kv,Xv,"esm2020")}const LR=300,UR=ry("authIdTokenMaxAge")||LR;let Wv=null;const zR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>UR)return;const o=i?.token;Wv!==o&&(Wv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function PR(s=my()){const t=Ud(s,"auth");if(t.isInitialized())return t.getImmediate();const i=aA(s,{popupRedirectResolver:IR,persistence:[qA,DA,tS]}),r=ry("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=zR(u.toString());wA(i,d,()=>d(i.currentUser)),NA(i,m=>d(m))}}const o=sy("auth");return o&&lA(i,`http://${o}`),i}function HR(){return document.getElementsByTagName("head")?.[0]??document}Zx({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=hn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",HR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kR("Browser");const BR={apiKey:"AIzaSyBhZ7XGKFde4UWy5H3i9NzVGYN-joVvoSY",authDomain:"pl-football-fantasy.firebaseapp.com",databaseURL:"https://pl-football-fantasy-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pl-football-fantasy",storageBucket:"pl-football-fantasy.firebasestorage.app",messagingSenderId:"875638327100",appId:"1:875638327100:web:020b2630584c6d1e6dc039",measurementId:"G-FNBYMP2H7H"},oS=hy(BR),Dr=yx(oS),Ws=PR(oS);function GR(){const[s,t]=ce.useState([]),[i,r]=ce.useState(!0);if(ce.useEffect(()=>{async function b(){try{const y=(await _h(Rr(Dr,"users"))).val();if(y){const w=Object.entries(y).map(([M,z])=>({uid:M,name:z.name||"Unknown",email:z.email||"N/A",fplCode:z.fplCode||"N/A",createdAt:z.createdAt||null}));w.sort((M,z)=>(z.createdAt||"").localeCompare(M.createdAt||"")),t(w)}}catch(S){console.error("Failed to load users:",S)}finally{r(!1)}}b()},[]),i)return h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"Loading admin data..."})]});const o=s.length,u=s.filter(b=>b.fplCode&&b.fplCode!=="N/A").length,d=s.filter(b=>b.createdAt?Date.now()-new Date(b.createdAt).getTime()<10080*60*1e3:!1).length,m={};s.forEach(b=>{if(!b.createdAt)return;const S=b.createdAt.slice(0,10);m[S]=(m[S]||0)+1});const _=Object.keys(m).sort(),g=Math.max(...Object.values(m),1);return h.jsxs("div",{className:"admin-page",children:[h.jsx("h2",{className:"admin-title",children:"Admin Dashboard"}),h.jsxs("div",{className:"admin-stats",children:[h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"admin-stat-value",children:o}),h.jsx("div",{className:"admin-stat-label",children:"Total Users"})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"admin-stat-value",children:u}),h.jsx("div",{className:"admin-stat-label",children:"With FPL Code"})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"admin-stat-value",children:d}),h.jsx("div",{className:"admin-stat-label",children:"New This Week"})]}),h.jsxs("div",{className:"stat-card",children:[h.jsxs("div",{className:"admin-stat-value",children:[o>0?Math.round(u/o*100):0,"%"]}),h.jsx("div",{className:"admin-stat-label",children:"FPL Linked"})]})]}),_.length>0&&h.jsxs("div",{className:"admin-section",children:[h.jsx("h3",{children:"Registrations Over Time"}),h.jsx("div",{className:"reg-chart",children:_.map(b=>h.jsxs("div",{className:"reg-bar-group",children:[h.jsx("div",{className:"reg-bar-wrapper",children:h.jsx("div",{className:"reg-bar",style:{height:`${m[b]/g*100}%`},children:h.jsx("span",{className:"reg-bar-count",children:m[b]})})}),h.jsx("span",{className:"reg-bar-label",children:new Date(b+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},b))})]}),h.jsxs("div",{className:"admin-section",children:[h.jsxs("h3",{children:["All Users (",o,")"]}),h.jsx("div",{className:"admin-table-wrapper",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"FPL Code"}),h.jsx("th",{children:"Registered"})]})}),h.jsx("tbody",{children:s.map(b=>h.jsxs("tr",{children:[h.jsx("td",{children:b.name}),h.jsx("td",{children:b.email}),h.jsx("td",{className:"mono",children:b.fplCode}),h.jsx("td",{children:b.createdAt?new Date(b.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]},b.uid))})]})})]})]})}const qR="maghovk@gmail.com",cS=ce.createContext(null);function VR({children:s}){const[t,i]=ce.useState(null),[r,o]=ce.useState(null),[u,d]=ce.useState(!0),m=t?.email===qR;ce.useEffect(()=>xA(Ws,async w=>{if(w){const H=(await _h(Rr(Dr,`users/${w.uid}`))).val()?.fplCode??null;H&&qf(H),o(H),i(w)}else i(null),o(null);d(!1)}),[]);async function _(y,w,M,z){const{user:H}=await SA(Ws,w,M);await CA(H,{displayName:y}),await xb(Rr(Dr,`users/${H.uid}`),{name:y,email:w,fplCode:Number(z),createdAt:new Date().toISOString()}),qf(Number(z)),o(Number(z))}async function g(y){if(!Ws.currentUser)return;const w=Number(y);await fx(Rr(Dr,`users/${Ws.currentUser.uid}`),{fplCode:w}),qf(w),o(w)}async function b(y,w){await EA(Ws,y,w)}async function S(){await AA(Ws)}return h.jsx(cS.Provider,{value:{user:t,fplCode:r,loading:u,isAdmin:m,register:_,login:b,logout:S,updateFplCode:g},children:s})}function _c(){return ce.useContext(cS)}const FR=["All","GK","DEF","MID","FWD"];function YR(){const{fplCode:s,user:t}=_c(),{data:i,loading:r,error:o,reload:u}=$i($E,[s]),[d,m]=ce.useState(null),[_,g]=ce.useState("All"),[b,S]=ce.useState(new Set),y=ce.useRef({});ce.useEffect(()=>{if(!i||i.length===0||!t)return;const U=Rr(Dr,`transferCache/${t.uid}`);async function ne(){try{const Qe=(await _h(U)).val();if(Qe?.transfers){const O=new Set(Qe.transfers.map(W=>`${W.gameweek}-${W.playerIn.id}`)),P=new Set;i.forEach((W,Ne)=>{O.has(`${W.gameweek}-${W.playerIn.id}`)||P.add(Ne)}),P.size>0&&S(P)}await xb(U,{transfers:i.map(O=>({gameweek:O.gameweek,transferCost:O.transferCost,netGain:O.netGain,gameweeksCompared:O.gameweeksCompared,playerIn:{id:O.playerIn.id,name:O.playerIn.name,position:O.playerIn.position,club:O.playerIn.club,pointsSinceTransfer:O.playerIn.pointsSinceTransfer},playerOut:{id:O.playerOut.id,name:O.playerOut.name,position:O.playerOut.position,club:O.playerOut.club,pointsSinceTransfer:O.playerOut.pointsSinceTransfer}})),updatedAt:new Date().toISOString()})}catch(Ge){console.error("Transfer cache sync error:",Ge)}}ne()},[i,t]);const w=ce.useCallback(U=>{const ne=y.current[U];ne&&(ne.scrollIntoView({behavior:"smooth",block:"center"}),m(U),ne.classList.add("transfer-highlight"),setTimeout(()=>ne.classList.remove("transfer-highlight"),2e3))},[]);if(r)return h.jsxs("div",{className:"loading-container",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"Analysing your transfers..."})]});if(o)return h.jsxs("div",{className:"error-container",children:[h.jsxs("p",{children:["Failed to load transfers: ",o]}),h.jsx("button",{className:"btn btn-primary",onClick:u,children:"Retry"})]});if(!i||i.length===0)return h.jsxs("div",{className:"transfers-empty",children:[h.jsx("div",{className:"empty-icon",children:h.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("polyline",{points:"17 1 21 5 17 9"}),h.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),h.jsx("polyline",{points:"7 23 3 19 7 15"}),h.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]})}),h.jsx("h3",{children:"No Transfers Yet"}),h.jsx("p",{children:"Your transfer history will appear here once you make transfers."})]});const M=_==="All"?i:i.filter(U=>U.playerIn.position===_||U.playerOut.position===_),z=i.length,H=i.reduce((U,ne)=>U+ne.netGain,0),X=i.filter(U=>U.netGain>0).length,te=z>0?Math.round(X/z*100):0,ue=i.reduce((U,ne,Ge)=>ne.netGain>i[U].netGain?Ge:U,0),Q=i.reduce((U,ne,Ge)=>ne.netGain<i[U].netGain?Ge:U,0),Y=i[ue],re=i[Q],Z=i.reduce((U,ne)=>U+(ne.transferCost||0),0),Te=[...i].sort((U,ne)=>U.gameweek-ne.gameweek),Ze=[];let le=0;for(const U of Te)le+=U.netGain,Ze.push({gw:U.gameweek,total:le,name:`${U.playerOut.name}  ${U.playerIn.name}`});const Be=Math.max(...Ze.map(U=>Math.abs(U.total)),1);return h.jsxs("div",{className:"transfer-tracker",children:[b.size>0&&h.jsxs("div",{className:"new-transfer-banner",children:[h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),h.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),b.size," new transfer",b.size>1?"s":""," detected since last visit!",h.jsx("button",{className:"new-transfer-dismiss",onClick:()=>S(new Set),children:"Dismiss"})]}),h.jsxs("div",{className:"transfer-stats",children:[h.jsxs("div",{className:"stat-card",children:[h.jsx("div",{className:"transfer-stat-value",children:z}),h.jsx("div",{className:"transfer-stat-label",children:"Transfers Made"})]}),h.jsxs("div",{className:`stat-card ${H>=0?"stat-positive":"stat-negative"}`,children:[h.jsxs("div",{className:"transfer-stat-value",children:[H>=0?"+":"",H]}),h.jsx("div",{className:"transfer-stat-label",children:"Net Points Gain"})]}),h.jsxs("div",{className:`stat-card ${te>=50?"stat-positive":"stat-negative"}`,children:[h.jsxs("div",{className:"transfer-stat-value",children:[te,"%"]}),h.jsx("div",{className:"transfer-stat-label",children:"Success Rate"})]}),h.jsxs("div",{className:"stat-card clickable-stat stat-positive",onClick:()=>w(ue),children:[h.jsxs("div",{className:"transfer-stat-value",children:["+",Y.netGain]}),h.jsx("div",{className:"transfer-stat-label",children:"Best Transfer "})]}),h.jsxs("div",{className:"stat-card clickable-stat stat-negative",onClick:()=>w(Q),children:[h.jsx("div",{className:"transfer-stat-value",children:re.netGain}),h.jsx("div",{className:"transfer-stat-label",children:"Worst Transfer "})]})]}),Z>0&&h.jsxs("div",{className:"transfer-cost-banner",children:["Total transfer costs: ",h.jsxs("strong",{children:["-",Z," pts"]})," (hits taken)"]}),Ze.length>1&&h.jsxs("div",{className:"cumulative-section",children:[h.jsx("h3",{className:"section-title",children:"Cumulative Net Gain"}),h.jsxs("div",{className:"cumulative-chart",children:[h.jsx("div",{className:"chart-zero-line"}),Ze.map((U,ne)=>{const Ge=U.total>=0,Qe=Math.max(Math.abs(U.total)/Be*50,2);return h.jsxs("div",{className:"chart-bar-group",children:[h.jsx("div",{className:"chart-bar-area",children:Ge?h.jsxs("div",{className:"chart-bar-top",children:[h.jsxs("span",{className:"chart-bar-val",children:[U.total>=0?"+":"",U.total]}),h.jsx("div",{className:"chart-bar bar-positive",style:{height:`${Qe}%`}})]}):h.jsxs("div",{className:"chart-bar-bottom",children:[h.jsx("div",{className:"chart-bar bar-negative",style:{height:`${Qe}%`}}),h.jsx("span",{className:"chart-bar-val",children:U.total})]})}),h.jsxs("span",{className:"chart-bar-label",children:["GW",U.gw]})]},ne)})]})]}),h.jsxs("div",{className:"transfer-filter-bar",children:[h.jsx("span",{className:"filter-label",children:"Filter:"}),FR.map(U=>h.jsx("button",{className:`filter-btn ${_===U?"filter-active":""}`,onClick:()=>g(U),children:U},U)),h.jsxs("span",{className:"filter-count",children:[M.length," transfer",M.length!==1?"s":""]})]}),h.jsx("div",{className:"transfer-list",children:M.map(U=>{const ne=i.indexOf(U),Ge=d===ne,Qe=U.netGain>=0,O=b.has(ne);return h.jsxs("div",{ref:P=>y.current[ne]=P,className:`transfer-card ${Qe?"transfer-positive":"transfer-negative"} ${O?"transfer-new":""}`,onClick:()=>m(Ge?null:ne),children:[O&&h.jsx("div",{className:"new-badge",children:"NEW"}),h.jsxs("div",{className:"transfer-header",children:[h.jsxs("span",{className:"transfer-gw",children:["GW",U.gameweek]}),h.jsxs("div",{className:`transfer-net ${Qe?"net-positive":"net-negative"}`,children:[Qe?"+":"",U.netGain," pts"]})]}),h.jsxs("div",{className:"transfer-players",children:[h.jsxs("div",{className:"transfer-player out",children:[h.jsx("div",{className:"transfer-direction",children:"OUT"}),h.jsxs("div",{className:"transfer-player-info",children:[h.jsx("span",{className:"transfer-player-name",children:U.playerOut.name}),h.jsxs("span",{className:"transfer-player-meta",children:[U.playerOut.club,"  ",U.playerOut.position]})]}),h.jsxs("div",{className:"transfer-player-points",children:[U.playerOut.pointsSinceTransfer," pts"]})]}),h.jsx("div",{className:"transfer-arrow",children:h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M12 5v14M5 12l7 7 7-7"})})}),h.jsxs("div",{className:"transfer-player in",children:[h.jsx("div",{className:"transfer-direction",children:"IN"}),h.jsxs("div",{className:"transfer-player-info",children:[h.jsx("span",{className:"transfer-player-name",children:U.playerIn.name}),h.jsxs("span",{className:"transfer-player-meta",children:[U.playerIn.club,"  ",U.playerIn.position]})]}),h.jsxs("div",{className:"transfer-player-points",children:[U.playerIn.pointsSinceTransfer," pts"]})]})]}),U.transferCost>0&&h.jsxs("div",{className:"transfer-hit",children:["-",U.transferCost," pt hit"]}),h.jsxs("div",{className:"transfer-meta",children:[U.gameweeksCompared," GW",U.gameweeksCompared!==1?"s":""," compared",h.jsx("span",{className:"expand-hint",children:Ge?"":""})]}),Ge&&h.jsxs("div",{className:"transfer-breakdown",children:[h.jsxs("div",{className:"breakdown-header",children:[h.jsx("span",{children:"GW"}),h.jsx("span",{children:U.playerOut.name}),h.jsx("span",{children:U.playerIn.name}),h.jsx("span",{children:"Diff"})]}),U.gwBreakdown.map(P=>h.jsxs("div",{className:"breakdown-row",children:[h.jsx("span",{className:"breakdown-gw",children:P.gw}),h.jsx("span",{className:"breakdown-pts",children:P.outPts}),h.jsx("span",{className:"breakdown-pts",children:P.inPts}),h.jsxs("span",{className:`breakdown-diff ${P.diff>=0?"diff-positive":"diff-negative"}`,children:[P.diff>=0?"+":"",P.diff]})]},P.gw)),h.jsxs("div",{className:"breakdown-row breakdown-total",children:[h.jsx("span",{className:"breakdown-gw",children:"Total"}),h.jsx("span",{className:"breakdown-pts",children:U.playerOut.pointsSinceTransfer}),h.jsx("span",{className:"breakdown-pts",children:U.playerIn.pointsSinceTransfer}),h.jsxs("span",{className:`breakdown-diff ${U.netGain>=0?"diff-positive":"diff-negative"}`,children:[U.netGain>=0?"+":"",U.netGain]})]})]})]},ne)})})]})}function QR(){const{login:s,register:t}=_c(),[i,r]=ce.useState(!1),[o,u]=ce.useState({name:"",email:"",password:"",fplCode:""}),[d,m]=ce.useState(""),[_,g]=ce.useState(!1);function b(y){u(w=>({...w,[y.target.name]:y.target.value}))}async function S(y){y.preventDefault(),m(""),g(!0);try{if(i){if(!o.name.trim())throw new Error("Name is required.");if(!o.fplCode.trim())throw new Error("FPL kode is required.");await t(o.name.trim(),o.email,o.password,o.fplCode)}else await s(o.email,o.password)}catch(w){m(w.message||"Something went wrong.")}finally{g(!1)}}return h.jsx("div",{className:"auth-page",children:h.jsxs("div",{className:"auth-card",children:[h.jsxs("div",{className:"auth-brand",children:[h.jsx("div",{className:"brand-icon",children:"FF"}),h.jsxs("div",{children:[h.jsx("h1",{children:"My Football Fantasy"}),h.jsx("p",{className:"subtitle",children:"Season 2025/26"})]})]}),h.jsx("h2",{className:"auth-title",children:i?"Create account":"Sign in"}),h.jsxs("form",{onSubmit:S,className:"auth-form",children:[i&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",children:"Name"}),h.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:o.name,onChange:b,placeholder:"Your name"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:b,placeholder:"you@example.com"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:i?"new-password":"current-password",required:!0,value:o.password,onChange:b,placeholder:""})]}),i&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"fplCode",children:"FPL kode"}),h.jsx("input",{id:"fplCode",name:"fplCode",type:"number",required:!0,value:o.fplCode,onChange:b,placeholder:"e.g. 5398119"})]}),d&&h.jsx("p",{className:"auth-error",children:d}),h.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:_,children:_?"Please wait...":i?"Create account":"Sign in"})]}),h.jsxs("p",{className:"auth-toggle",children:[i?"Already have an account?":"No account yet?"," ",h.jsx("button",{type:"button",className:"auth-toggle-btn",onClick:()=>{r(y=>!y),m("")},children:i?"Sign in":"Create account"})]})]})})}const Zv=[{id:"team",label:"My Team",icon:"shield"},{id:"formation",label:"Formation",icon:"formation"},{id:"points",label:"Points",icon:"chart"},{id:"trade",label:"Trade Analyzer",icon:"swap"},{id:"transfers",label:"Transfers",icon:"transfers"},{id:"fixtures",label:"Fixtures",icon:"calendar"}],KR={id:"admin",label:"Admin",icon:"admin"},XR={shield:h.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),chart:h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),h.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),h.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),swap:h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("polyline",{points:"17 1 21 5 17 9"}),h.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),h.jsx("polyline",{points:"7 23 3 19 7 15"}),h.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),calendar:h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),h.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),formation:h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2"}),h.jsx("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),h.jsx("circle",{cx:"7",cy:"10",r:"1.5",fill:"currentColor"}),h.jsx("circle",{cx:"17",cy:"10",r:"1.5",fill:"currentColor"}),h.jsx("circle",{cx:"8",cy:"16",r:"1.5",fill:"currentColor"}),h.jsx("circle",{cx:"16",cy:"16",r:"1.5",fill:"currentColor"}),h.jsx("circle",{cx:"12",cy:"21",r:"1.5",fill:"currentColor"})]}),transfers:h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 2v20M2 12h20"}),h.jsx("circle",{cx:"12",cy:"5",r:"2",fill:"currentColor",stroke:"none"}),h.jsx("circle",{cx:"12",cy:"19",r:"2",fill:"currentColor",stroke:"none"}),h.jsx("path",{d:"M7 9l5-5 5 5M17 15l-5 5-5-5"})]}),admin:h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 15c-3.87 0-7 1.57-7 3.5V21h14v-2.5c0-1.93-3.13-3.5-7-3.5z"}),h.jsx("circle",{cx:"12",cy:"8",r:"4"}),h.jsx("path",{d:"M19 8l1.5 1.5L22 8"})]})};function WR(){const{user:s,fplCode:t,isAdmin:i,logout:r}=_c(),[o,u]=ce.useState("team"),[d,m]=ce.useState("ff"),{data:_,loading:g,error:b,reload:S}=$i(QE,[t]),y=i?[...Zv,KR]:Zv;return h.jsxs("div",{className:"app",children:[h.jsx("header",{className:"app-header",children:h.jsxs("div",{className:"header-content",children:[h.jsxs("div",{className:"brand",children:[h.jsx("div",{className:"brand-icon",children:"FF"}),h.jsxs("div",{children:[h.jsx("h1",{children:"My Football Fantasy"}),h.jsx("p",{className:"subtitle",children:"Season 2025/26"})]})]}),h.jsx("nav",{className:"nav-tabs",children:y.map(w=>h.jsxs("button",{className:`nav-tab ${o===w.id?"active":""}`,onClick:()=>u(w.id),children:[XR[w.icon],h.jsx("span",{children:w.label})]},w.id))}),h.jsxs("div",{className:"user-info",children:[h.jsx("span",{className:"user-name",children:s.displayName}),h.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Logout"})]})]})}),h.jsxs("main",{className:"app-main",children:[o==="team"&&h.jsx(iT,{teamData:_,teamLoading:g,teamError:b,teamReload:S}),o==="formation"&&h.jsx(TT,{teamData:_,teamLoading:g,teamError:b,teamReload:S}),o==="points"&&h.jsx(lT,{teamData:_,teamLoading:g,teamError:b,teamReload:S}),o==="trade"&&h.jsx(dT,{teamData:_,teamLoading:g,teamError:b,teamReload:S}),o==="transfers"&&h.jsx(YR,{}),o==="fixtures"&&h.jsx(yT,{}),o==="admin"&&i&&h.jsx(GR,{})]}),h.jsx("div",{className:"version-label",children:"v0.02"})]})}function ZR(){const{user:s,loading:t}=_c();return t?h.jsx("div",{className:"app-loading",children:h.jsx("div",{className:"loading-spinner"})}):s?h.jsx(WR,{}):h.jsx(QR,{})}function JR(){return h.jsx(VR,{children:h.jsx(ZR,{})})}GE.createRoot(document.getElementById("root")).render(h.jsx(ce.StrictMode,{children:h.jsx(JR,{})}));
