(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Lf={exports:{}},dl={};var N_;function Ob(){if(N_)return dl;N_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:s,type:l,key:h,ref:o!==void 0?o:null,props:u}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var w_;function Ib(){return w_||(w_=1,Lf.exports=Ob()),Lf.exports}var p=Ib(),Uf={exports:{}},J={};var A_;function Mb(){if(A_)return J;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),y=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,B={};function Z(C,k,P){this.props=C,this.context=k,this.refs=B,this.updater=P||L}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,k){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,k,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ce(){}ce.prototype=Z.prototype;function ge(C,k,P){this.props=C,this.context=k,this.refs=B,this.updater=P||L}var ue=ge.prototype=new ce;ue.constructor=ge,z(ue,Z.prototype),ue.isPureReactComponent=!0;var $=Array.isArray;function Ie(){}var X={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function pt(C,k,P){var q=P.ref;return{$$typeof:s,type:C,key:k,ref:q!==void 0?q:null,props:P}}function ie(C,k){return pt(C.type,k,C.props)}function Qe(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function Ee(C){var k={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(P){return k[P]})}var Je=/\/+/g;function pn(C,k){return typeof C=="object"&&C!==null&&C.key!=null?Ee(""+C.key):k.toString(36)}function Jt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ie,Ie):(C.status="pending",C.then(function(k){C.status==="pending"&&(C.status="fulfilled",C.value=k)},function(k){C.status==="pending"&&(C.status="rejected",C.reason=k)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function I(C,k,P,q,ee){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(ae){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case s:case t:be=!0;break;case E:return be=C._init,I(be(C._payload),k,P,q,ee)}}if(be)return ee=ee(C),be=q===""?"."+pn(C,0):q,$(ee)?(P="",be!=null&&(P=be.replace(Je,"$&/")+"/"),I(ee,k,P,"",function(Ea){return Ea})):ee!=null&&(Qe(ee)&&(ee=ie(ee,P+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(Je,"$&/")+"/")+be)),k.push(ee)),1;be=0;var gt=q===""?".":q+":";if($(C))for(var Ve=0;Ve<C.length;Ve++)q=C[Ve],ae=gt+pn(q,Ve),be+=I(q,k,P,ae,ee);else if(Ve=R(C),typeof Ve=="function")for(C=Ve.call(C),Ve=0;!(q=C.next()).done;)q=q.value,ae=gt+pn(q,Ve++),be+=I(q,k,P,ae,ee);else if(ae==="object"){if(typeof C.then=="function")return I(Jt(C),k,P,q,ee);throw k=String(C),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return be}function H(C,k,P){if(C==null)return C;var q=[],ee=0;return I(C,q,"","",function(ae){return k.call(P,ae,ee++)}),q}function W(C){if(C._status===-1){var k=C._result;k=k(),k.then(function(P){(C._status===0||C._status===-1)&&(C._status=1,C._result=P)},function(P){(C._status===0||C._status===-1)&&(C._status=2,C._result=P)}),C._status===-1&&(C._status=0,C._result=k)}if(C._status===1)return C._result.default;throw C._result}var we=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Me={map:H,forEach:function(C,k,P){H(C,function(){k.apply(this,arguments)},P)},count:function(C){var k=0;return H(C,function(){k++}),k},toArray:function(C){return H(C,function(k){return k})||[]},only:function(C){if(!Qe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return J.Activity=S,J.Children=Me,J.Component=Z,J.Fragment=i,J.Profiler=o,J.PureComponent=ge,J.StrictMode=l,J.Suspense=g,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,J.__COMPILER_RUNTIME={__proto__:null,c:function(C){return X.H.useMemoCache(C)}},J.cache=function(C){return function(){return C.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(C,k,P){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var q=z({},C.props),ee=C.key;if(k!=null)for(ae in k.key!==void 0&&(ee=""+k.key),k)!Te.call(k,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&k.ref===void 0||(q[ae]=k[ae]);var ae=arguments.length-2;if(ae===1)q.children=P;else if(1<ae){for(var be=Array(ae),gt=0;gt<ae;gt++)be[gt]=arguments[gt+2];q.children=be}return pt(C.type,ee,q)},J.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},J.createElement=function(C,k,P){var q,ee={},ae=null;if(k!=null)for(q in k.key!==void 0&&(ae=""+k.key),k)Te.call(k,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ee[q]=k[q]);var be=arguments.length-2;if(be===1)ee.children=P;else if(1<be){for(var gt=Array(be),Ve=0;Ve<be;Ve++)gt[Ve]=arguments[Ve+2];ee.children=gt}if(C&&C.defaultProps)for(q in be=C.defaultProps,be)ee[q]===void 0&&(ee[q]=be[q]);return pt(C,ae,ee)},J.createRef=function(){return{current:null}},J.forwardRef=function(C){return{$$typeof:d,render:C}},J.isValidElement=Qe,J.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:W}},J.memo=function(C,k){return{$$typeof:_,type:C,compare:k===void 0?null:k}},J.startTransition=function(C){var k=X.T,P={};X.T=P;try{var q=C(),ee=X.S;ee!==null&&ee(P,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ie,we)}catch(ae){we(ae)}finally{k!==null&&P.types!==null&&(k.types=P.types),X.T=k}},J.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},J.use=function(C){return X.H.use(C)},J.useActionState=function(C,k,P){return X.H.useActionState(C,k,P)},J.useCallback=function(C,k){return X.H.useCallback(C,k)},J.useContext=function(C){return X.H.useContext(C)},J.useDebugValue=function(){},J.useDeferredValue=function(C,k){return X.H.useDeferredValue(C,k)},J.useEffect=function(C,k){return X.H.useEffect(C,k)},J.useEffectEvent=function(C){return X.H.useEffectEvent(C)},J.useId=function(){return X.H.useId()},J.useImperativeHandle=function(C,k,P){return X.H.useImperativeHandle(C,k,P)},J.useInsertionEffect=function(C,k){return X.H.useInsertionEffect(C,k)},J.useLayoutEffect=function(C,k){return X.H.useLayoutEffect(C,k)},J.useMemo=function(C,k){return X.H.useMemo(C,k)},J.useOptimistic=function(C,k){return X.H.useOptimistic(C,k)},J.useReducer=function(C,k,P){return X.H.useReducer(C,k,P)},J.useRef=function(C){return X.H.useRef(C)},J.useState=function(C){return X.H.useState(C)},J.useSyncExternalStore=function(C,k,P){return X.H.useSyncExternalStore(C,k,P)},J.useTransition=function(){return X.H.useTransition()},J.version="19.2.4",J}var x_;function Ah(){return x_||(x_=1,Uf.exports=Mb()),Uf.exports}var pe=Ah(),zf={exports:{}},ml={},Hf={exports:{}},Pf={};var R_;function jb(){return R_||(R_=1,(function(s){function t(I,H){var W=I.length;I.push(H);e:for(;0<W;){var we=W-1>>>1,Me=I[we];if(0<o(Me,H))I[we]=H,I[W]=Me,W=we;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var H=I[0],W=I.pop();if(W!==H){I[0]=W;e:for(var we=0,Me=I.length,C=Me>>>1;we<C;){var k=2*(we+1)-1,P=I[k],q=k+1,ee=I[q];if(0>o(P,W))q<Me&&0>o(ee,P)?(I[we]=ee,I[q]=W,we=q):(I[we]=P,I[k]=W,we=k);else if(q<Me&&0>o(ee,W))I[we]=ee,I[q]=W,we=q;else break e}}return H}function o(I,H){var W=I.sortIndex-H.sortIndex;return W!==0?W:I.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var g=[],_=[],E=1,S=null,y=3,R=!1,L=!1,z=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function ue(I){for(var H=i(_);H!==null;){if(H.callback===null)l(_);else if(H.startTime<=I)l(_),H.sortIndex=H.expirationTime,t(g,H);else break;H=i(_)}}function $(I){if(z=!1,ue(I),!L)if(i(g)!==null)L=!0,Ie||(Ie=!0,Ee());else{var H=i(_);H!==null&&Jt($,H.startTime-I)}}var Ie=!1,X=-1,Te=5,pt=-1;function ie(){return B?!0:!(s.unstable_now()-pt<Te)}function Qe(){if(B=!1,Ie){var I=s.unstable_now();pt=I;var H=!0;try{e:{L=!1,z&&(z=!1,ce(X),X=-1),R=!0;var W=y;try{t:{for(ue(I),S=i(g);S!==null&&!(S.expirationTime>I&&ie());){var we=S.callback;if(typeof we=="function"){S.callback=null,y=S.priorityLevel;var Me=we(S.expirationTime<=I);if(I=s.unstable_now(),typeof Me=="function"){S.callback=Me,ue(I),H=!0;break t}S===i(g)&&l(g),ue(I)}else l(g);S=i(g)}if(S!==null)H=!0;else{var C=i(_);C!==null&&Jt($,C.startTime-I),H=!1}}break e}finally{S=null,y=W,R=!1}H=void 0}}finally{H?Ee():Ie=!1}}}var Ee;if(typeof ge=="function")Ee=function(){ge(Qe)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,pn=Je.port2;Je.port1.onmessage=Qe,Ee=function(){pn.postMessage(null)}}else Ee=function(){Z(Qe,0)};function Jt(I,H){X=Z(function(){I(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(I){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var W=y;y=H;try{return I()}finally{y=W}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=y;y=I;try{return H()}finally{y=W}},s.unstable_scheduleCallback=function(I,H,W){var we=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?we+W:we):W=we,I){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=W+Me,I={id:E++,callback:H,priorityLevel:I,startTime:W,expirationTime:Me,sortIndex:-1},W>we?(I.sortIndex=W,t(_,I),i(g)===null&&I===i(_)&&(z?(ce(X),X=-1):z=!0,Jt($,W-we))):(I.sortIndex=Me,t(g,I),L||R||(L=!0,Ie||(Ie=!0,Ee()))),I},s.unstable_shouldYield=ie,s.unstable_wrapCallback=function(I){var H=y;return function(){var W=y;y=H;try{return I.apply(this,arguments)}finally{y=W}}}})(Pf)),Pf}var D_;function kb(){return D_||(D_=1,Hf.exports=jb()),Hf.exports}var Bf={exports:{}},dt={};var O_;function Lb(){if(O_)return dt;O_=1;var s=Ah();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:_,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dt.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(g,_,null,E)},dt.flushSync=function(g){var _=h.T,E=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=_,l.p=E,l.d.f()}},dt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(g,_))},dt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},dt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,S=d(E,_.crossOrigin),y=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?l.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:y,fetchPriority:R}):E==="script"&&l.d.X(g,{crossOrigin:S,integrity:y,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=d(_.as,_.crossOrigin);l.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(g)},dt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=d(E,_.crossOrigin);l.d.L(g,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dt.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=d(_.as,_.crossOrigin);l.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(g)},dt.requestFormReset=function(g){l.d.r(g)},dt.unstable_batchedUpdates=function(g,_){return g(_)},dt.useFormState=function(g,_,E){return h.H.useFormState(g,_,E)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.2.4",dt}var I_;function Ub(){if(I_)return Bf.exports;I_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bf.exports=Lb(),Bf.exports}var M_;function zb(){if(M_)return ml;M_=1;var s=kb(),t=Ah(),i=Ub();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(l(188))}function _(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,r=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),e;if(f===r)return g(c),n;f=f.sibling}throw Error(l(188))}if(a.return!==r.return)a=c,r=f;else{for(var m=!1,v=c.child;v;){if(v===a){m=!0,a=c,r=f;break}if(v===r){m=!0,r=c,a=f;break}v=v.sibling}if(!m){for(v=f.child;v;){if(v===a){m=!0,a=f,r=c;break}if(v===r){m=!0,r=f,a=c;break}v=v.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,y=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),pt=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=Qe&&e[Qe]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function pn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case $:return"Suspense";case Ie:return"SuspenseList";case pt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case ge:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case ue:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:pn(e.type)||"Memo";case Te:n=e._payload,e=e._init;try{return pn(e(n))}catch{}}return null}var Jt=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},we=[],Me=-1;function C(e){return{current:e}}function k(e){0>Me||(e.current=we[Me],we[Me]=null,Me--)}function P(e,n){Me++,we[Me]=e.current,e.current=n}var q=C(null),ee=C(null),ae=C(null),be=C(null);function gt(e,n){switch(P(ae,n),P(ee,e),P(q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Kg(n),e=Xg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(q),P(q,e)}function Ve(){k(q),k(ee),k(ae)}function Ea(e){e.memoizedState!==null&&P(be,e);var n=q.current,a=Xg(n,e.type);n!==a&&(P(ee,e),P(q,a))}function nr(e){ee.current===e&&(k(q),k(ee)),be.current===e&&(k(be),cl._currentValue=W)}var _c,Cd;function Oi(e){if(_c===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);_c=n&&n[1]||"",Cd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_c+e+Cd}var vc=!1;function yc(e,n){if(!e||vc)return"";vc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(D){var x=D}Reflect.construct(e,[],j)}else{try{j.call()}catch(D){x=D}e.call(j.prototype)}}else{try{throw Error()}catch(D){x=D}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(D){if(D&&x&&typeof D.stack=="string")return[D.stack,x.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),m=f[0],v=f[1];if(m&&v){var b=m.split(`
`),A=v.split(`
`);for(c=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(r===b.length||c===A.length)for(r=b.length-1,c=A.length-1;1<=r&&0<=c&&b[r]!==A[c];)c--;for(;1<=r&&0<=c;r--,c--)if(b[r]!==A[c]){if(r!==1||c!==1)do if(r--,c--,0>c||b[r]!==A[c]){var O=`
`+b[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=c);break}}}finally{vc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Oi(a):""}function oS(e,n){switch(e.tag){case 26:case 27:case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return e.child!==n&&n!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return yc(e.type,!1);case 11:return yc(e.type.render,!1);case 1:return yc(e.type,!0);case 31:return Oi("Activity");default:return""}}function Nd(e){try{var n="",a=null;do n+=oS(e,a),a=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Ec=Object.prototype.hasOwnProperty,Sc=s.unstable_scheduleCallback,bc=s.unstable_cancelCallback,cS=s.unstable_shouldYield,uS=s.unstable_requestPaint,Rt=s.unstable_now,fS=s.unstable_getCurrentPriorityLevel,wd=s.unstable_ImmediatePriority,Ad=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,hS=s.unstable_LowPriority,xd=s.unstable_IdlePriority,dS=s.log,mS=s.unstable_setDisableYieldValue,Sa=null,Dt=null;function Vn(e){if(typeof dS=="function"&&mS(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Sa,e)}catch{}}var Ot=Math.clz32?Math.clz32:_S,pS=Math.log,gS=Math.LN2;function _S(e){return e>>>=0,e===0?32:31-(pS(e)/gS|0)|0}var sr=256,ar=262144,lr=4194304;function Ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rr(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~f,r!==0?c=Ii(r):(m&=v,m!==0?c=Ii(m):a||(a=v&~e,a!==0&&(c=Ii(a))))):(v=r&~f,v!==0?c=Ii(v):m!==0?c=Ii(m):a||(a=r&~e,a!==0&&(c=Ii(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function ba(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rd(){var e=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),e}function Tc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ta(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yS(e,n,a,r,c,f){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(a=m&~a;0<a;){var O=31-Ot(a),j=1<<O;v[O]=0,b[O]=-1;var x=A[O];if(x!==null)for(A[O]=null,O=0;O<x.length;O++){var D=x[O];D!==null&&(D.lane&=-536870913)}a&=~j}r!==0&&Dd(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~n))}function Dd(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ot(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Od(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-Ot(a),c=1<<r;c&n|e[r]&n&&(e[r]|=n),a&=~c}}function Id(e,n){var a=n&-n;return a=(a&42)!==0?1:Cc(a),(a&(e.suspendedLanes|n))!==0?0:a}function Cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Md(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function jd(e,n){var a=H.p;try{return H.p=e,n()}finally{H.p=a}}var Fn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Fn,St="__reactProps$"+Fn,us="__reactContainer$"+Fn,wc="__reactEvents$"+Fn,ES="__reactListeners$"+Fn,SS="__reactHandles$"+Fn,kd="__reactResources$"+Fn,Ca="__reactMarker$"+Fn;function Ac(e){delete e[lt],delete e[St],delete e[wc],delete e[ES],delete e[SS]}function fs(e){var n=e[lt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[us]||a[lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=n_(e);e!==null;){if(a=e[lt])return a;e=n_(e)}return n}e=a,a=e.parentNode}return null}function hs(e){if(e=e[lt]||e[us]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Na(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ds(e){var n=e[kd];return n||(n=e[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(e){e[Ca]=!0}var Ld=new Set,Ud={};function Mi(e,n){ms(e,n),ms(e+"Capture",n)}function ms(e,n){for(Ud[e]=n,e=0;e<n.length;e++)Ld.add(n[e])}var bS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zd={},Hd={};function TS(e){return Ec.call(Hd,e)?!0:Ec.call(zd,e)?!1:bS.test(e)?Hd[e]=!0:(zd[e]=!0,!1)}function or(e,n,a){if(TS(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function cr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gn(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function CS(e,n,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function xc(e){if(!e._valueTracker){var n=Pd(e)?"checked":"value";e._valueTracker=CS(e,n,""+e[n])}}function Bd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=Pd(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var NS=/[\n"\\]/g;function Pt(e){return e.replace(NS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Rc(e,n,a,r,c,f,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),n!=null?m==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ht(n)):e.value!==""+Ht(n)&&(e.value=""+Ht(n)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),n!=null?Dc(e,m,Ht(n)):a!=null?Dc(e,m,Ht(a)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ht(v):e.removeAttribute("name")}function Gd(e,n,a,r,c,f,m,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){xc(e);return}a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,v||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),xc(e)}function Dc(e,n,a){n==="number"&&ur(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ps(e,n,a,r){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function qd(e,n,a){if(n!=null&&(n=""+Ht(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ht(a):""}function Vd(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(l(92));if(Jt(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=Ht(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),xc(e)}function gs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var wS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||wS.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Yd(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&a[c]!==r&&Fd(e,c,r)}else for(var f in n)n.hasOwnProperty(f)&&Fd(e,f,n[f])}function Oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return xS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var Ic=null;function Mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,vs=null;function Qd(e){var n=hs(e);if(n&&(e=n.stateNode)){var a=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(Rc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var c=r[St]||null;if(!c)throw Error(l(90));Rc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&Bd(r)}break e;case"textarea":qd(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ps(e,!!a.multiple,n,!1)}}}var jc=!1;function Kd(e,n,a){if(jc)return e(n,a);jc=!0;try{var r=e(n);return r}finally{if(jc=!1,(_s!==null||vs!==null)&&(Jr(),_s&&(n=_s,e=vs,vs=_s=null,Qd(n),e)))for(n=0;n<e.length;n++)Qd(e[n])}}function wa(e,n){var a=e.stateNode;if(a===null)return null;var r=a[St]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(vn)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{kc=!1}var Yn=null,Lc=null,hr=null;function Xd(){if(hr)return hr;var e,n=Lc,a=n.length,r,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var m=a-e;for(r=1;r<=m&&n[a-r]===c[f-r];r++);return hr=c.slice(e,1<r?1-r:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Wd(){return!1}function bt(e){function n(a,r,c,f,m){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mr:Wd,this.isPropagationStopped=Wd,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=bt(ji),xa=S({},ji,{view:0,detail:0}),RS=bt(xa),Uc,zc,Ra,gr=S({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(Uc=e.screenX-Ra.screenX,zc=e.screenY-Ra.screenY):zc=Uc=0,Ra=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),Zd=bt(gr),DS=S({},gr,{dataTransfer:0}),OS=bt(DS),IS=S({},xa,{relatedTarget:0}),Hc=bt(IS),MS=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),jS=bt(MS),kS=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LS=bt(kS),US=S({},ji,{data:0}),Jd=bt(US),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=PS[e])?!!n[e]:!1}function Pc(){return BS}var GS=S({},xa,{key:function(e){if(e.key){var n=zS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qS=bt(GS),VS=S({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=bt(VS),FS=S({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),YS=bt(FS),QS=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=bt(QS),XS=S({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=bt(XS),ZS=S({},ji,{newState:0,oldState:0}),JS=bt(ZS),$S=[9,13,27,32],Bc=vn&&"CompositionEvent"in window,Da=null;vn&&"documentMode"in document&&(Da=document.documentMode);var e0=vn&&"TextEvent"in window&&!Da,em=vn&&(!Bc||Da&&8<Da&&11>=Da),tm=" ",nm=!1;function im(e,n){switch(e){case"keyup":return $S.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function t0(e,n){switch(e){case"compositionend":return sm(n);case"keypress":return n.which!==32?null:(nm=!0,tm);case"textInput":return e=n.data,e===tm&&nm?null:e;default:return null}}function n0(e,n){if(ys)return e==="compositionend"||!Bc&&im(e,n)?(e=Xd(),hr=Lc=Yn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return em&&n.locale!=="ko"?null:n.data;default:return null}}var i0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!i0[e.type]:n==="textarea"}function lm(e,n,a,r){_s?vs?vs.push(r):vs=[r]:_s=r,n=ao(n,"onChange"),0<n.length&&(a=new pr("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var Oa=null,Ia=null;function s0(e){Gg(e,0)}function _r(e){var n=Na(e);if(Bd(n))return e}function rm(e,n){if(e==="change")return n}var om=!1;if(vn){var Gc;if(vn){var qc="oninput"in document;if(!qc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),qc=typeof cm.oninput=="function"}Gc=qc}else Gc=!1;om=Gc&&(!document.documentMode||9<document.documentMode)}function um(){Oa&&(Oa.detachEvent("onpropertychange",fm),Ia=Oa=null)}function fm(e){if(e.propertyName==="value"&&_r(Ia)){var n=[];lm(n,Ia,e,Mc(e)),Kd(s0,n)}}function a0(e,n,a){e==="focusin"?(um(),Oa=n,Ia=a,Oa.attachEvent("onpropertychange",fm)):e==="focusout"&&um()}function l0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _r(Ia)}function r0(e,n){if(e==="click")return _r(n)}function o0(e,n){if(e==="input"||e==="change")return _r(n)}function c0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:c0;function Ma(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!Ec.call(n,c)||!It(e[c],n[c]))return!1}return!0}function hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dm(e,n){var a=hm(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hm(a)}}function mm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ur(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ur(e.document)}return n}function Vc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var u0=vn&&"documentMode"in document&&11>=document.documentMode,Es=null,Fc=null,ja=null,Yc=!1;function gm(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Es==null||Es!==ur(r)||(r=Es,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ja&&Ma(ja,r)||(ja=r,r=ao(Fc,"onSelect"),0<r.length&&(n=new pr("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=Es)))}function ki(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ss={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Qc={},_m={};vn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Li(e){if(Qc[e])return Qc[e];if(!Ss[e])return e;var n=Ss[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in _m)return Qc[e]=n[a];return e}var vm=Li("animationend"),ym=Li("animationiteration"),Em=Li("animationstart"),f0=Li("transitionrun"),h0=Li("transitionstart"),d0=Li("transitioncancel"),Sm=Li("transitionend"),bm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function $t(e,n){bm.set(e,n),Mi(n,[e])}var vr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],bs=0,Xc=0;function yr(){for(var e=bs,n=Xc=bs=0;n<e;){var a=Bt[n];Bt[n++]=null;var r=Bt[n];Bt[n++]=null;var c=Bt[n];Bt[n++]=null;var f=Bt[n];if(Bt[n++]=null,r!==null&&c!==null){var m=r.pending;m===null?c.next=c:(c.next=m.next,m.next=c),r.pending=c}f!==0&&Tm(a,c,f)}}function Er(e,n,a,r){Bt[bs++]=e,Bt[bs++]=n,Bt[bs++]=a,Bt[bs++]=r,Xc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Wc(e,n,a,r){return Er(e,n,a,r),Sr(e)}function Ui(e,n){return Er(e,null,null,n),Sr(e)}function Tm(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,r=f.alternate,r!==null&&(r.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Ot(a),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=a|536870912),f):null}function Sr(e){if(50<nl)throw nl=0,lf=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ts={};function m0(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,n,a,r){return new m0(e,n,a,r)}function Zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,n){var a=e.alternate;return a===null?(a=Mt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function br(e,n,a,r,c,f){var m=0;if(r=e,typeof e=="function")Zc(e)&&(m=1);else if(typeof e=="string")m=yb(e,a,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pt:return e=Mt(31,a,n,c),e.elementType=pt,e.lanes=f,e;case z:return zi(a.children,c,f,n);case B:m=8,c|=24;break;case Z:return e=Mt(12,a,n,c|2),e.elementType=Z,e.lanes=f,e;case $:return e=Mt(13,a,n,c),e.elementType=$,e.lanes=f,e;case Ie:return e=Mt(19,a,n,c),e.elementType=Ie,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:m=10;break e;case ce:m=9;break e;case ue:m=11;break e;case X:m=14;break e;case Te:m=16,r=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Mt(m,a,n,c),n.elementType=e,n.type=r,n.lanes=f,n}function zi(e,n,a,r){return e=Mt(7,e,r,n),e.lanes=a,e}function Jc(e,n,a){return e=Mt(6,e,null,n),e.lanes=a,e}function Nm(e){var n=Mt(18,null,null,0);return n.stateNode=e,n}function $c(e,n,a){return n=Mt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var wm=new WeakMap;function Gt(e,n){if(typeof e=="object"&&e!==null){var a=wm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Nd(n)},wm.set(e,n),n)}return{value:e,source:n,stack:Nd(n)}}var Cs=[],Ns=0,Tr=null,ka=0,qt=[],Vt=0,Qn=null,on=1,cn="";function En(e,n){Cs[Ns++]=ka,Cs[Ns++]=Tr,Tr=e,ka=n}function Am(e,n,a){qt[Vt++]=on,qt[Vt++]=cn,qt[Vt++]=Qn,Qn=e;var r=on;e=cn;var c=32-Ot(r)-1;r&=~(1<<c),a+=1;var f=32-Ot(n)+c;if(30<f){var m=c-c%5;f=(r&(1<<m)-1).toString(32),r>>=m,c-=m,on=1<<32-Ot(n)+c|a<<c|r,cn=f+e}else on=1<<f|a<<c|r,cn=e}function eu(e){e.return!==null&&(En(e,1),Am(e,1,0))}function tu(e){for(;e===Tr;)Tr=Cs[--Ns],Cs[Ns]=null,ka=Cs[--Ns],Cs[Ns]=null;for(;e===Qn;)Qn=qt[--Vt],qt[Vt]=null,cn=qt[--Vt],qt[Vt]=null,on=qt[--Vt],qt[Vt]=null}function xm(e,n){qt[Vt++]=on,qt[Vt++]=cn,qt[Vt++]=Qn,on=n.id,cn=n.overflow,Qn=e}var rt=null,Ue=null,me=!1,Kn=null,Ft=!1,nu=Error(l(519));function Xn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(Gt(n,e)),nu}function Rm(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[lt]=e,n[St]=r,a){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(a=0;a<sl.length;a++)re(sl[a],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),Gd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),Vd(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||Yg(n.textContent,a)?(r.popover!=null&&(re("beforetoggle",n),re("toggle",n)),r.onScroll!=null&&re("scroll",n),r.onScrollEnd!=null&&re("scrollend",n),r.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||Xn(e,!0)}function Dm(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:rt=rt.return}}function ws(e){if(e!==rt)return!1;if(!me)return Dm(e),me=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sf(e.type,e.memoizedProps)),a=!a),a&&Ue&&Xn(e),Dm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ue=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ue=t_(e)}else n===27?(n=Ue,ci(e.type)?(e=wf,wf=null,Ue=e):Ue=n):Ue=rt?Qt(e.stateNode.nextSibling):null;return!0}function Hi(){Ue=rt=null,me=!1}function iu(){var e=Kn;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Kn=null),e}function La(e){Kn===null?Kn=[e]:Kn.push(e)}var su=C(null),Pi=null,Sn=null;function Wn(e,n,a){P(su,n._currentValue),n._currentValue=a}function bn(e){e._currentValue=su.current,k(su)}function au(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function lu(e,n,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var m=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var b=0;b<n.length;b++)if(v.context===n[b]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),au(f.return,a,e),r||(m=null);break e}f=v.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(l(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),au(m,a,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function As(e,n,a,r){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var v=c.type;It(c.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(c===be.current){if(m=c.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}c=c.return}e!==null&&lu(n,e,a,r),n.flags|=262144}function Cr(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Pi=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Om(Pi,e)}function Nr(e,n){return Pi===null&&Bi(e),Om(e,n)}function Om(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Sn===null){if(e===null)throw Error(l(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return a}var p0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},g0=s.unstable_scheduleCallback,_0=s.unstable_NormalPriority,Ke={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new p0,data:new Map,refCount:0}}function Ua(e){e.refCount--,e.refCount===0&&g0(_0,function(){e.controller.abort()})}var za=null,ou=0,xs=0,Rs=null;function v0(e,n){if(za===null){var a=za=[];ou=0,xs=hf(),Rs={status:"pending",value:void 0,then:function(r){a.push(r)}}}return ou++,n.then(Im,Im),n}function Im(){if(--ou===0&&za!==null){Rs!==null&&(Rs.status="fulfilled");var e=za;za=null,xs=0,Rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function y0(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var Mm=I.S;I.S=function(e,n){gg=Rt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&v0(e,n),Mm!==null&&Mm(e,n)};var Gi=C(null);function cu(){var e=Gi.current;return e!==null?e:je.pooledCache}function wr(e,n){n===null?P(Gi,Gi.current):P(Gi,n.pool)}function jm(){var e=cu();return e===null?null:{parent:Ke._currentValue,pool:e}}var Ds=Error(l(460)),uu=Error(l(474)),Ar=Error(l(542)),xr={then:function(){}};function km(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(_n,_n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zm(e),e;default:if(typeof n.status=="string")n.then(_n,_n);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zm(e),e}throw Vi=n,Ds}}function qi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vi=a,Ds):a}}var Vi=null;function Um(){if(Vi===null)throw Error(l(459));var e=Vi;return Vi=null,e}function zm(e){if(e===Ds||e===Ar)throw Error(l(483))}var Os=null,Ha=0;function Rr(e){var n=Ha;return Ha+=1,Os===null&&(Os=[]),Lm(Os,e,n)}function Pa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Dr(e,n){throw n.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hm(e){function n(N,T){if(e){var w=N.deletions;w===null?(N.deletions=[T],N.flags|=16):w.push(T)}}function a(N,T){if(!e)return null;for(;T!==null;)n(N,T),T=T.sibling;return null}function r(N){for(var T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function c(N,T){return N=yn(N,T),N.index=0,N.sibling=null,N}function f(N,T,w){return N.index=w,e?(w=N.alternate,w!==null?(w=w.index,w<T?(N.flags|=67108866,T):w):(N.flags|=67108866,T)):(N.flags|=1048576,T)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,T,w,M){return T===null||T.tag!==6?(T=Jc(w,N.mode,M),T.return=N,T):(T=c(T,w),T.return=N,T)}function b(N,T,w,M){var F=w.type;return F===z?O(N,T,w.props.children,M,w.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Te&&qi(F)===T.type)?(T=c(T,w.props),Pa(T,w),T.return=N,T):(T=br(w.type,w.key,w.props,null,N.mode,M),Pa(T,w),T.return=N,T)}function A(N,T,w,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=$c(w,N.mode,M),T.return=N,T):(T=c(T,w.children||[]),T.return=N,T)}function O(N,T,w,M,F){return T===null||T.tag!==7?(T=zi(w,N.mode,M,F),T.return=N,T):(T=c(T,w),T.return=N,T)}function j(N,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Jc(""+T,N.mode,w),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case R:return w=br(T.type,T.key,T.props,null,N.mode,w),Pa(w,T),w.return=N,w;case L:return T=$c(T,N.mode,w),T.return=N,T;case Te:return T=qi(T),j(N,T,w)}if(Jt(T)||Ee(T))return T=zi(T,N.mode,w,null),T.return=N,T;if(typeof T.then=="function")return j(N,Rr(T),w);if(T.$$typeof===ge)return j(N,Nr(N,T),w);Dr(N,T)}return null}function x(N,T,w,M){var F=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return F!==null?null:v(N,T,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case R:return w.key===F?b(N,T,w,M):null;case L:return w.key===F?A(N,T,w,M):null;case Te:return w=qi(w),x(N,T,w,M)}if(Jt(w)||Ee(w))return F!==null?null:O(N,T,w,M,null);if(typeof w.then=="function")return x(N,T,Rr(w),M);if(w.$$typeof===ge)return x(N,T,Nr(N,w),M);Dr(N,w)}return null}function D(N,T,w,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return N=N.get(w)||null,v(T,N,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return N=N.get(M.key===null?w:M.key)||null,b(T,N,M,F);case L:return N=N.get(M.key===null?w:M.key)||null,A(T,N,M,F);case Te:return M=qi(M),D(N,T,w,M,F)}if(Jt(M)||Ee(M))return N=N.get(w)||null,O(T,N,M,F,null);if(typeof M.then=="function")return D(N,T,w,Rr(M),F);if(M.$$typeof===ge)return D(N,T,w,Nr(T,M),F);Dr(T,M)}return null}function G(N,T,w,M){for(var F=null,_e=null,V=T,ne=T=0,he=null;V!==null&&ne<w.length;ne++){V.index>ne?(he=V,V=null):he=V.sibling;var ve=x(N,V,w[ne],M);if(ve===null){V===null&&(V=he);break}e&&V&&ve.alternate===null&&n(N,V),T=f(ve,T,ne),_e===null?F=ve:_e.sibling=ve,_e=ve,V=he}if(ne===w.length)return a(N,V),me&&En(N,ne),F;if(V===null){for(;ne<w.length;ne++)V=j(N,w[ne],M),V!==null&&(T=f(V,T,ne),_e===null?F=V:_e.sibling=V,_e=V);return me&&En(N,ne),F}for(V=r(V);ne<w.length;ne++)he=D(V,N,ne,w[ne],M),he!==null&&(e&&he.alternate!==null&&V.delete(he.key===null?ne:he.key),T=f(he,T,ne),_e===null?F=he:_e.sibling=he,_e=he);return e&&V.forEach(function(mi){return n(N,mi)}),me&&En(N,ne),F}function Y(N,T,w,M){if(w==null)throw Error(l(151));for(var F=null,_e=null,V=T,ne=T=0,he=null,ve=w.next();V!==null&&!ve.done;ne++,ve=w.next()){V.index>ne?(he=V,V=null):he=V.sibling;var mi=x(N,V,ve.value,M);if(mi===null){V===null&&(V=he);break}e&&V&&mi.alternate===null&&n(N,V),T=f(mi,T,ne),_e===null?F=mi:_e.sibling=mi,_e=mi,V=he}if(ve.done)return a(N,V),me&&En(N,ne),F;if(V===null){for(;!ve.done;ne++,ve=w.next())ve=j(N,ve.value,M),ve!==null&&(T=f(ve,T,ne),_e===null?F=ve:_e.sibling=ve,_e=ve);return me&&En(N,ne),F}for(V=r(V);!ve.done;ne++,ve=w.next())ve=D(V,N,ne,ve.value,M),ve!==null&&(e&&ve.alternate!==null&&V.delete(ve.key===null?ne:ve.key),T=f(ve,T,ne),_e===null?F=ve:_e.sibling=ve,_e=ve);return e&&V.forEach(function(Db){return n(N,Db)}),me&&En(N,ne),F}function Re(N,T,w,M){if(typeof w=="object"&&w!==null&&w.type===z&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case R:e:{for(var F=w.key;T!==null;){if(T.key===F){if(F=w.type,F===z){if(T.tag===7){a(N,T.sibling),M=c(T,w.props.children),M.return=N,N=M;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Te&&qi(F)===T.type){a(N,T.sibling),M=c(T,w.props),Pa(M,w),M.return=N,N=M;break e}a(N,T);break}else n(N,T);T=T.sibling}w.type===z?(M=zi(w.props.children,N.mode,M,w.key),M.return=N,N=M):(M=br(w.type,w.key,w.props,null,N.mode,M),Pa(M,w),M.return=N,N=M)}return m(N);case L:e:{for(F=w.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){a(N,T.sibling),M=c(T,w.children||[]),M.return=N,N=M;break e}else{a(N,T);break}else n(N,T);T=T.sibling}M=$c(w,N.mode,M),M.return=N,N=M}return m(N);case Te:return w=qi(w),Re(N,T,w,M)}if(Jt(w))return G(N,T,w,M);if(Ee(w)){if(F=Ee(w),typeof F!="function")throw Error(l(150));return w=F.call(w),Y(N,T,w,M)}if(typeof w.then=="function")return Re(N,T,Rr(w),M);if(w.$$typeof===ge)return Re(N,T,Nr(N,w),M);Dr(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(a(N,T.sibling),M=c(T,w),M.return=N,N=M):(a(N,T),M=Jc(w,N.mode,M),M.return=N,N=M),m(N)):a(N,T)}return function(N,T,w,M){try{Ha=0;var F=Re(N,T,w,M);return Os=null,F}catch(V){if(V===Ds||V===Ar)throw V;var _e=Mt(29,V,null,N.mode);return _e.lanes=M,_e.return=N,_e}}}var Fi=Hm(!0),Pm=Hm(!1),Zn=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Se&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Sr(e),Tm(e,null,a),n}return Er(e,r,n,a),Sr(e)}function Ba(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,Od(e,a)}}function du(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mu=!1;function Ga(){if(mu){var e=Rs;if(e!==null)throw e}}function qa(e,n,a,r){mu=!1;var c=e.updateQueue;Zn=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var b=v,A=b.next;b.next=null,m===null?f=A:m.next=A,m=b;var O=e.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==m&&(v===null?O.firstBaseUpdate=A:v.next=A,O.lastBaseUpdate=b))}if(f!==null){var j=c.baseState;m=0,O=A=b=null,v=f;do{var x=v.lane&-536870913,D=x!==v.lane;if(D?(fe&x)===x:(r&x)===x){x!==0&&x===xs&&(mu=!0),O!==null&&(O=O.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var G=e,Y=v;x=n;var Re=a;switch(Y.tag){case 1:if(G=Y.payload,typeof G=="function"){j=G.call(Re,j,x);break e}j=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Y.payload,x=typeof G=="function"?G.call(Re,j,x):G,x==null)break e;j=S({},j,x);break e;case 2:Zn=!0}}x=v.callback,x!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[x]:D.push(x))}else D={lane:x,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(A=O=D,b=j):O=O.next=D,m|=x;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;D=v,v=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);O===null&&(b=j),c.baseState=b,c.firstBaseUpdate=A,c.lastBaseUpdate=O,f===null&&(c.shared.lanes=0),si|=m,e.lanes=m,e.memoizedState=j}}function Bm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Gm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bm(a[e],n)}var Is=C(null),Or=C(0);function qm(e,n){e=On,P(Or,e),P(Is,n),On=e|n.baseLanes}function pu(){P(Or,On),P(Is,Is.current)}function gu(){On=Or.current,k(Is),k(Or)}var jt=C(null),Yt=null;function ei(e){var n=e.alternate;P(Fe,Fe.current&1),P(jt,e),Yt===null&&(n===null||Is.current!==null||n.memoizedState!==null)&&(Yt=e)}function _u(e){P(Fe,Fe.current),P(jt,e),Yt===null&&(Yt=e)}function Vm(e){e.tag===22?(P(Fe,Fe.current),P(jt,e),Yt===null&&(Yt=e)):ti()}function ti(){P(Fe,Fe.current),P(jt,jt.current)}function kt(e){k(jt),Yt===e&&(Yt=null),k(Fe)}var Fe=C(0);function Ir(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cf(a)||Nf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,te=null,Ae=null,Xe=null,Mr=!1,Ms=!1,Yi=!1,jr=0,Va=0,js=null,E0=0;function Pe(){throw Error(l(321))}function vu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!It(e[a],n[a]))return!1;return!0}function yu(e,n,a,r,c,f){return Tn=f,te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Ap:ju,Yi=!1,f=a(r,c),Yi=!1,Ms&&(f=Ym(n,a,r,c)),Fm(e),f}function Fm(e){I.H=Qa;var n=Ae!==null&&Ae.next!==null;if(Tn=0,Xe=Ae=te=null,Mr=!1,Va=0,js=null,n)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&Cr(e)&&(We=!0))}function Ym(e,n,a,r){te=e;var c=0;do{if(Ms&&(js=null),Va=0,Ms=!1,25<=c)throw Error(l(301));if(c+=1,Xe=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}I.H=xp,f=n(a,r)}while(Ms);return f}function S0(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?Fa(n):n,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(te.flags|=1024),n}function Eu(){var e=jr!==0;return jr=0,e}function Su(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function bu(e){if(Mr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mr=!1}Tn=0,Xe=Ae=te=null,Ms=!1,Va=jr=0,js=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?te.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Ae===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var n=Xe===null?te.memoizedState:Xe.next;if(n!==null)Xe=n,Ae=e;else{if(e===null)throw te.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Xe===null?te.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function kr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fa(e){var n=Va;return Va+=1,js===null&&(js=[]),e=Lm(js,e,n),n=te,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Ap:ju),e}function Lr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fa(e);if(e.$$typeof===ge)return ot(e)}throw Error(l(438,String(e)))}function Tu(e){var n=null,a=te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=kr(),te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=ie;return n.index++,a}function Cn(e,n){return typeof n=="function"?n(e):n}function Ur(e){var n=Ye();return Cu(n,Ae,e)}function Cu(e,n,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}n.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var v=m=null,b=null,A=n,O=!1;do{var j=A.lane&-536870913;if(j!==A.lane?(fe&j)===j:(Tn&j)===j){var x=A.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),j===xs&&(O=!0);else if((Tn&x)===x){A=A.next,x===xs&&(O=!0);continue}else j={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=j,m=f):b=b.next=j,te.lanes|=x,si|=x;j=A.action,Yi&&a(f,j),f=A.hasEagerState?A.eagerState:a(f,j)}else x={lane:j,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=x,m=f):b=b.next=x,te.lanes|=j,si|=j;A=A.next}while(A!==null&&A!==n);if(b===null?m=f:b.next=v,!It(f,e.memoizedState)&&(We=!0,O&&(a=Rs,a!==null)))throw a;e.memoizedState=f,e.baseState=m,e.baseQueue=b,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Nu(e){var n=Ye(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var m=c=c.next;do f=e(f,m.action),m=m.next;while(m!==c);It(f,n.memoizedState)||(We=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,r]}function Qm(e,n,a){var r=te,c=Ye(),f=me;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=n();var m=!It((Ae||c).memoizedState,a);if(m&&(c.memoizedState=a,We=!0),c=c.queue,xu(Wm.bind(null,r,c,e),[e]),c.getSnapshot!==n||m||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,ks(9,{destroy:void 0},Xm.bind(null,r,c,a,n),null),je===null)throw Error(l(349));f||(Tn&127)!==0||Km(r,n,a)}return a}function Km(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=te.updateQueue,n===null?(n=kr(),te.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Xm(e,n,a,r){n.value=a,n.getSnapshot=r,Zm(n)&&Jm(e)}function Wm(e,n,a){return a(function(){Zm(n)&&Jm(e)})}function Zm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!It(e,a)}catch{return!0}}function Jm(e){var n=Ui(e,2);n!==null&&At(n,e,2)}function wu(e){var n=_t();if(typeof e=="function"){var a=e;if(e=a(),Yi){Vn(!0);try{a()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},n}function $m(e,n,a,r){return e.baseState=a,Cu(e,Ae,typeof r=="function"?r:Cn)}function b0(e,n,a,r,c){if(Pr(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};I.T!==null?a(!0):f.isTransition=!1,r(f),a=n.pending,a===null?(f.next=n.pending=f,ep(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ep(e,n){var a=n.action,r=n.payload,c=e.state;if(n.isTransition){var f=I.T,m={};I.T=m;try{var v=a(c,r),b=I.S;b!==null&&b(m,v),tp(e,n,v)}catch(A){Au(e,n,A)}finally{f!==null&&m.types!==null&&(f.types=m.types),I.T=f}}else try{f=a(c,r),tp(e,n,f)}catch(A){Au(e,n,A)}}function tp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){np(e,n,r)},function(r){return Au(e,n,r)}):np(e,n,a)}function np(e,n,a){n.status="fulfilled",n.value=a,ip(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,ep(e,a)))}function Au(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,ip(n),n=n.next;while(n!==r)}e.action=null}function ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function ap(e,n){if(me){var a=je.formState;if(a!==null){e:{var r=te;if(me){if(Ue){t:{for(var c=Ue,f=Ft;c.nodeType!==8;){if(!f){c=null;break t}if(c=Qt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=Qt(c.nextSibling),r=c.data==="F!";break e}}Xn(r)}r=!1}r&&(n=a[0])}}return a=_t(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},a.queue=r,a=Cp.bind(null,te,r),r.dispatch=a,r=wu(!1),f=Mu.bind(null,te,!1,r.queue),r=_t(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,a=b0.bind(null,te,c,f,a),c.dispatch=a,r.memoizedState=e,[n,a,!1]}function lp(e){var n=Ye();return rp(n,Ae,e)}function rp(e,n,a){if(n=Cu(e,n,sp)[0],e=Ur(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Fa(n)}catch(m){throw m===Ds?Ar:m}else r=n;n=Ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(te.flags|=2048,ks(9,{destroy:void 0},T0.bind(null,c,a),null)),[r,f,e]}function T0(e,n){e.action=n}function op(e){var n=Ye(),a=Ae;if(a!==null)return rp(n,a,e);Ye(),n=n.memoizedState,a=Ye();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function ks(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=te.updateQueue,n===null&&(n=kr(),te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function cp(){return Ye().memoizedState}function zr(e,n,a,r){var c=_t();te.flags|=e,c.memoizedState=ks(1|n,{destroy:void 0},a,r===void 0?null:r)}function Hr(e,n,a,r){var c=Ye();r=r===void 0?null:r;var f=c.memoizedState.inst;Ae!==null&&r!==null&&vu(r,Ae.memoizedState.deps)?c.memoizedState=ks(n,f,a,r):(te.flags|=e,c.memoizedState=ks(1|n,f,a,r))}function up(e,n){zr(8390656,8,e,n)}function xu(e,n){Hr(2048,8,e,n)}function C0(e){te.flags|=4;var n=te.updateQueue;if(n===null)n=kr(),te.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function fp(e){var n=Ye().memoizedState;return C0({ref:n,nextImpl:e}),function(){if((Se&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function hp(e,n){return Hr(4,2,e,n)}function dp(e,n){return Hr(4,4,e,n)}function mp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,a){a=a!=null?a.concat([e]):null,Hr(4,4,mp.bind(null,n,e),a)}function Ru(){}function gp(e,n){var a=Ye();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&vu(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function _p(e,n){var a=Ye();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&vu(n,r[1]))return r[0];if(r=e(),Yi){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[r,n],r}function Du(e,n,a){return a===void 0||(Tn&1073741824)!==0&&(fe&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=vg(),te.lanes|=e,si|=e,a)}function vp(e,n,a,r){return It(a,n)?a:Is.current!==null?(e=Du(e,a,r),It(e,n)||(We=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(fe&261930)===0?(We=!0,e.memoizedState=a):(e=vg(),te.lanes|=e,si|=e,n)}function yp(e,n,a,r,c){var f=H.p;H.p=f!==0&&8>f?f:8;var m=I.T,v={};I.T=v,Mu(e,!1,n,a);try{var b=c(),A=I.S;if(A!==null&&A(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var O=y0(b,r);Ya(e,n,O,zt(e))}else Ya(e,n,r,zt(e))}catch(j){Ya(e,n,{then:function(){},status:"rejected",reason:j},zt())}finally{H.p=f,m!==null&&v.types!==null&&(m.types=v.types),I.T=m}}function N0(){}function Ou(e,n,a,r){if(e.tag!==5)throw Error(l(476));var c=Ep(e).queue;yp(e,c,n,W,a===null?N0:function(){return Sp(e),a(r)})}function Ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:W},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sp(e){var n=Ep(e);n.next===null&&(n=e.alternate.memoizedState),Ya(e,n.next.queue,{},zt())}function Iu(){return ot(cl)}function bp(){return Ye().memoizedState}function Tp(){return Ye().memoizedState}function w0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=zt();e=Jn(a);var r=$n(n,e,a);r!==null&&(At(r,n,a),Ba(r,n,a)),n={cache:ru()},e.payload=n;return}n=n.return}}function A0(e,n,a){var r=zt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pr(e)?Np(n,a):(a=Wc(e,n,a,r),a!==null&&(At(a,e,r),wp(a,n,r)))}function Cp(e,n,a){var r=zt();Ya(e,n,a,r)}function Ya(e,n,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pr(e))Np(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,v=f(m,a);if(c.hasEagerState=!0,c.eagerState=v,It(v,m))return Er(e,n,c,0),je===null&&yr(),!1}catch{}if(a=Wc(e,n,c,r),a!==null)return At(a,e,r),wp(a,n,r),!0}return!1}function Mu(e,n,a,r){if(r={lane:2,revertLane:hf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pr(e)){if(n)throw Error(l(479))}else n=Wc(e,a,r,2),n!==null&&At(n,e,2)}function Pr(e){var n=e.alternate;return e===te||n!==null&&n===te}function Np(e,n){Ms=Mr=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function wp(e,n,a){if((a&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,Od(e,a)}}var Qa={readContext:ot,use:Lr,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Qa.useEffectEvent=Pe;var Ap={readContext:ot,use:Lr,useCallback:function(e,n){return _t().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:up,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,zr(4194308,4,mp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return zr(4194308,4,e,n)},useInsertionEffect:function(e,n){zr(4,2,e,n)},useMemo:function(e,n){var a=_t();n=n===void 0?null:n;var r=e();if(Yi){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=_t();if(a!==void 0){var c=a(n);if(Yi){Vn(!0);try{a(n)}finally{Vn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=A0.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var n=_t();return e={current:e},n.memoizedState=e},useState:function(e){e=wu(e);var n=e.queue,a=Cp.bind(null,te,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ru,useDeferredValue:function(e,n){var a=_t();return Du(a,e,n)},useTransition:function(){var e=wu(!1);return e=yp.bind(null,te,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=te,c=_t();if(me){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),je===null)throw Error(l(349));(fe&127)!==0||Km(r,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,up(Wm.bind(null,r,f,e),[e]),r.flags|=2048,ks(9,{destroy:void 0},Xm.bind(null,r,f,a,n),null),a},useId:function(){var e=_t(),n=je.identifierPrefix;if(me){var a=cn,r=on;a=(r&~(1<<32-Ot(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=jr++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=E0++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Iu,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=_t();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mu.bind(null,te,!0,a),a.dispatch=n,[e,n]},useMemoCache:Tu,useCacheRefresh:function(){return _t().memoizedState=w0.bind(null,te)},useEffectEvent:function(e){var n=_t(),a={impl:e};return n.memoizedState=a,function(){if((Se&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},ju={readContext:ot,use:Lr,useCallback:gp,useContext:ot,useEffect:xu,useImperativeHandle:pp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:_p,useReducer:Ur,useRef:cp,useState:function(){return Ur(Cn)},useDebugValue:Ru,useDeferredValue:function(e,n){var a=Ye();return vp(a,Ae.memoizedState,e,n)},useTransition:function(){var e=Ur(Cn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Fa(e),n]},useSyncExternalStore:Qm,useId:bp,useHostTransitionStatus:Iu,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var a=Ye();return $m(a,Ae,e,n)},useMemoCache:Tu,useCacheRefresh:Tp};ju.useEffectEvent=fp;var xp={readContext:ot,use:Lr,useCallback:gp,useContext:ot,useEffect:xu,useImperativeHandle:pp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:_p,useReducer:Nu,useRef:cp,useState:function(){return Nu(Cn)},useDebugValue:Ru,useDeferredValue:function(e,n){var a=Ye();return Ae===null?Du(a,e,n):vp(a,Ae.memoizedState,e,n)},useTransition:function(){var e=Nu(Cn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Fa(e),n]},useSyncExternalStore:Qm,useId:bp,useHostTransitionStatus:Iu,useFormState:op,useActionState:op,useOptimistic:function(e,n){var a=Ye();return Ae!==null?$m(a,Ae,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Tu,useCacheRefresh:Tp};xp.useEffectEvent=fp;function ku(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lu={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=zt(),c=Jn(r);c.payload=n,a!=null&&(c.callback=a),n=$n(e,c,r),n!==null&&(At(n,e,r),Ba(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=zt(),c=Jn(r);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=$n(e,c,r),n!==null&&(At(n,e,r),Ba(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=zt(),r=Jn(a);r.tag=2,n!=null&&(r.callback=n),n=$n(e,r,a),n!==null&&(At(n,e,a),Ba(n,e,a))}};function Rp(e,n,a,r,c,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,m):n.prototype&&n.prototype.isPureReactComponent?!Ma(a,r)||!Ma(c,f):!0}function Dp(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&Lu.enqueueReplaceState(n,n.state,null)}function Qi(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Op(e){vr(e)}function Ip(e){console.error(e)}function Mp(e){vr(e)}function Br(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function jp(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uu(e,n,a){return a=Jn(a),a.tag=3,a.payload={element:null},a.callback=function(){Br(e,n)},a}function kp(e){return e=Jn(e),e.tag=3,e}function Lp(e,n,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){jp(n,a,r)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){jp(n,a,r),typeof c!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function x0(e,n,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&As(n,a,c,!0),a=jt.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?$r():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===xr?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),cf(e,r,c)),!1;case 22:return a.flags|=65536,r===xr?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),cf(e,r,c)),!1}throw Error(l(435,a.tag))}return cf(e,r,c),$r(),!1}if(me)return n=jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==nu&&(e=Error(l(422),{cause:r}),La(Gt(e,a)))):(r!==nu&&(n=Error(l(423),{cause:r}),La(Gt(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Gt(r,a),c=Uu(e.stateNode,r,c),du(e,c),Be!==4&&(Be=2)),!1;var f=Error(l(520),{cause:r});if(f=Gt(f,a),tl===null?tl=[f]:tl.push(f),Be!==4&&(Be=2),n===null)return!0;r=Gt(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Uu(a.stateNode,r,e),du(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ai===null||!ai.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=kp(c),Lp(c,e,a,r),du(a,c),!1}a=a.return}while(a!==null);return!1}var zu=Error(l(461)),We=!1;function ct(e,n,a,r){n.child=e===null?Pm(n,null,a,r):Fi(n,e.child,a,r)}function Up(e,n,a,r,c){a=a.render;var f=n.ref;if("ref"in r){var m={};for(var v in r)v!=="ref"&&(m[v]=r[v])}else m=r;return Bi(n),r=yu(e,n,a,m,f,c),v=Eu(),e!==null&&!We?(Su(e,n,c),Nn(e,n,c)):(me&&v&&eu(n),n.flags|=1,ct(e,n,r,c),n.child)}function zp(e,n,a,r,c){if(e===null){var f=a.type;return typeof f=="function"&&!Zc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,r,c)):(e=br(a.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yu(e,c)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(m,r)&&e.ref===n.ref)return Nn(e,n,c)}return n.flags|=1,e=yn(f,r),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,a,r,c){if(e!==null){var f=e.memoizedProps;if(Ma(f,r)&&e.ref===n.ref)if(We=!1,n.pendingProps=r=f,Yu(e,c))(e.flags&131072)!==0&&(We=!0);else return n.lanes=e.lanes,Nn(e,n,c)}return Hu(e,n,a,r,c)}function Pp(e,n,a,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,n.child=null;return Bp(e,n,f,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wr(n,f!==null?f.cachePool:null),f!==null?qm(n,f):pu(),Vm(n);else return r=n.lanes=536870912,Bp(e,n,f!==null?f.baseLanes|a:a,a,r)}else f!==null?(wr(n,f.cachePool),qm(n,f),ti(),n.memoizedState=null):(e!==null&&wr(n,null),pu(),ti());return ct(e,n,c,a),n.child}function Ka(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,a,r,c){var f=cu();return f=f===null?null:{parent:Ke._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&wr(n,null),pu(),Vm(n),e!==null&&As(e,n,r,!0),n.childLanes=c,null}function Gr(e,n){return n=Vr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gp(e,n,a){return Fi(n,e.child,null,a),e=Gr(n,n.pendingProps),e.flags|=2,kt(n),n.memoizedState=null,e}function R0(e,n,a){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(me){if(r.mode==="hidden")return e=Gr(n,r),n.lanes=536870912,Ka(null,e);if(_u(n),(e=Ue)?(e=e_(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=Nm(e),a.return=n,n.child=a,rt=n,Ue=null)):e=null,e===null)throw Xn(n);return n.lanes=536870912,null}return Gr(n,r)}var f=e.memoizedState;if(f!==null){var m=f.dehydrated;if(_u(n),c)if(n.flags&256)n.flags&=-257,n=Gp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(We||As(e,n,a,!1),c=(a&e.childLanes)!==0,We||c){if(r=je,r!==null&&(m=Id(r,a),m!==0&&m!==f.retryLane))throw f.retryLane=m,Ui(e,m),At(r,e,m),zu;$r(),n=Gp(e,n,a)}else e=f.treeContext,Ue=Qt(m.nextSibling),rt=n,me=!0,Kn=null,Ft=!1,e!==null&&xm(n,e),n=Gr(n,r),n.flags|=4096;return n}return e=yn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qr(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Hu(e,n,a,r,c){return Bi(n),a=yu(e,n,a,r,void 0,c),r=Eu(),e!==null&&!We?(Su(e,n,c),Nn(e,n,c)):(me&&r&&eu(n),n.flags|=1,ct(e,n,a,c),n.child)}function qp(e,n,a,r,c,f){return Bi(n),n.updateQueue=null,a=Ym(n,r,a,c),Fm(e),r=Eu(),e!==null&&!We?(Su(e,n,f),Nn(e,n,f)):(me&&r&&eu(n),n.flags|=1,ct(e,n,a,f),n.child)}function Vp(e,n,a,r,c){if(Bi(n),n.stateNode===null){var f=Ts,m=a.contextType;typeof m=="object"&&m!==null&&(f=ot(m)),f=new a(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},fu(n),m=a.contextType,f.context=typeof m=="object"&&m!==null?ot(m):Ts,f.state=n.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(ku(n,a,m,r),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Lu.enqueueReplaceState(f,f.state,null),qa(n,r,f,c),Ga(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,b=Qi(a,v);f.props=b;var A=f.context,O=a.contextType;m=Ts,typeof O=="object"&&O!==null&&(m=ot(O));var j=a.getDerivedStateFromProps;O=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,O||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||A!==m)&&Dp(n,f,r,m),Zn=!1;var x=n.memoizedState;f.state=x,qa(n,r,f,c),Ga(),A=n.memoizedState,v||x!==A||Zn?(typeof j=="function"&&(ku(n,a,j,r),A=n.memoizedState),(b=Zn||Rp(n,a,b,r,x,A,m))?(O||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=A),f.props=r,f.state=A,f.context=m,r=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,hu(e,n),m=n.memoizedProps,O=Qi(a,m),f.props=O,j=n.pendingProps,x=f.context,A=a.contextType,b=Ts,typeof A=="object"&&A!==null&&(b=ot(A)),v=a.getDerivedStateFromProps,(A=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==j||x!==b)&&Dp(n,f,r,b),Zn=!1,x=n.memoizedState,f.state=x,qa(n,r,f,c),Ga();var D=n.memoizedState;m!==j||x!==D||Zn||e!==null&&e.dependencies!==null&&Cr(e.dependencies)?(typeof v=="function"&&(ku(n,a,v,r),D=n.memoizedState),(O=Zn||Rp(n,a,O,r,x,D,b)||e!==null&&e.dependencies!==null&&Cr(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,D,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,D,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=D),f.props=r,f.state=D,f.context=b,r=O):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),r=!1)}return f=r,qr(e,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&r?(n.child=Fi(n,e.child,null,c),n.child=Fi(n,null,a,c)):ct(e,n,a,c),n.memoizedState=f.state,e=n.child):e=Nn(e,n,c),e}function Fp(e,n,a,r){return Hi(),n.flags|=256,ct(e,n,a,r),n.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bu(e){return{baseLanes:e,cachePool:jm()}}function Gu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Ut),e}function Yp(e,n,a){var r=n.pendingProps,c=!1,f=(n.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),m&&(c=!0,n.flags&=-129),m=(n.flags&32)!==0,n.flags&=-33,e===null){if(me){if(c?ei(n):ti(),(e=Ue)?(e=e_(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=Nm(e),a.return=n,n.child=a,rt=n,Ue=null)):e=null,e===null)throw Xn(n);return Nf(e)?n.lanes=32:n.lanes=536870912,null}var v=r.children;return r=r.fallback,c?(ti(),c=n.mode,v=Vr({mode:"hidden",children:v},c),r=zi(r,c,a,null),v.return=n,r.return=n,v.sibling=r,n.child=v,r=n.child,r.memoizedState=Bu(a),r.childLanes=Gu(e,m,a),n.memoizedState=Pu,Ka(null,r)):(ei(n),qu(n,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(f)n.flags&256?(ei(n),n.flags&=-257,n=Vu(e,n,a)):n.memoizedState!==null?(ti(),n.child=e.child,n.flags|=128,n=null):(ti(),v=r.fallback,c=n.mode,r=Vr({mode:"visible",children:r.children},c),v=zi(v,c,a,null),v.flags|=2,r.return=n,v.return=n,r.sibling=v,n.child=r,Fi(n,e.child,null,a),r=n.child,r.memoizedState=Bu(a),r.childLanes=Gu(e,m,a),n.memoizedState=Pu,n=Ka(null,r));else if(ei(n),Nf(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var A=m.dgst;m=A,r=Error(l(419)),r.stack="",r.digest=m,La({value:r,source:null,stack:null}),n=Vu(e,n,a)}else if(We||As(e,n,a,!1),m=(a&e.childLanes)!==0,We||m){if(m=je,m!==null&&(r=Id(m,a),r!==0&&r!==b.retryLane))throw b.retryLane=r,Ui(e,r),At(m,e,r),zu;Cf(v)||$r(),n=Vu(e,n,a)}else Cf(v)?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,Ue=Qt(v.nextSibling),rt=n,me=!0,Kn=null,Ft=!1,e!==null&&xm(n,e),n=qu(n,r.children),n.flags|=4096);return n}return c?(ti(),v=r.fallback,c=n.mode,b=e.child,A=b.sibling,r=yn(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,A!==null?v=yn(A,v):(v=zi(v,c,a,null),v.flags|=2),v.return=n,r.return=n,r.sibling=v,n.child=r,Ka(null,r),r=n.child,v=e.child.memoizedState,v===null?v=Bu(a):(c=v.cachePool,c!==null?(b=Ke._currentValue,c=c.parent!==b?{parent:b,pool:b}:c):c=jm(),v={baseLanes:v.baseLanes|a,cachePool:c}),r.memoizedState=v,r.childLanes=Gu(e,m,a),n.memoizedState=Pu,Ka(e.child,r)):(ei(n),a=e.child,e=a.sibling,a=yn(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(m=n.deletions,m===null?(n.deletions=[e],n.flags|=16):m.push(e)),n.child=a,n.memoizedState=null,a)}function qu(e,n){return n=Vr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vr(e,n){return e=Mt(22,e,null,n),e.lanes=0,e}function Vu(e,n,a){return Fi(n,e.child,null,a),e=qu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),au(e.return,n,a)}function Fu(e,n,a,r,c,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=a,m.tailMode=c,m.treeForkCount=f)}function Kp(e,n,a){var r=n.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var m=Fe.current,v=(m&2)!==0;if(v?(m=m&1|2,n.flags|=128):m&=1,P(Fe,m),ct(e,n,r,a),r=me?ka:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,a,n);else if(e.tag===19)Qp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Ir(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Fu(n,!1,c,a,f,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ir(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Fu(n,!0,a,null,f,r);break;case"together":Fu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Nn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),si|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(As(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=yn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=yn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Yu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cr(e)))}function D0(e,n,a){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Wn(n,Ke,e.memoizedState.cache),Hi();break;case 27:case 5:Ea(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_u(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Yp(e,n,a):(ei(n),e=Nn(e,n,a),e!==null?e.sibling:null);ei(n);break;case 19:var c=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(As(e,n,a,!1),r=(a&n.childLanes)!==0),c){if(r)return Kp(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(Fe,Fe.current),r)break;return null;case 22:return n.lanes=0,Pp(e,n,a,n.pendingProps);case 24:Wn(n,Ke,e.memoizedState.cache)}return Nn(e,n,a)}function Xp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)We=!0;else{if(!Yu(e,a)&&(n.flags&128)===0)return We=!1,D0(e,n,a);We=(e.flags&131072)!==0}else We=!1,me&&(n.flags&1048576)!==0&&Am(n,ka,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=qi(n.elementType),n.type=e,typeof e=="function")Zc(e)?(r=Qi(e,r),n.tag=1,n=Vp(null,n,e,r,a)):(n.tag=0,n=Hu(null,n,e,r,a));else{if(e!=null){var c=e.$$typeof;if(c===ue){n.tag=11,n=Up(null,n,e,r,a);break e}else if(c===X){n.tag=14,n=zp(null,n,e,r,a);break e}}throw n=pn(e)||e,Error(l(306,n,""))}}return n;case 0:return Hu(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,c=Qi(r,n.pendingProps),Vp(e,n,r,c,a);case 3:e:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;c=f.element,hu(e,n),qa(n,r,null,a);var m=n.memoizedState;if(r=m.cache,Wn(n,Ke,r),r!==f.cache&&lu(n,[Ke],a,!0),Ga(),r=m.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:m.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,r,a);break e}else if(r!==c){c=Gt(Error(l(424)),n),La(c),n=Fp(e,n,r,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=Qt(e.firstChild),rt=n,me=!0,Kn=null,Ft=!0,a=Pm(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hi(),r===c){n=Nn(e,n,a);break e}ct(e,n,r,a)}n=n.child}return n;case 26:return qr(e,n),e===null?(a=l_(n.type,null,n.pendingProps,null))?n.memoizedState=a:me||(a=n.type,e=n.pendingProps,r=lo(ae.current).createElement(a),r[lt]=n,r[St]=e,ut(r,a,e),nt(r),n.stateNode=r):n.memoizedState=l_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ea(n),e===null&&me&&(r=n.stateNode=i_(n.type,n.pendingProps,ae.current),rt=n,Ft=!0,c=Ue,ci(n.type)?(wf=c,Ue=Qt(r.firstChild)):Ue=c),ct(e,n,n.pendingProps.children,a),qr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&me&&((c=r=Ue)&&(r=lb(r,n.type,n.pendingProps,Ft),r!==null?(n.stateNode=r,rt=n,Ue=Qt(r.firstChild),Ft=!1,c=!0):c=!1),c||Xn(n)),Ea(n),c=n.type,f=n.pendingProps,m=e!==null?e.memoizedProps:null,r=f.children,Sf(c,f)?r=null:m!==null&&Sf(c,m)&&(n.flags|=32),n.memoizedState!==null&&(c=yu(e,n,S0,null,null,a),cl._currentValue=c),qr(e,n),ct(e,n,r,a),n.child;case 6:return e===null&&me&&((e=a=Ue)&&(a=rb(a,n.pendingProps,Ft),a!==null?(n.stateNode=a,rt=n,Ue=null,e=!0):e=!1),e||Xn(n)),null;case 13:return Yp(e,n,a);case 4:return gt(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Fi(n,null,r,a):ct(e,n,r,a),n.child;case 11:return Up(e,n,n.type,n.pendingProps,a);case 7:return ct(e,n,n.pendingProps,a),n.child;case 8:return ct(e,n,n.pendingProps.children,a),n.child;case 12:return ct(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,Wn(n,n.type,r.value),ct(e,n,r.children,a),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Bi(n),c=ot(c),r=r(c),n.flags|=1,ct(e,n,r,a),n.child;case 14:return zp(e,n,n.type,n.pendingProps,a);case 15:return Hp(e,n,n.type,n.pendingProps,a);case 19:return Kp(e,n,a);case 31:return R0(e,n,a);case 22:return Pp(e,n,a,n.pendingProps);case 24:return Bi(n),r=ot(Ke),e===null?(c=cu(),c===null&&(c=je,f=ru(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:r,cache:c},fu(n),Wn(n,Ke,c)):((e.lanes&a)!==0&&(hu(e,n),qa(n,null,null,a),Ga()),c=e.memoizedState,f=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wn(n,Ke,r)):(r=f.cache,Wn(n,Ke,r),r!==c.cache&&lu(n,[Ke],a,!0))),ct(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function wn(e){e.flags|=4}function Qu(e,n,a,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(bg())e.flags|=8192;else throw Vi=xr,uu}else e.flags&=-16777217}function Wp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n))if(bg())e.flags|=8192;else throw Vi=xr,uu}function Fr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Rd():536870912,e.lanes|=n,Hs|=n)}function Xa(e,n){if(!me)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function O0(e,n,a){var r=n.pendingProps;switch(tu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bn(Ke),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ws(n)?wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,iu())),ze(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(wn(n),f!==null?(ze(n),Wp(n,f)):(ze(n),Qu(n,c,null,r,a))):f?f!==e.memoizedState?(wn(n),ze(n),Wp(n,f)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&wn(n),ze(n),Qu(n,c,e,r,a)),null;case 27:if(nr(n),a=ae.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&wn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return ze(n),null}e=q.current,ws(n)?Rm(n):(e=i_(c,r,a),n.stateNode=e,wn(n))}return ze(n),null;case 5:if(nr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&wn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return ze(n),null}if(f=q.current,ws(n))Rm(n);else{var m=lo(ae.current);switch(f){case 1:f=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=m.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?m.createElement(c,{is:r.is}):m.createElement(c)}}f[lt]=n,f[St]=r;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)f.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=f;e:switch(ut(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wn(n)}}return ze(n),Qu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&wn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ae.current,ws(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,c=rt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[lt]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Yg(e.nodeValue,a)),e||Xn(n,!0)}else e=lo(e).createTextNode(r),e[lt]=n,n.stateNode=e}return ze(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(r=ws(n),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=n}else Hi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else a=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return ze(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ws(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[lt]=n}else Hi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),c=!1}else c=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Fr(n,n.updateQueue),ze(n),null);case 4:return Ve(),e===null&&gf(n.stateNode.containerInfo),ze(n),null;case 10:return bn(n.type),ze(n),null;case 19:if(k(Fe),r=n.memoizedState,r===null)return ze(n),null;if(c=(n.flags&128)!==0,f=r.rendering,f===null)if(c)Xa(r,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ir(e),f!==null){for(n.flags|=128,Xa(r,!1),e=f.updateQueue,n.updateQueue=e,Fr(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Cm(a,e),a=a.sibling;return P(Fe,Fe.current&1|2),me&&En(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Rt()>Wr&&(n.flags|=128,c=!0,Xa(r,!1),n.lanes=4194304)}else{if(!c)if(e=Ir(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Fr(n,e),Xa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!me)return ze(n),null}else 2*Rt()-r.renderingStartTime>Wr&&a!==536870912&&(n.flags|=128,c=!0,Xa(r,!1),n.lanes=4194304);r.isBackwards?(f.sibling=n.child,n.child=f):(e=r.last,e!==null?e.sibling=f:n.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Rt(),e.sibling=null,a=Fe.current,P(Fe,c?a&1|2:a&1),me&&En(n,r.treeForkCount),e):(ze(n),null);case 22:case 23:return kt(n),gu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),a=n.updateQueue,a!==null&&Fr(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&k(Gi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bn(Ke),ze(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function I0(e,n){switch(tu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return bn(Ke),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nr(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(l(340));Hi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Hi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Fe),null;case 4:return Ve(),null;case 10:return bn(n.type),null;case 22:case 23:return kt(n),gu(),e!==null&&k(Gi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return bn(Ke),null;case 25:return null;default:return null}}function Zp(e,n){switch(tu(n),n.tag){case 3:bn(Ke),Ve();break;case 26:case 27:case 5:nr(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:k(Fe);break;case 10:bn(n.type);break;case 22:case 23:kt(n),gu(),e!==null&&k(Gi);break;case 24:bn(Ke)}}function Wa(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var f=a.create,m=a.inst;r=f(),m.destroy=r}a=a.next}while(a!==c)}}catch(v){Ne(n,n.return,v)}}function ni(e,n,a){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var m=r.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,c=n;var b=a,A=v;try{A()}catch(O){Ne(c,b,O)}}}r=r.next}while(r!==f)}}catch(O){Ne(n,n.return,O)}}function Jp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Gm(n,a)}catch(r){Ne(e,e.return,r)}}}function $p(e,n,a){a.props=Qi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Ne(e,n,r)}}function Za(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){Ne(e,n,c)}}function un(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Ne(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ne(e,n,c)}else a.current=null}function eg(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Ne(e,e.return,c)}}function Ku(e,n,a){try{var r=e.stateNode;eb(r,e.type,a,n),r[St]=n}catch(c){Ne(e,e.return,c)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ci(e.type)||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_n));else if(r!==4&&(r===27&&ci(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function Yr(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&ci(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yr(e,n,a),e=e.sibling;e!==null;)Yr(e,n,a),e=e.sibling}function ng(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ut(n,r,a),n[lt]=e,n[St]=a}catch(f){Ne(e,e.return,f)}}var An=!1,Ze=!1,Zu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,it=null;function M0(e,n){if(e=e.containerInfo,yf=mo,e=pm(e),Vc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,v=-1,b=-1,A=0,O=0,j=e,x=null;t:for(;;){for(var D;j!==a||c!==0&&j.nodeType!==3||(v=m+c),j!==f||r!==0&&j.nodeType!==3||(b=m+r),j.nodeType===3&&(m+=j.nodeValue.length),(D=j.firstChild)!==null;)x=j,j=D;for(;;){if(j===e)break t;if(x===a&&++A===c&&(v=m),x===f&&++O===r&&(b=m),(D=j.nextSibling)!==null)break;j=x,x=j.parentNode}j=D}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ef={focusedElem:e,selectionRange:a},mo=!1,it=n;it!==null;)if(n=it,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,it=e;else for(;it!==null;){switch(n=it,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,r=a.stateNode;try{var G=Qi(a.type,c);e=r.getSnapshotBeforeUpdate(G,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(Y){Ne(a,a.return,Y)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Tf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,it=e;break}it=n.return}}function sg(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Rn(e,a),r&4&&Wa(5,a);break;case 1:if(Rn(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(m){Ne(a,a.return,m)}else{var c=Qi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ne(a,a.return,m)}}r&64&&Jp(a),r&512&&Za(a,a.return);break;case 3:if(Rn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Gm(e,n)}catch(m){Ne(a,a.return,m)}}break;case 27:n===null&&r&4&&ng(a);case 26:case 5:Rn(e,a),n===null&&r&4&&eg(a),r&512&&Za(a,a.return);break;case 12:Rn(e,a);break;case 31:Rn(e,a),r&4&&rg(e,a);break;case 13:Rn(e,a),r&4&&og(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=G0.bind(null,a),ob(e,a))));break;case 22:if(r=a.memoizedState!==null||An,!r){n=n!==null&&n.memoizedState!==null||Ze,c=An;var f=Ze;An=r,(Ze=n)&&!f?Dn(e,a,(a.subtreeFlags&8772)!==0):Rn(e,a),An=c,Ze=f}break;case 30:break;default:Rn(e,a)}}function ag(e){var n=e.alternate;n!==null&&(e.alternate=null,ag(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ac(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Tt=!1;function xn(e,n,a){for(a=a.child;a!==null;)lg(e,n,a),a=a.sibling}function lg(e,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Sa,a)}catch{}switch(a.tag){case 26:Ze||un(a,n),xn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||un(a,n);var r=He,c=Tt;ci(a.type)&&(He=a.stateNode,Tt=!1),xn(e,n,a),ll(a.stateNode),He=r,Tt=c;break;case 5:Ze||un(a,n);case 6:if(r=He,c=Tt,He=null,xn(e,n,a),He=r,Tt=c,He!==null)if(Tt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(f){Ne(a,n,f)}else try{He.removeChild(a.stateNode)}catch(f){Ne(a,n,f)}break;case 18:He!==null&&(Tt?(e=He,Jg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Qs(e)):Jg(He,a.stateNode));break;case 4:r=He,c=Tt,He=a.stateNode.containerInfo,Tt=!0,xn(e,n,a),He=r,Tt=c;break;case 0:case 11:case 14:case 15:ni(2,a,n),Ze||ni(4,a,n),xn(e,n,a);break;case 1:Ze||(un(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&$p(a,n,r)),xn(e,n,a);break;case 21:xn(e,n,a);break;case 22:Ze=(r=Ze)||a.memoizedState!==null,xn(e,n,a),Ze=r;break;default:xn(e,n,a)}}function rg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qs(e)}catch(a){Ne(n,n.return,a)}}}function og(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qs(e)}catch(a){Ne(n,n.return,a)}}function j0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ig),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ig),n;default:throw Error(l(435,e.tag))}}function Qr(e,n){var a=j0(e);n.forEach(function(r){if(!a.has(r)){a.add(r);var c=q0.bind(null,e,r);r.then(c,c)}})}function Ct(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],f=e,m=n,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(ci(v.type)){He=v.stateNode,Tt=!1;break e}break;case 5:He=v.stateNode,Tt=!1;break e;case 3:case 4:He=v.stateNode.containerInfo,Tt=!0;break e}v=v.return}if(He===null)throw Error(l(160));lg(f,m,c),He=null,Tt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cg(n,e),n=n.sibling}var en=null;function cg(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),Nt(e),r&4&&(ni(3,e,e.return),Wa(3,e),ni(5,e,e.return));break;case 1:Ct(n,e),Nt(e),r&512&&(Ze||a===null||un(a,a.return)),r&64&&An&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=en;if(Ct(n,e),Nt(e),r&512&&(Ze||a===null||un(a,a.return)),r&4){var f=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ca]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),ut(f,r,a),f[lt]=e,nt(f),r=f;break e;case"link":var m=c_("link","href",c).get(r+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(f=m[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}f=c.createElement(r),ut(f,r,a),c.head.appendChild(f);break;case"meta":if(m=c_("meta","content",c).get(r+(a.content||""))){for(v=0;v<m.length;v++)if(f=m[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}f=c.createElement(r),ut(f,r,a),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[lt]=e,nt(f),r=f}e.stateNode=r}else u_(c,e.type,e.stateNode);else e.stateNode=o_(c,r,e.memoizedProps);else f!==r?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,r===null?u_(c,e.type,e.stateNode):o_(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ku(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ct(n,e),Nt(e),r&512&&(Ze||a===null||un(a,a.return)),a!==null&&r&4&&Ku(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ct(n,e),Nt(e),r&512&&(Ze||a===null||un(a,a.return)),e.flags&32){c=e.stateNode;try{gs(c,"")}catch(G){Ne(e,e.return,G)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Ku(e,c,a!==null?a.memoizedProps:c)),r&1024&&(Zu=!0);break;case 6:if(Ct(n,e),Nt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(G){Ne(e,e.return,G)}}break;case 3:if(co=null,c=en,en=ro(n.containerInfo),Ct(n,e),en=c,Nt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(G){Ne(e,e.return,G)}Zu&&(Zu=!1,ug(e));break;case 4:r=en,en=ro(e.stateNode.containerInfo),Ct(n,e),Nt(e),en=r;break;case 12:Ct(n,e),Nt(e);break;case 31:Ct(n,e),Nt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qr(e,r)));break;case 13:Ct(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xr=Rt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qr(e,r)));break;case 22:c=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,A=An,O=Ze;if(An=A||c,Ze=O||b,Ct(n,e),Ze=O,An=A,Nt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||An||Ze||Ki(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=b.stateNode;var j=b.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null;v.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(G){Ne(b,b.return,G)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(G){Ne(b,b.return,G)}}}else if(n.tag===18){if(a===null){b=n;try{var D=b.stateNode;c?$g(D,!0):$g(b.stateNode,!1)}catch(G){Ne(b,b.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Qr(e,a))));break;case 19:Ct(n,e),Nt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qr(e,r)));break;case 30:break;case 21:break;default:Ct(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(tg(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var c=a.stateNode,f=Xu(e);Yr(e,f,c);break;case 5:var m=a.stateNode;a.flags&32&&(gs(m,""),a.flags&=-33);var v=Xu(e);Yr(e,v,m);break;case 3:case 4:var b=a.stateNode.containerInfo,A=Xu(e);Wu(e,A,b);break;default:throw Error(l(161))}}catch(O){Ne(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Rn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sg(e,n.alternate,n),n=n.sibling}function Ki(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ni(4,n,n.return),Ki(n);break;case 1:un(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&$p(n,n.return,a),Ki(n);break;case 27:ll(n.stateNode);case 26:case 5:un(n,n.return),Ki(n);break;case 22:n.memoizedState===null&&Ki(n);break;case 30:Ki(n);break;default:Ki(n)}e=e.sibling}}function Dn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,f=n,m=f.flags;switch(f.tag){case 0:case 11:case 15:Dn(c,f,a),Wa(4,f);break;case 1:if(Dn(c,f,a),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Ne(r,r.return,A)}if(r=f,c=r.updateQueue,c!==null){var v=r.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Bm(b[c],v)}catch(A){Ne(r,r.return,A)}}a&&m&64&&Jp(f),Za(f,f.return);break;case 27:ng(f);case 26:case 5:Dn(c,f,a),a&&r===null&&m&4&&eg(f),Za(f,f.return);break;case 12:Dn(c,f,a);break;case 31:Dn(c,f,a),a&&m&4&&rg(c,f);break;case 13:Dn(c,f,a),a&&m&4&&og(c,f);break;case 22:f.memoizedState===null&&Dn(c,f,a),Za(f,f.return);break;case 30:break;default:Dn(c,f,a)}n=n.sibling}}function Ju(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ua(a))}function $u(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ua(e))}function tn(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fg(e,n,a,r),n=n.sibling}function fg(e,n,a,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,a,r),c&2048&&Wa(9,n);break;case 1:tn(e,n,a,r);break;case 3:tn(e,n,a,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ua(e)));break;case 12:if(c&2048){tn(e,n,a,r),e=n.stateNode;try{var f=n.memoizedProps,m=f.id,v=f.onPostCommit;typeof v=="function"&&v(m,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ne(n,n.return,b)}}else tn(e,n,a,r);break;case 31:tn(e,n,a,r);break;case 13:tn(e,n,a,r);break;case 23:break;case 22:f=n.stateNode,m=n.alternate,n.memoizedState!==null?f._visibility&2?tn(e,n,a,r):Ja(e,n):f._visibility&2?tn(e,n,a,r):(f._visibility|=2,Ls(e,n,a,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ju(m,n);break;case 24:tn(e,n,a,r),c&2048&&$u(n.alternate,n);break;default:tn(e,n,a,r)}}function Ls(e,n,a,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,m=n,v=a,b=r,A=m.flags;switch(m.tag){case 0:case 11:case 15:Ls(f,m,v,b,c),Wa(8,m);break;case 23:break;case 22:var O=m.stateNode;m.memoizedState!==null?O._visibility&2?Ls(f,m,v,b,c):Ja(f,m):(O._visibility|=2,Ls(f,m,v,b,c)),c&&A&2048&&Ju(m.alternate,m);break;case 24:Ls(f,m,v,b,c),c&&A&2048&&$u(m.alternate,m);break;default:Ls(f,m,v,b,c)}n=n.sibling}}function Ja(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,c=r.flags;switch(r.tag){case 22:Ja(a,r),c&2048&&Ju(r.alternate,r);break;case 24:Ja(a,r),c&2048&&$u(r.alternate,r);break;default:Ja(a,r)}n=n.sibling}}var $a=8192;function Us(e,n,a){if(e.subtreeFlags&$a)for(e=e.child;e!==null;)hg(e,n,a),e=e.sibling}function hg(e,n,a){switch(e.tag){case 26:Us(e,n,a),e.flags&$a&&e.memoizedState!==null&&Eb(a,en,e.memoizedState,e.memoizedProps);break;case 5:Us(e,n,a);break;case 3:case 4:var r=en;en=ro(e.stateNode.containerInfo),Us(e,n,a),en=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=$a,$a=16777216,Us(e,n,a),$a=r):Us(e,n,a));break;default:Us(e,n,a)}}function dg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];it=r,pg(r,e)}dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mg(e),e=e.sibling}function mg(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&ni(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Kr(e)):el(e);break;default:el(e)}}function Kr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];it=r,pg(r,e)}dg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ni(8,n,n.return),Kr(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Kr(n));break;default:Kr(n)}e=e.sibling}}function pg(e,n){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:ni(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ua(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,it=r;else e:for(a=e;it!==null;){r=it;var c=r.sibling,f=r.return;if(ag(r),r===a){it=null;break e}if(c!==null){c.return=f,it=c;break e}it=f}}}var k0={getCacheForType:function(e){var n=ot(Ke),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ot(Ke).controller.signal}},L0=typeof WeakMap=="function"?WeakMap:Map,Se=0,je=null,le=null,fe=0,Ce=0,Lt=null,ii=!1,zs=!1,ef=!1,On=0,Be=0,si=0,Xi=0,tf=0,Ut=0,Hs=0,tl=null,wt=null,nf=!1,Xr=0,gg=0,Wr=1/0,Zr=null,ai=null,$e=0,li=null,Ps=null,In=0,sf=0,af=null,_g=null,nl=0,lf=null;function zt(){return(Se&2)!==0&&fe!==0?fe&-fe:I.T!==null?hf():Md()}function vg(){if(Ut===0)if((fe&536870912)===0||me){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Ut=e}else Ut=536870912;return e=jt.current,e!==null&&(e.flags|=32),Ut}function At(e,n,a){(e===je&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Bs(e,0),ri(e,fe,Ut,!1)),Ta(e,a),((Se&2)===0||e!==je)&&(e===je&&((Se&2)===0&&(Xi|=a),Be===4&&ri(e,fe,Ut,!1)),fn(e))}function yg(e,n,a){if((Se&6)!==0)throw Error(l(327));var r=!a&&(n&127)===0&&(n&e.expiredLanes)===0||ba(e,n),c=r?H0(e,n):of(e,n,!0),f=r;do{if(c===0){zs&&!r&&ri(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!U0(a)){c=of(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){n=m;e:{var v=e;c=tl;var b=v.current.memoizedState.isDehydrated;if(b&&(Bs(v,m).flags|=256),m=of(v,m,!1),m!==2){if(ef&&!b){v.errorRecoveryDisabledLanes|=f,Xi|=f,c=4;break e}f=wt,wt=c,f!==null&&(wt===null?wt=f:wt.push.apply(wt,f))}c=m}if(f=!1,c!==2)continue}}if(c===1){Bs(e,0),ri(e,n,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ri(r,n,Ut,!ii);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Xr+300-Rt(),10<c)){if(ri(r,n,Ut,!ii),rr(r,0,!0)!==0)break e;In=n,r.timeoutHandle=Wg(Eg.bind(null,r,a,wt,Zr,nf,n,Ut,Xi,Hs,ii,f,"Throttled",-0,0),c);break e}Eg(r,a,wt,Zr,nf,n,Ut,Xi,Hs,ii,f,null,-0,0)}}break}while(!0);fn(e)}function Eg(e,n,a,r,c,f,m,v,b,A,O,j,x,D){if(e.timeoutHandle=-1,j=n.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},hg(n,f,j);var G=(f&62914560)===f?Xr-Rt():(f&4194048)===f?gg-Rt():0;if(G=Sb(j,G),G!==null){In=f,e.cancelPendingCommit=G(xg.bind(null,e,n,f,a,r,c,m,v,b,O,j,null,x,D)),ri(e,f,m,!A);return}}xg(e,n,f,a,r,c,m,v,b)}function U0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],f=c.getSnapshot;c=c.value;try{if(!It(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ri(e,n,a,r){n&=~tf,n&=~Xi,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var f=31-Ot(c),m=1<<f;r[f]=-1,c&=~m}a!==0&&Dd(e,a,n)}function Jr(){return(Se&6)===0?(il(0),!1):!0}function rf(){if(le!==null){if(Ce===0)var e=le.return;else e=le,Sn=Pi=null,bu(e),Os=null,Ha=0,e=le;for(;e!==null;)Zp(e.alternate,e),e=e.return;le=null}}function Bs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ib(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),In=0,rf(),je=e,le=a=yn(e.current,null),fe=n,Ce=0,Lt=null,ii=!1,zs=ba(e,n),ef=!1,Hs=Ut=tf=Xi=si=Be=0,wt=tl=null,nf=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Ot(r),f=1<<c;n|=e[c],r&=~f}return On=n,yr(),a}function Sg(e,n){te=null,I.H=Qa,n===Ds||n===Ar?(n=Um(),Ce=3):n===uu?(n=Um(),Ce=4):Ce=n===zu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,le===null&&(Be=1,Br(e,Gt(n,e.current)))}function bg(){var e=jt.current;return e===null?!0:(fe&4194048)===fe?Yt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Yt:!1}function Tg(){var e=I.H;return I.H=Qa,e===null?Qa:e}function Cg(){var e=I.A;return I.A=k0,e}function $r(){Be=4,ii||(fe&4194048)!==fe&&jt.current!==null||(zs=!0),(si&134217727)===0&&(Xi&134217727)===0||je===null||ri(je,fe,Ut,!1)}function of(e,n,a){var r=Se;Se|=2;var c=Tg(),f=Cg();(je!==e||fe!==n)&&(Zr=null,Bs(e,n)),n=!1;var m=Be;e:do try{if(Ce!==0&&le!==null){var v=le,b=Lt;switch(Ce){case 8:rf(),m=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(n=!0);var A=Ce;if(Ce=0,Lt=null,Gs(e,v,b,A),a&&zs){m=0;break e}break;default:A=Ce,Ce=0,Lt=null,Gs(e,v,b,A)}}z0(),m=Be;break}catch(O){Sg(e,O)}while(!0);return n&&e.shellSuspendCounter++,Sn=Pi=null,Se=r,I.H=c,I.A=f,le===null&&(je=null,fe=0,yr()),m}function z0(){for(;le!==null;)Ng(le)}function H0(e,n){var a=Se;Se|=2;var r=Tg(),c=Cg();je!==e||fe!==n?(Zr=null,Wr=Rt()+500,Bs(e,n)):zs=ba(e,n);e:do try{if(Ce!==0&&le!==null){n=le;var f=Lt;t:switch(Ce){case 1:Ce=0,Lt=null,Gs(e,n,f,1);break;case 2:case 9:if(km(f)){Ce=0,Lt=null,wg(n);break}n=function(){Ce!==2&&Ce!==9||je!==e||(Ce=7),fn(e)},f.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:km(f)?(Ce=0,Lt=null,wg(n)):(Ce=0,Lt=null,Gs(e,n,f,7));break;case 5:var m=null;switch(le.tag){case 26:m=le.memoizedState;case 5:case 27:var v=le;if(m?f_(m):v.stateNode.complete){Ce=0,Lt=null;var b=v.sibling;if(b!==null)le=b;else{var A=v.return;A!==null?(le=A,eo(A)):le=null}break t}}Ce=0,Lt=null,Gs(e,n,f,5);break;case 6:Ce=0,Lt=null,Gs(e,n,f,6);break;case 8:rf(),Be=6;break e;default:throw Error(l(462))}}P0();break}catch(O){Sg(e,O)}while(!0);return Sn=Pi=null,I.H=r,I.A=c,Se=a,le!==null?0:(je=null,fe=0,yr(),Be)}function P0(){for(;le!==null&&!cS();)Ng(le)}function Ng(e){var n=Xp(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?eo(e):le=n}function wg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=qp(a,n,n.pendingProps,n.type,void 0,fe);break;case 11:n=qp(a,n,n.pendingProps,n.type.render,n.ref,fe);break;case 5:bu(n);default:Zp(a,n),n=le=Cm(n,On),n=Xp(a,n,On)}e.memoizedProps=e.pendingProps,n===null?eo(e):le=n}function Gs(e,n,a,r){Sn=Pi=null,bu(n),Os=null,Ha=0;var c=n.return;try{if(x0(e,c,n,a,fe)){Be=1,Br(e,Gt(a,e.current)),le=null;return}}catch(f){if(c!==null)throw le=c,f;Be=1,Br(e,Gt(a,e.current)),le=null;return}n.flags&32768?(me||r===1?e=!0:zs||(fe&536870912)!==0?e=!1:(ii=e=!0,(r===2||r===9||r===3||r===6)&&(r=jt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Ag(n,e)):eo(n)}function eo(e){var n=e;do{if((n.flags&32768)!==0){Ag(n,ii);return}e=n.return;var a=O0(n.alternate,n,On);if(a!==null){le=a;return}if(n=n.sibling,n!==null){le=n;return}le=n=e}while(n!==null);Be===0&&(Be=5)}function Ag(e,n){do{var a=I0(e.alternate,e);if(a!==null){a.flags&=32767,le=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){le=e;return}le=e=a}while(e!==null);Be=6,le=null}function xg(e,n,a,r,c,f,m,v,b){e.cancelPendingCommit=null;do to();while($e!==0);if((Se&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Xc,yS(e,a,f,m,v,b),e===je&&(le=je=null,fe=0),Ps=n,li=e,In=a,sf=f,af=c,_g=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V0(ir,function(){return Mg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,c=H.p,H.p=2,m=Se,Se|=4;try{M0(e,n,a)}finally{Se=m,H.p=c,I.T=r}}$e=1,Rg(),Dg(),Og()}}function Rg(){if($e===1){$e=0;var e=li,n=Ps,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var r=H.p;H.p=2;var c=Se;Se|=4;try{cg(n,e);var f=Ef,m=pm(e.containerInfo),v=f.focusedElem,b=f.selectionRange;if(m!==v&&v&&v.ownerDocument&&mm(v.ownerDocument.documentElement,v)){if(b!==null&&Vc(v)){var A=b.start,O=b.end;if(O===void 0&&(O=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(O,v.value.length);else{var j=v.ownerDocument||document,x=j&&j.defaultView||window;if(x.getSelection){var D=x.getSelection(),G=v.textContent.length,Y=Math.min(b.start,G),Re=b.end===void 0?Y:Math.min(b.end,G);!D.extend&&Y>Re&&(m=Re,Re=Y,Y=m);var N=dm(v,Y),T=dm(v,Re);if(N&&T&&(D.rangeCount!==1||D.anchorNode!==N.node||D.anchorOffset!==N.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var w=j.createRange();w.setStart(N.node,N.offset),D.removeAllRanges(),Y>Re?(D.addRange(w),D.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),D.addRange(w))}}}}for(j=[],D=v;D=D.parentNode;)D.nodeType===1&&j.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<j.length;v++){var M=j[v];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}mo=!!yf,Ef=yf=null}finally{Se=c,H.p=r,I.T=a}}e.current=n,$e=2}}function Dg(){if($e===2){$e=0;var e=li,n=Ps,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var r=H.p;H.p=2;var c=Se;Se|=4;try{sg(e,n.alternate,n)}finally{Se=c,H.p=r,I.T=a}}$e=3}}function Og(){if($e===4||$e===3){$e=0,uS();var e=li,n=Ps,a=In,r=_g;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Ps=li=null,Ig(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ai=null),Nc(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Sa,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=I.T,c=H.p,H.p=2,I.T=null;try{for(var f=e.onRecoverableError,m=0;m<r.length;m++){var v=r[m];f(v.value,{componentStack:v.stack})}}finally{I.T=n,H.p=c}}(In&3)!==0&&to(),fn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===lf?nl++:(nl=0,lf=e):nl=0,il(0)}}function Ig(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ua(n)))}function to(){return Rg(),Dg(),Og(),Mg()}function Mg(){if($e!==5)return!1;var e=li,n=sf;sf=0;var a=Nc(In),r=I.T,c=H.p;try{H.p=32>a?32:a,I.T=null,a=af,af=null;var f=li,m=In;if($e=0,Ps=li=null,In=0,(Se&6)!==0)throw Error(l(331));var v=Se;if(Se|=4,mg(f.current),fg(f,f.current,m,a),Se=v,il(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Sa,f)}catch{}return!0}finally{H.p=c,I.T=r,Ig(e,n)}}function jg(e,n,a){n=Gt(a,n),n=Uu(e.stateNode,n,2),e=$n(e,n,2),e!==null&&(Ta(e,2),fn(e))}function Ne(e,n,a){if(e.tag===3)jg(e,e,a);else for(;n!==null;){if(n.tag===3){jg(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){e=Gt(a,e),a=kp(2),r=$n(n,a,2),r!==null&&(Lp(a,r,n,e),Ta(r,2),fn(r));break}}n=n.return}}function cf(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new L0;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(a)||(ef=!0,c.add(a),e=B0.bind(null,e,n,a),n.then(e,e))}function B0(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,je===e&&(fe&a)===a&&(Be===4||Be===3&&(fe&62914560)===fe&&300>Rt()-Xr?(Se&2)===0&&Bs(e,0):tf|=a,Hs===fe&&(Hs=0)),fn(e)}function kg(e,n){n===0&&(n=Rd()),e=Ui(e,n),e!==null&&(Ta(e,n),fn(e))}function G0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),kg(e,a)}function q0(e,n){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),kg(e,a)}function V0(e,n){return Sc(e,n)}var no=null,qs=null,uf=!1,io=!1,ff=!1,oi=0;function fn(e){e!==qs&&e.next===null&&(qs===null?no=qs=e:qs=qs.next=e),io=!0,uf||(uf=!0,Y0())}function il(e,n){if(!ff&&io){ff=!0;do for(var a=!1,r=no;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var m=r.suspendedLanes,v=r.pingedLanes;f=(1<<31-Ot(42|e)+1)-1,f&=c&~(m&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Hg(r,f))}else f=fe,f=rr(r,r===je?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||ba(r,f)||(a=!0,Hg(r,f));r=r.next}while(a);ff=!1}}function F0(){Lg()}function Lg(){io=uf=!1;var e=0;oi!==0&&nb()&&(e=oi);for(var n=Rt(),a=null,r=no;r!==null;){var c=r.next,f=Ug(r,n);f===0?(r.next=null,a===null?no=c:a.next=c,c===null&&(qs=a)):(a=r,(e!==0||(f&3)!==0)&&(io=!0)),r=c}$e!==0&&$e!==5||il(e),oi!==0&&(oi=0)}function Ug(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Ot(f),v=1<<m,b=c[m];b===-1?((v&a)===0||(v&r)!==0)&&(c[m]=vS(v,n)):b<=n&&(e.expiredLanes|=v),f&=~v}if(n=je,a=fe,a=rr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&bc(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ba(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&bc(r),Nc(a)){case 2:case 8:a=Ad;break;case 32:a=ir;break;case 268435456:a=xd;break;default:a=ir}return r=zg.bind(null,e),a=Sc(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&bc(r),e.callbackPriority=2,e.callbackNode=null,2}function zg(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(to()&&e.callbackNode!==a)return null;var r=fe;return r=rr(e,e===je?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(yg(e,r,n),Ug(e,Rt()),e.callbackNode!=null&&e.callbackNode===a?zg.bind(null,e):null)}function Hg(e,n){if(to())return null;yg(e,n,!0)}function Y0(){sb(function(){(Se&6)!==0?Sc(wd,F0):Lg()})}function hf(){if(oi===0){var e=xs;e===0&&(e=sr,sr<<=1,(sr&261888)===0&&(sr=256)),oi=e}return oi}function Pg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function Bg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Q0(e,n,a,r,c){if(n==="submit"&&a&&a.stateNode===c){var f=Pg((c[St]||null).action),m=r.submitter;m&&(n=(n=m[St]||null)?Pg(n.formAction):m.getAttribute("formAction"),n!==null&&(f=n,m=null));var v=new pr("action","action",null,r,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(oi!==0){var b=m?Bg(c,m):new FormData(c);Ou(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(v.preventDefault(),b=m?Bg(c,m):new FormData(c),Ou(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var df=0;df<Kc.length;df++){var mf=Kc[df],K0=mf.toLowerCase(),X0=mf[0].toUpperCase()+mf.slice(1);$t(K0,"on"+X0)}$t(vm,"onAnimationEnd"),$t(ym,"onAnimationIteration"),$t(Em,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(f0,"onTransitionRun"),$t(h0,"onTransitionStart"),$t(d0,"onTransitionCancel"),$t(Sm,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Gg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var f=void 0;if(n)for(var m=r.length-1;0<=m;m--){var v=r[m],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=A;try{f(c)}catch(O){vr(O)}c.currentTarget=null,f=b}else for(m=0;m<r.length;m++){if(v=r[m],b=v.instance,A=v.currentTarget,v=v.listener,b!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=A;try{f(c)}catch(O){vr(O)}c.currentTarget=null,f=b}}}}function re(e,n){var a=n[wc];a===void 0&&(a=n[wc]=new Set);var r=e+"__bubble";a.has(r)||(qg(n,e,2,!1),a.add(r))}function pf(e,n,a){var r=0;n&&(r|=4),qg(a,e,r,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function gf(e){if(!e[so]){e[so]=!0,Ld.forEach(function(a){a!=="selectionchange"&&(W0.has(a)||pf(a,!1,e),pf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[so]||(n[so]=!0,pf("selectionchange",!1,n))}}function qg(e,n,a,r){switch(v_(n)){case 2:var c=Cb;break;case 8:c=Nb;break;default:c=Of}a=c.bind(null,n,a,e),c=void 0,!kc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function _f(e,n,a,r,c){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var v=r.stateNode.containerInfo;if(v===c)break;if(m===4)for(m=r.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;v!==null;){if(m=fs(v),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){r=f=m;continue e}v=v.parentNode}}r=r.return}Kd(function(){var A=f,O=Mc(a),j=[];e:{var x=bm.get(e);if(x!==void 0){var D=pr,G=e;switch(e){case"keypress":if(dr(a)===0)break e;case"keydown":case"keyup":D=qS;break;case"focusin":G="focus",D=Hc;break;case"focusout":G="blur",D=Hc;break;case"beforeblur":case"afterblur":D=Hc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=YS;break;case vm:case ym:case Em:D=jS;break;case Sm:D=KS;break;case"scroll":case"scrollend":D=RS;break;case"wheel":D=WS;break;case"copy":case"cut":case"paste":D=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=$d;break;case"toggle":case"beforetoggle":D=JS}var Y=(n&4)!==0,Re=!Y&&(e==="scroll"||e==="scrollend"),N=Y?x!==null?x+"Capture":null:x;Y=[];for(var T=A,w;T!==null;){var M=T;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||N===null||(M=wa(T,N),M!=null&&Y.push(al(T,M,w))),Re)break;T=T.return}0<Y.length&&(x=new D(x,G,null,a,O),j.push({event:x,listeners:Y}))}}if((n&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",x&&a!==Ic&&(G=a.relatedTarget||a.fromElement)&&(fs(G)||G[us]))break e;if((D||x)&&(x=O.window===O?O:(x=O.ownerDocument)?x.defaultView||x.parentWindow:window,D?(G=a.relatedTarget||a.toElement,D=A,G=G?fs(G):null,G!==null&&(Re=u(G),Y=G.tag,G!==Re||Y!==5&&Y!==27&&Y!==6)&&(G=null)):(D=null,G=A),D!==G)){if(Y=Zd,M="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Y=$d,M="onPointerLeave",N="onPointerEnter",T="pointer"),Re=D==null?x:Na(D),w=G==null?x:Na(G),x=new Y(M,T+"leave",D,a,O),x.target=Re,x.relatedTarget=w,M=null,fs(O)===A&&(Y=new Y(N,T+"enter",G,a,O),Y.target=w,Y.relatedTarget=Re,M=Y),Re=M,D&&G)t:{for(Y=Z0,N=D,T=G,w=0,M=N;M;M=Y(M))w++;M=0;for(var F=T;F;F=Y(F))M++;for(;0<w-M;)N=Y(N),w--;for(;0<M-w;)T=Y(T),M--;for(;w--;){if(N===T||T!==null&&N===T.alternate){Y=N;break t}N=Y(N),T=Y(T)}Y=null}else Y=null;D!==null&&Vg(j,x,D,Y,!1),G!==null&&Re!==null&&Vg(j,Re,G,Y,!0)}}e:{if(x=A?Na(A):window,D=x.nodeName&&x.nodeName.toLowerCase(),D==="select"||D==="input"&&x.type==="file")var _e=rm;else if(am(x))if(om)_e=o0;else{_e=l0;var V=a0}else D=x.nodeName,!D||D.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?A&&Oc(A.elementType)&&(_e=rm):_e=r0;if(_e&&(_e=_e(e,A))){lm(j,_e,a,O);break e}V&&V(e,x,A),e==="focusout"&&A&&x.type==="number"&&A.memoizedProps.value!=null&&Dc(x,"number",x.value)}switch(V=A?Na(A):window,e){case"focusin":(am(V)||V.contentEditable==="true")&&(Es=V,Fc=A,ja=null);break;case"focusout":ja=Fc=Es=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,gm(j,a,O);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":gm(j,a,O)}var ne;if(Bc)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else ys?im(e,a)&&(he="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(em&&a.locale!=="ko"&&(ys||he!=="onCompositionStart"?he==="onCompositionEnd"&&ys&&(ne=Xd()):(Yn=O,Lc="value"in Yn?Yn.value:Yn.textContent,ys=!0)),V=ao(A,he),0<V.length&&(he=new Jd(he,e,null,a,O),j.push({event:he,listeners:V}),ne?he.data=ne:(ne=sm(a),ne!==null&&(he.data=ne)))),(ne=e0?t0(e,a):n0(e,a))&&(he=ao(A,"onBeforeInput"),0<he.length&&(V=new Jd("onBeforeInput","beforeinput",null,a,O),j.push({event:V,listeners:he}),V.data=ne)),Q0(j,e,A,a,O)}Gg(j,n)})}function al(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ao(e,n){for(var a=n+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=wa(e,a),c!=null&&r.unshift(al(e,c,f)),c=wa(e,n),c!=null&&r.push(al(e,c,f))),e.tag===3)return r;e=e.return}return[]}function Z0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vg(e,n,a,r,c){for(var f=n._reactName,m=[];a!==null&&a!==r;){var v=a,b=v.alternate,A=v.stateNode;if(v=v.tag,b!==null&&b===r)break;v!==5&&v!==26&&v!==27||A===null||(b=A,c?(A=wa(a,f),A!=null&&m.unshift(al(a,A,b))):c||(A=wa(a,f),A!=null&&m.push(al(a,A,b)))),a=a.return}m.length!==0&&e.push({event:n,listeners:m})}var J0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function Fg(e){return(typeof e=="string"?e:""+e).replace(J0,`
`).replace($0,"")}function Yg(e,n){return n=Fg(n),Fg(e)===n}function xe(e,n,a,r,c,f){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||gs(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&gs(e,""+r);break;case"className":cr(e,"class",r);break;case"tabIndex":cr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,a,r);break;case"style":Yd(e,r,f);break;case"data":if(n!=="object"){cr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=fr(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&xe(e,n,"name",c.name,c,null),xe(e,n,"formEncType",c.formEncType,c,null),xe(e,n,"formMethod",c.formMethod,c,null),xe(e,n,"formTarget",c.formTarget,c,null)):(xe(e,n,"encType",c.encType,c,null),xe(e,n,"method",c.method,c,null),xe(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=fr(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=_n);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=fr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":re("beforetoggle",e),re("toggle",e),or(e,"popover",r);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":or(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=AS.get(a)||a,or(e,a,r))}}function vf(e,n,a,r,c,f){switch(a){case"style":Yd(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?gs(e,r):(typeof r=="number"||typeof r=="bigint")&&gs(e,""+r);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ud.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[St]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):or(e,a,r)}}}function ut(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var r=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:xe(e,n,f,m,a,null)}}c&&xe(e,n,"srcSet",a.srcSet,a,null),r&&xe(e,n,"src",a.src,a,null);return;case"input":re("invalid",e);var v=f=m=c=null,b=null,A=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":c=O;break;case"type":m=O;break;case"checked":b=O;break;case"defaultChecked":A=O;break;case"value":f=O;break;case"defaultValue":v=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:xe(e,n,r,O,a,null)}}Gd(e,f,v,b,A,m,c,!1);return;case"select":re("invalid",e),r=m=f=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":m=v;break;case"multiple":r=v;default:xe(e,n,c,v,a,null)}n=f,a=m,e.multiple=!!r,n!=null?ps(e,!!r,n,!1):a!=null&&ps(e,!!r,a,!0);return;case"textarea":re("invalid",e),f=c=r=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":r=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:xe(e,n,m,v,a,null)}Vd(e,r,c,f);return;case"option":for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null)&&(b==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":xe(e,n,b,r,a,null));return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(r=0;r<sl.length;r++)re(sl[r],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(r=a[A],r!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:xe(e,n,A,r,a,null)}return;default:if(Oc(n)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&vf(e,n,O,r,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(r=a[v],r!=null&&xe(e,n,v,r,a,null))}function eb(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,m=null,v=null,b=null,A=null,O=null;for(D in a){var j=a[D];if(a.hasOwnProperty(D)&&j!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=j;default:r.hasOwnProperty(D)||xe(e,n,D,null,r,j)}}for(var x in r){var D=r[x];if(j=a[x],r.hasOwnProperty(x)&&(D!=null||j!=null))switch(x){case"type":f=D;break;case"name":c=D;break;case"checked":A=D;break;case"defaultChecked":O=D;break;case"value":m=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,n));break;default:D!==j&&xe(e,n,x,D,r,j)}}Rc(e,m,v,b,A,O,f,c);return;case"select":D=m=v=x=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":D=b;default:r.hasOwnProperty(f)||xe(e,n,f,null,r,b)}for(c in r)if(f=r[c],b=a[c],r.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":x=f;break;case"defaultValue":v=f;break;case"multiple":m=f;default:f!==b&&xe(e,n,c,f,r,b)}n=v,a=m,r=D,x!=null?ps(e,!!a,x,!1):!!r!=!!a&&(n!=null?ps(e,!!a,n,!0):ps(e,!!a,a?[]:"",!1));return;case"textarea":D=x=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:xe(e,n,v,null,r,c)}for(m in r)if(c=r[m],f=a[m],r.hasOwnProperty(m)&&(c!=null||f!=null))switch(m){case"value":x=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&xe(e,n,m,c,r,f)}qd(e,x,D);return;case"option":for(var G in a)x=a[G],a.hasOwnProperty(G)&&x!=null&&!r.hasOwnProperty(G)&&(G==="selected"?e.selected=!1:xe(e,n,G,null,r,x));for(b in r)x=r[b],D=a[b],r.hasOwnProperty(b)&&x!==D&&(x!=null||D!=null)&&(b==="selected"?e.selected=x&&typeof x!="function"&&typeof x!="symbol":xe(e,n,b,x,r,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Y in a)x=a[Y],a.hasOwnProperty(Y)&&x!=null&&!r.hasOwnProperty(Y)&&xe(e,n,Y,null,r,x);for(A in r)if(x=r[A],D=a[A],r.hasOwnProperty(A)&&x!==D&&(x!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,n));break;default:xe(e,n,A,x,r,D)}return;default:if(Oc(n)){for(var Re in a)x=a[Re],a.hasOwnProperty(Re)&&x!==void 0&&!r.hasOwnProperty(Re)&&vf(e,n,Re,void 0,r,x);for(O in r)x=r[O],D=a[O],!r.hasOwnProperty(O)||x===D||x===void 0&&D===void 0||vf(e,n,O,x,r,D);return}}for(var N in a)x=a[N],a.hasOwnProperty(N)&&x!=null&&!r.hasOwnProperty(N)&&xe(e,n,N,null,r,x);for(j in r)x=r[j],D=a[j],!r.hasOwnProperty(j)||x===D||x==null&&D==null||xe(e,n,j,x,r,D)}function Qg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],f=c.transferSize,m=c.initiatorType,v=c.duration;if(f&&v&&Qg(m)){for(m=0,v=c.responseEnd,r+=1;r<a.length;r++){var b=a[r],A=b.startTime;if(A>v)break;var O=b.transferSize,j=b.initiatorType;O&&Qg(j)&&(b=b.responseEnd,m+=O*(b<v?1:(v-A)/(b-A)))}if(--r,n+=8*(f+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yf=null,Ef=null;function lo(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bf=null;function nb(){var e=window.event;return e&&e.type==="popstate"?e===bf?!1:(bf=e,!0):(bf=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(ab)}:Wg;function ab(e){setTimeout(function(){throw e})}function ci(e){return e==="head"}function Jg(e,n){var a=n,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(c),Qs(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ll(a);for(var f=a.firstChild;f;){var m=f.nextSibling,v=f.nodeName;f[Ca]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=m}}else a==="body"&&ll(e.ownerDocument.body);a=c}while(a);Qs(n)}function $g(e,n){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Tf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tf(a),Ac(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lb(e,n,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ca])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function rb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qt(e.nextSibling),e===null))return null;return e}function e_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function Cf(e){return e.data==="$?"||e.data==="$~"}function Nf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ob(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Qt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wf=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Qt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function n_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function i_(e,n,a){switch(n=lo(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ac(e)}var Kt=new Map,s_=new Set;function ro(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=H.d;H.d={f:cb,r:ub,D:fb,C:hb,L:db,m:mb,X:gb,S:pb,M:_b};function cb(){var e=Mn.f(),n=Jr();return e||n}function ub(e){var n=hs(e);n!==null&&n.tag===5&&n.type==="form"?Sp(n):Mn.r(e)}var Vs=typeof document>"u"?null:document;function a_(e,n,a){var r=Vs;if(r&&typeof n=="string"&&n){var c=Pt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),s_.has(c)||(s_.add(c),e={rel:e,crossOrigin:a,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),ut(n,"link",e),nt(n),r.head.appendChild(n)))}}function fb(e){Mn.D(e),a_("dns-prefetch",e,null)}function hb(e,n){Mn.C(e,n),a_("preconnect",e,n)}function db(e,n,a){Mn.L(e,n,a);var r=Vs;if(r&&e&&n){var c='link[rel="preload"][as="'+Pt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Pt(a.imageSizes)+'"]')):c+='[href="'+Pt(e)+'"]';var f=c;switch(n){case"style":f=Fs(e);break;case"script":f=Ys(e)}Kt.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Kt.set(f,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(rl(f))||n==="script"&&r.querySelector(ol(f))||(n=r.createElement("link"),ut(n,"link",e),nt(n),r.head.appendChild(n)))}}function mb(e,n){Mn.m(e,n);var a=Vs;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Pt(r)+'"][href="'+Pt(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ys(e)}if(!Kt.has(f)&&(e=S({rel:"modulepreload",href:e},n),Kt.set(f,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(f)))return}r=a.createElement("link"),ut(r,"link",e),nt(r),a.head.appendChild(r)}}}function pb(e,n,a){Mn.S(e,n,a);var r=Vs;if(r&&e){var c=ds(r).hoistableStyles,f=Fs(e);n=n||"default";var m=c.get(f);if(!m){var v={loading:0,preload:null};if(m=r.querySelector(rl(f)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Kt.get(f))&&Af(e,a);var b=m=r.createElement("link");nt(b),ut(b,"link",e),b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,oo(m,n,r)}m={type:"stylesheet",instance:m,count:1,state:v},c.set(f,m)}}}function gb(e,n){Mn.X(e,n);var a=Vs;if(a&&e){var r=ds(a).hoistableScripts,c=Ys(e),f=r.get(c);f||(f=a.querySelector(ol(c)),f||(e=S({src:e,async:!0},n),(n=Kt.get(c))&&xf(e,n),f=a.createElement("script"),nt(f),ut(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function _b(e,n){Mn.M(e,n);var a=Vs;if(a&&e){var r=ds(a).hoistableScripts,c=Ys(e),f=r.get(c);f||(f=a.querySelector(ol(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Kt.get(c))&&xf(e,n),f=a.createElement("script"),nt(f),ut(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function l_(e,n,a,r){var c=(c=ae.current)?ro(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Fs(a.href),a=ds(c).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fs(a.href);var f=ds(c).hoistableStyles,m=f.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=c.querySelector(rl(e)))&&!f._p&&(m.instance=f,m.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),f||vb(c,e,a,m.state))),n&&r===null)throw Error(l(528,""));return m}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ys(a),a=ds(c).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Fs(e){return'href="'+Pt(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function vb(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),ut(n,"link",a),nt(n),e.head.appendChild(n))}function Ys(e){return'[src="'+Pt(e)+'"]'}function ol(e){return"script[async]"+e}function o_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(r)return n.instance=r,nt(r),r;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),nt(r),ut(r,"style",c),oo(r,a.precedence,e),n.instance=r;case"stylesheet":c=Fs(a.href);var f=e.querySelector(rl(c));if(f)return n.state.loading|=4,n.instance=f,nt(f),f;r=r_(a),(c=Kt.get(c))&&Af(r,c),f=(e.ownerDocument||e).createElement("link"),nt(f);var m=f;return m._p=new Promise(function(v,b){m.onload=v,m.onerror=b}),ut(f,"link",r),n.state.loading|=4,oo(f,a.precedence,e),n.instance=f;case"script":return f=Ys(a.src),(c=e.querySelector(ol(f)))?(n.instance=c,nt(c),c):(r=a,(c=Kt.get(f))&&(r=S({},a),xf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),nt(c),ut(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,oo(r,a.precedence,e));return n.instance}function oo(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,m=0;m<r.length;m++){var v=r[m];if(v.dataset.precedence===n)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var co=null;function c_(e,n,a){if(co===null){var r=new Map,c=co=new Map;c.set(a,r)}else c=co,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Ca]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(n)||"";m=e+m;var v=r.get(m);v?v.push(f):r.set(m,[f])}}return r}function u_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function yb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eb(e,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Fs(r.href),f=n.querySelector(rl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=uo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,nt(f);return}f=n.ownerDocument||n,r=r_(r),(c=Kt.get(c))&&Af(r,c),f=f.createElement("link"),nt(f);var m=f;m._p=new Promise(function(v,b){m.onload=v,m.onerror=b}),ut(f,"link",r),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=uo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rf=0;function Sb(e,n){return e.stylesheets&&e.count===0&&ho(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&ho(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rf===0&&(Rf=62500*tb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ho(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ho(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fo=null;function ho(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fo=new Map,n.forEach(bb,e),fo=null,uo.call(e))}function bb(e,n){if(!(n.state.loading&4)){var a=fo.get(e);if(a)var r=a.get(null);else{a=new Map,fo.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var m=c[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),r=m)}r&&a.set(null,r)}c=n.instance,m=c.getAttribute("data-precedence"),f=a.get(m)||r,f===r&&a.set(null,c),a.set(m,c),this.count++,r=uo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Tb(e,n,a,r,c,f,m,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.hiddenUpdates=Tc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function h_(e,n,a,r,c,f,m,v,b,A,O,j){return e=new Tb(e,n,a,m,b,A,O,j,v),n=1,f===!0&&(n|=24),f=Mt(3,null,null,n),e.current=f,f.stateNode=e,n=ru(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:a,cache:n},fu(f),e}function d_(e){return e?(e=Ts,e):Ts}function m_(e,n,a,r,c,f){c=d_(c),r.context===null?r.context=c:r.pendingContext=c,r=Jn(n),r.payload={element:a},f=f===void 0?null:f,f!==null&&(r.callback=f),a=$n(e,r,n),a!==null&&(At(a,e,n),Ba(a,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Df(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=Ui(e,67108864);n!==null&&At(n,e,67108864),Df(e,67108864)}}function __(e){if(e.tag===13||e.tag===31){var n=zt();n=Cc(n);var a=Ui(e,n);a!==null&&At(a,e,n),Df(e,n)}}var mo=!0;function Cb(e,n,a,r){var c=I.T;I.T=null;var f=H.p;try{H.p=2,Of(e,n,a,r)}finally{H.p=f,I.T=c}}function Nb(e,n,a,r){var c=I.T;I.T=null;var f=H.p;try{H.p=8,Of(e,n,a,r)}finally{H.p=f,I.T=c}}function Of(e,n,a,r){if(mo){var c=If(r);if(c===null)_f(e,n,r,po,a),y_(e,r);else if(Ab(c,e,n,a,r))r.stopPropagation();else if(y_(e,r),n&4&&-1<wb.indexOf(e)){for(;c!==null;){var f=hs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=Ii(f.pendingLanes);if(m!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var b=1<<31-Ot(m);v.entanglements[1]|=b,m&=~b}fn(f),(Se&6)===0&&(Wr=Rt()+500,il(0))}}break;case 31:case 13:v=Ui(f,2),v!==null&&At(v,f,2),Jr(),Df(f,2)}if(f=If(r),f===null&&_f(e,n,r,po,a),f===c)break;c=f}c!==null&&r.stopPropagation()}else _f(e,n,r,null,a)}}function If(e){return e=Mc(e),Mf(e)}var po=null;function Mf(e){if(po=null,e=fs(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return po=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fS()){case wd:return 2;case Ad:return 8;case ir:case hS:return 32;case xd:return 268435456;default:return 32}default:return 32}}var jf=!1,ui=null,fi=null,hi=null,ul=new Map,fl=new Map,di=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function hl(e,n,a,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},n!==null&&(n=hs(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Ab(e,n,a,r,c){switch(n){case"focusin":return ui=hl(ui,e,n,a,r,c),!0;case"dragenter":return fi=hl(fi,e,n,a,r,c),!0;case"mouseover":return hi=hl(hi,e,n,a,r,c),!0;case"pointerover":var f=c.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,a,r,c)),!0;case"gotpointercapture":return f=c.pointerId,fl.set(f,hl(fl.get(f)||null,e,n,a,r,c)),!0}return!1}function E_(e){var n=fs(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,jd(e.priority,function(){__(a)});return}}else if(n===31){if(n=d(a),n!==null){e.blockedOn=n,jd(e.priority,function(){__(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function go(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=If(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Ic=r,a.target.dispatchEvent(r),Ic=null}else return n=hs(a),n!==null&&g_(n),e.blockedOn=a,!1;n.shift()}return!0}function S_(e,n,a){go(e)&&a.delete(n)}function xb(){jf=!1,ui!==null&&go(ui)&&(ui=null),fi!==null&&go(fi)&&(fi=null),hi!==null&&go(hi)&&(hi=null),ul.forEach(S_),fl.forEach(S_)}function _o(e,n){e.blockedOn===n&&(e.blockedOn=null,jf||(jf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xb)))}var vo=null;function b_(e){vo!==e&&(vo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vo===e&&(vo=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(Mf(r||a)===null)continue;break}var f=hs(a);f!==null&&(e.splice(n,3),n-=3,Ou(f,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function Qs(e){function n(b){return _o(b,e)}ui!==null&&_o(ui,e),fi!==null&&_o(fi,e),hi!==null&&_o(hi,e),ul.forEach(n),fl.forEach(n);for(var a=0;a<di.length;a++){var r=di[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<di.length&&(a=di[0],a.blockedOn===null);)E_(a),a.blockedOn===null&&di.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],f=a[r+1],m=c[St]||null;if(typeof f=="function")m||b_(a);else if(m){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,m=f[St]||null)v=m.formAction;else if(Mf(c)!==null)continue}else v=m.action;typeof v=="function"?a[r+1]=v:(a.splice(r,3),r-=3),b_(a)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function kf(e){this._internalRoot=e}yo.prototype.render=kf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,r=zt();m_(a,r,e,n,null,null)},yo.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m_(e.current,2,null,e,null,null),Jr(),n[us]=null}};function yo(e){this._internalRoot=e}yo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Md();e={blockedOn:null,target:e,priority:n};for(var a=0;a<di.length&&n!==0&&n<di[a].priority;a++);di.splice(a,0,e),a===0&&E_(e)}};var C_=t.version;if(C_!=="19.2.4")throw Error(l(527,C_,"19.2.4"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Rb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Sa=Eo.inject(Rb),Dt=Eo}catch{}}return ml.createRoot=function(e,n){if(!o(e))throw Error(l(299));var a=!1,r="",c=Op,f=Ip,m=Mp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=h_(e,1,!1,null,null,a,r,null,c,f,m,T_),e[us]=n.current,gf(e),new kf(n)},ml.hydrateRoot=function(e,n,a){if(!o(e))throw Error(l(299));var r=!1,c="",f=Op,m=Ip,v=Mp,b=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),n=h_(e,1,!0,n,a??null,r,c,b,f,m,v,T_),n.context=d_(null),a=n.current,r=zt(),r=Cc(r),c=Jn(r),c.callback=null,$n(a,c,r),a=r,n.current.lanes=a,Ta(n,a),fn(n),e[us]=n.current,gf(e),new yo(n)},ml.version="19.2.4",ml}var j_;function Hb(){if(j_)return zf.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zf.exports=zb(),zf.exports}var Pb=Hb();function Js(s,t=null){const[i,l]=pe.useState(null),[o,u]=pe.useState(!0),[h,d]=pe.useState(null),g=pe.useCallback(async()=>{try{u(!0),d(null);const _=await s();l(_)}catch(_){d(_.message||"Failed to fetch data")}finally{u(!1)}},[s]);return pe.useEffect(()=>{g()},[g]),pe.useEffect(()=>{if(!t)return;const _=setInterval(g,t);return()=>clearInterval(_)},[g,t]),{data:i,loading:o,error:h,reload:g}}const Bb="https://fantasy.premierleague.com/api";let Hl=5398119;function Gf(s){Hl=Number(s)}function Gb(){return Hl}let So=null,bo=null;const k_=[s=>`https://corsproxy.io/?url=${encodeURIComponent(s)}`,s=>`https://api.allorigins.win/raw?url=${encodeURIComponent(s)}`,s=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(s)}`,s=>`https://thingproxy.freeboard.io/fetch/${s}`];async function qf(s,t=8e3){const i=new AbortController,l=setTimeout(()=>i.abort(),t);try{const o=await fetch(s,{signal:i.signal});return clearTimeout(l),o}catch(o){throw clearTimeout(l),o}}async function ls(s){try{const o=await qf(`/api/fpl-proxy?path=${encodeURIComponent(s)}`);if(o.ok)return await o.json()}catch{}const t={"bootstrap-static/":"bootstrap.json","fixtures/":"fixtures.json"};if(t[s])try{const u=await qf(`/FF2026/data/${t[s]}`,3e3);if(u.ok){const h=await u.json();if(h&&(Array.isArray(h)?h.length>0:Object.keys(h).length>0))return h}}catch{}const i=`${Bb}/${s}`;let l;for(let o=0;o<k_.length;o++)try{const u=k_[o](i),h=await qf(u);if(!h.ok)throw new Error(`FPL API error (${h.status})`);return await h.json()}catch(u){l=u}throw new Error(`Unable to reach the FPL API. All proxy methods failed. Last error: ${l?.message||"Unknown"}. Try refreshing or running the app locally with "npm run dev".`)}async function Pl(){return So||(So=ls("bootstrap-static/").catch(s=>{throw So=null,s})),So}async function xh(){return ls(`entry/${Hl}/`)}async function Xv(){return ls(`entry/${Hl}/history/`)}async function Wv(s){return ls(`entry/${Hl}/event/${s}/picks/`)}async function nc(){return bo||(bo=ls("fixtures/").catch(s=>{throw bo=null,s})),bo}async function qb(s){return ls(`event/${s}/live/`)}async function Vb(s){return ls(`leagues-classic/${s}/standings/`)}function Bl(s){const t={};for(const d of s.teams)t[d.id]=d;const i={};for(const d of s.element_types)i[d.id]=d.singular_name_short;const l={};for(const d of s.elements)l[d.id]=d;const o={};for(const d of s.events)o[d.id]=d;const u=s.events.find(d=>d.is_current),h=s.events.find(d=>d.is_next);return{teams:t,positionMap:i,players:l,events:o,currentEvent:u,nextEvent:h}}function Zv(s,t,i){const l={},o=s.filter(u=>u.event&&u.event>i&&!u.finished).sort((u,h)=>u.event-h.event);for(const u of o)l[u.team_h]||(l[u.team_h]=[]),l[u.team_h].length<5&&l[u.team_h].push({gw:u.event,opponent:`${t[u.team_a]?.short_name||"?"} (H)`,difficulty:u.team_h_difficulty}),l[u.team_a]||(l[u.team_a]=[]),l[u.team_a].length<5&&l[u.team_a].push({gw:u.event,opponent:`${t[u.team_h]?.short_name||"?"} (A)`,difficulty:u.team_a_difficulty});return l}function Fb(s){let t=1;const i=new Set(s.chips.map(l=>l.event));for(const l of s.current){if(i.has(l.event)){t=Math.min(t+1,5);continue}l.event_transfers===0?t=Math.min(t+1,5):l.event_transfers_cost>0?t=1:t=Math.max(1,Math.min(t-l.event_transfers+1,5))}return t}async function Yb(){const[s,t,i,l]=await Promise.all([Pl(),xh(),nc(),Xv()]),{teams:o,positionMap:u,players:h,currentEvent:d}=Bl(s),g=d?.id||t.current_event,[_,E]=await Promise.all([Wv(g),qb(g)]),S={};for(const ue of E.elements)S[ue.id]=ue.stats.total_points;const y=Zv(i,o,g),R=_.picks.filter(ue=>ue.position<=11).map(ue=>{const $=h[ue.element],Ie=o[$.team],X=y[$.team]||[],Te=X[0],pt=parseFloat($.form)||0;return{id:$.id,name:$.web_name,position:u[$.element_type],club:Ie?.name||"Unknown",clubShort:Ie?.short_name||"???",price:$.now_cost/10,totalPoints:$.total_points,gameweekPoints:S[$.id]??$.event_points??0,form:pt,upcomingFixtures:X.slice(0,5),upcomingFixture:Te?Te.opponent:"TBD",fixtureDifficulty:Te?Te.difficulty:3,isCaptain:ue.is_captain,isViceCaptain:ue.is_vice_captain,pointsHistory:Array.from({length:5},()=>Math.max(1,Math.round(pt+(Math.random()-.5)*4)))}}),L=_.picks.find(ue=>ue.is_captain),B=(L&&S[L.element]||0)*(L?.multiplier||2),Z=new Set(l.chips.map(ue=>ue.name)),ce=_.entry_history,ge={totalPoints:ce.total_points,teamValue:ce.value/10,moneyInBank:ce.bank/10,overallRank:ce.overall_rank||t.summary_overall_rank||0,gameweekRank:ce.rank||0,currentGameweek:g,gameweekPoints:ce.points,captainPoints:B,averagePoints:d?.average_entry_score||0,highestPoints:d?.highest_score||0,transfers:{made:ce.event_transfers,cost:ce.event_transfers_cost,available:Fb(l)},chips:{wildcard:!Z.has("wildcard"),benchBoost:!Z.has("bboost"),tripleCaptain:!Z.has("3xc"),freeHit:!Z.has("freehit")}};return{players:R,summary:ge}}async function Qb(){const[s,t]=await Promise.all([Pl(),Xv()]),{events:i}=Bl(s);return t.current.slice(-7).map(o=>({gw:o.event,points:o.points,average:i[o.event]?.average_entry_score||0,rank:o.overall_rank}))}async function Kb(){const[s,t]=await Promise.all([Pl(),nc()]),{currentEvent:i}=Bl(s),l=i?.id||1,o=s.events.filter(d=>d.id>l).slice(0,5);if(o.length===0)return[{gw:l+1,projected:50,difficulty:"Medium"}];const u=s.events.filter(d=>d.finished),h=u.length>0?Math.round(u.reduce((d,g)=>d+(g.average_entry_score||0),0)/u.length):50;return o.map(d=>{const g=t.filter(R=>R.event===d.id),_=g.length>0?g.reduce((R,L)=>R+L.team_h_difficulty+L.team_a_difficulty,0)/(g.length*2):3,E=_<2.5?"Easy":_>3.5?"Hard":"Medium",S=_<3?1.1:_>3?.9:1,y=Math.round(h*S);return{gw:d.id,projected:y,difficulty:E}})}async function Xb(){const[s,t,i]=await Promise.all([Pl(),xh(),nc()]),{teams:l,positionMap:o,currentEvent:u}=Bl(s),h=u?.id||t.current_event,d=await Wv(h),g=new Set(d.picks.map(S=>S.element)),_=Zv(i,l,h);return s.elements.filter(S=>!g.has(S.id)&&S.minutes>0&&S.status==="a").sort((S,y)=>parseFloat(y.form)-parseFloat(S.form)).slice(0,150).map(S=>{const y=l[S.team],R=parseFloat(S.form)||0,L=_[S.team]||[];return{id:S.id,name:S.web_name,position:o[S.element_type],club:y?.name||"Unknown",clubShort:y?.short_name||"???",price:S.now_cost/10,totalPoints:S.total_points,form:R,selectedByPercent:parseFloat(S.selected_by_percent)||0,upcomingFixtures:L.slice(0,5),expectedPoints:L.slice(0,5).map(z=>Math.max(1,Math.round(R+(3-z.difficulty)*.8)))}})}async function Wb(){const t=(await xh()).leagues?.classic||[],i=t.find(o=>o.league_type==="x")||t.find(o=>o.max_entries&&o.max_entries<1e3)||t[0];if(!i)return{name:"No League Found",myPosition:0,totalMembers:0,standings:[]};const l=await Vb(i.id);return{name:l.league.name,myPosition:i.entry_rank||0,totalMembers:i.entry_count||l.standings.results.length,standings:l.standings.results.slice(0,10).map((o,u)=>({rank:o.rank||u+1,name:o.entry_name,manager:o.entry===Gb()?"You":o.player_name,points:o.total}))}}async function Zb(){const[s,t]=await Promise.all([Pl(),nc()]),{teams:i,positionMap:l,currentEvent:o}=Bl(s),u=o?.id||1,h=t.filter(y=>y.event&&y.event>u&&!y.finished).sort((y,R)=>y.event-R.event||y.kickoff_time?.localeCompare(R.kickoff_time||"")),d=[...new Set(h.map(y=>y.event))].slice(0,5),g={};for(const y of s.events)g[y.id]=y.deadline_time;const _={};for(const y of h)_[y.team_h]||(_[y.team_h]={}),_[y.team_h][y.event]={difficulty:y.team_h_difficulty,opponent:`${i[y.team_a]?.short_name||"?"} (H)`},_[y.team_a]||(_[y.team_a]={}),_[y.team_a][y.event]={difficulty:y.team_a_difficulty,opponent:`${i[y.team_h]?.short_name||"?"} (A)`};const E=s.elements.filter(y=>y.minutes>0&&y.status==="a"&&parseFloat(y.form)>0);function S(y){const R=E.filter(B=>_[B.team]?.[y]).map(B=>{const Z=_[B.team][y],ce=parseFloat(B.form)||0,ge=ce+(3-Z.difficulty)*1.2;return{id:B.id,name:B.web_name,position:l[B.element_type],club:i[B.team]?.short_name||"???",price:B.now_cost/10,form:ce,totalPoints:B.total_points,opponent:Z.opponent,difficulty:Z.difficulty,score:ge}}).sort((B,Z)=>Z.score-B.score),L=[],z={};for(const B of R){const Z=z[B.position]||0;if(Z<2&&(L.push(B),z[B.position]=Z+1),L.length>=8)break}return L}return d.map(y=>({gw:y,deadline:g[y]||null,matches:h.filter(R=>R.event===y).map(R=>({id:R.id,kickoff:R.kickoff_time,homeTeam:i[R.team_h]?.name||"TBD",homeShort:i[R.team_h]?.short_name||"?",awayTeam:i[R.team_a]?.name||"TBD",awayShort:i[R.team_a]?.short_name||"?",homeDifficulty:R.team_h_difficulty,awayDifficulty:R.team_a_difficulty})),picks:S(y)}))}function Jb(s,t,i){const l=s.pointsHistory?s.pointsHistory.slice(0,i).reduce((L,z)=>L+z,0):Math.round((s.form||4)*i),o=t.expectedPoints?t.expectedPoints.slice(0,i).reduce((L,z)=>L+z,0):Math.round((t.form||4)*i),u=o-l,h=(t.form||0)-(s.form||0),d=(t.price||0)-(s.price||0),g=t.upcomingFixtures?.length?t.upcomingFixtures.slice(0,i).reduce((L,z)=>L+z.difficulty,0)/i:3,E=(s.fixtureDifficulty||3)-g;let S;Math.abs(u)<=3&&Math.abs(h)<1?S="Low":Math.abs(u)>8||g>3.5?S="High":S="Medium";let y;u>5&&h>0?y="Strong Buy":u<-3||h<-1.5?y="Avoid":y="Neutral";const R={"Strong Buy":`${t.name} is projected to outscore ${s.name} by ${u} points over the next ${i} gameweeks. With better form (${t.form} vs ${s.form}) and favorable upcoming fixtures, this looks like a smart move.`,Neutral:`This is a sideways move. ${t.name} and ${s.name} are projected similarly over the next ${i} gameweeks (${u>0?"+":""}${u} point difference). Consider saving the transfer for a better opportunity.`,Avoid:`${s.name} is the better option here. Keeping the current player saves a transfer and is projected to yield ${Math.abs(u)} more points over ${i} gameweeks.`};return{pointsDiff:u,formDiff:h.toFixed(1),priceDiff:d.toFixed(1),fixtureDiff:E.toFixed(1),riskLevel:S,recommendation:y,explanation:R[y],outProjected:l,inProjected:o,avgInDifficulty:g.toFixed(1)}}function Gl({message:s="Loading..."}){return p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:s})]})}function ql({message:s,onRetry:t}){return p.jsxs("div",{className:"error-container",children:[p.jsx("div",{className:"error-icon",children:"!"}),p.jsx("p",{children:s}),t&&p.jsx("button",{className:"btn btn-primary",onClick:t,children:"Try Again"})]})}const L_={GKP:0,DEF:1,MID:2,FWD:3};function $b({player:s,isExpanded:t,onToggle:i}){const l=s.form>=7?"positive":s.form<=4?"negative":"",o=s.upcomingFixtures||[];return p.jsxs("div",{className:`player-card ${t?"expanded":""}`,onClick:i,children:[p.jsxs("div",{className:"player-card-header",children:[p.jsx("span",{className:`position-badge position-${s.position}`,children:s.position}),p.jsx("span",{className:"player-club",children:s.clubShort}),s.isCaptain&&p.jsx("span",{className:"badge captain",children:"C"}),s.isViceCaptain&&p.jsx("span",{className:"badge vice-captain",children:"V"})]}),p.jsx("div",{className:"player-name",children:s.name}),p.jsx("div",{className:"player-club-full",children:s.club}),p.jsxs("div",{className:"player-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-label",children:"Price"}),p.jsxs("span",{className:"stat-value",children:["",s.price,"m"]})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-label",children:"Points"}),p.jsx("span",{className:"stat-value",children:s.totalPoints})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-label",children:"Form"}),p.jsx("span",{className:`stat-value ${l}`,children:s.form})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-label",children:"GW Pts"}),p.jsx("span",{className:"stat-value highlight",children:s.gameweekPoints})]})]}),p.jsxs("div",{className:"player-fixture",children:[p.jsx("span",{className:"fixture-label",children:"Next:"}),p.jsx("span",{className:`fixture-value fdr-${s.fixtureDifficulty}`,children:s.upcomingFixture}),p.jsx("span",{className:`expand-arrow ${t?"open":""}`,children:p.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),t&&p.jsxs("div",{className:"player-expanded",onClick:u=>u.stopPropagation(),children:[o.length>0&&p.jsxs("div",{className:"expanded-fixtures",children:[p.jsx("div",{className:"expanded-section-title",children:"Upcoming Fixtures"}),p.jsx("div",{className:"expanded-fixture-list",children:o.map(u=>p.jsxs("div",{className:"expanded-fixture-row",children:[p.jsxs("span",{className:"ef-gw",children:["GW",u.gw]}),p.jsx("span",{className:`ef-opponent fdr-${u.difficulty}`,children:u.opponent}),p.jsx("span",{className:"ef-diff-dots",children:[1,2,3,4,5].map(h=>p.jsx("span",{className:`ef-dot ${h<=u.difficulty?"filled":""}`},h))})]},u.gw))})]}),p.jsxs("div",{className:"expanded-stats",children:[p.jsx("div",{className:"expanded-section-title",children:"Season Stats"}),p.jsxs("div",{className:"expanded-stats-grid",children:[p.jsxs("div",{className:"es-item",children:[p.jsx("span",{className:"es-value",children:s.totalPoints}),p.jsx("span",{className:"es-label",children:"Total Pts"})]}),p.jsxs("div",{className:"es-item",children:[p.jsx("span",{className:"es-value",children:s.gameweekPoints}),p.jsx("span",{className:"es-label",children:"GW Pts"})]}),p.jsxs("div",{className:"es-item",children:[p.jsx("span",{className:`es-value ${l}`,children:s.form}),p.jsx("span",{className:"es-label",children:"Form"})]}),p.jsxs("div",{className:"es-item",children:[p.jsxs("span",{className:"es-value",children:["",s.price,"m"]}),p.jsx("span",{className:"es-label",children:"Price"})]})]})]})]})]})}function eT({summary:s}){return p.jsxs("div",{className:"team-summary",children:[p.jsxs("h3",{children:["Team Summary  GW",s.currentGameweek]}),p.jsxs("div",{className:"summary-grid",children:[p.jsxs("div",{className:"summary-item featured",children:[p.jsx("span",{className:"summary-value",children:s.gameweekPoints}),p.jsx("span",{className:"summary-label",children:"GW Points"})]}),p.jsxs("div",{className:"summary-item",children:[p.jsx("span",{className:"summary-value",children:s.totalPoints}),p.jsx("span",{className:"summary-label",children:"Total Points"})]}),p.jsxs("div",{className:"summary-item",children:[p.jsxs("span",{className:"summary-value",children:["",s.teamValue,"m"]}),p.jsx("span",{className:"summary-label",children:"Team Value"})]}),p.jsxs("div",{className:"summary-item",children:[p.jsxs("span",{className:"summary-value",children:["",s.moneyInBank,"m"]}),p.jsx("span",{className:"summary-label",children:"In Bank"})]}),p.jsxs("div",{className:"summary-item",children:[p.jsx("span",{className:"summary-value",children:s.overallRank.toLocaleString()}),p.jsx("span",{className:"summary-label",children:"Overall Rank"})]}),p.jsxs("div",{className:"summary-item",children:[p.jsx("span",{className:"summary-value",children:s.transfers.available}),p.jsx("span",{className:"summary-label",children:"Free Transfers"})]})]}),p.jsxs("div",{className:"chips-section",children:[p.jsx("span",{className:"chips-label",children:"Chips Available:"}),p.jsxs("div",{className:"chips-list",children:[s.chips.wildcard&&p.jsx("span",{className:"chip available",children:"Wildcard"}),s.chips.benchBoost&&p.jsx("span",{className:"chip available",children:"Bench Boost"}),s.chips.tripleCaptain&&p.jsx("span",{className:"chip available",children:"Triple Captain"}),s.chips.freeHit&&p.jsx("span",{className:"chip available",children:"Free Hit"}),!s.chips.tripleCaptain&&p.jsx("span",{className:"chip used",children:"Triple Captain"})]})]})]})}function tT({teamData:s,teamLoading:t,teamError:i,teamReload:l}){const[o,u]=pe.useState(null);if(t)return p.jsx(Gl,{message:"Loading your team..."});if(i)return p.jsx(ql,{message:i,onRetry:l});const{players:h,summary:d}=s,g=[...h].sort((_,E)=>L_[_.position]-L_[E.position]);return p.jsxs("div",{className:"my-team",children:[p.jsx(eT,{summary:d}),p.jsxs("div",{className:"players-section",children:[p.jsx("h3",{children:"Your Squad"}),p.jsx("div",{className:"players-grid",children:g.map(_=>p.jsx($b,{player:_,isExpanded:o===_.id,onToggle:()=>u(o===_.id?null:_.id)},_.id))})]})]})}function nT({data:s,maxValue:t,labelKey:i,valueKey:l,compareKey:o}){return p.jsx("div",{className:"bar-chart",children:s.map((u,h)=>p.jsxs("div",{className:"bar-group",children:[p.jsxs("div",{className:"bar-container",children:[o&&p.jsx("div",{className:"bar bar-compare",style:{height:`${u[o]/t*100}%`},title:`Avg: ${u[o]}`}),p.jsx("div",{className:"bar bar-primary",style:{height:`${u[l]/t*100}%`},title:`${u[l]} pts`,children:p.jsx("span",{className:"bar-value",children:u[l]})})]}),p.jsx("span",{className:"bar-label",children:u[i]})]},h))})}function iT({projections:s}){return p.jsxs("div",{className:"projections-table",children:[p.jsxs("div",{className:"table-header",children:[p.jsx("span",{children:"GW"}),p.jsx("span",{children:"Projected"}),p.jsx("span",{children:"Difficulty"})]}),s.map(t=>p.jsxs("div",{className:"table-row",children:[p.jsxs("span",{children:["GW",t.gw]}),p.jsx("span",{className:"projected-value",children:t.projected}),p.jsx("span",{className:`difficulty difficulty-${t.difficulty.toLowerCase()}`,children:t.difficulty})]},t.gw))]})}function sT({league:s}){return p.jsxs("div",{className:"league-standings",children:[p.jsxs("div",{className:"table-header league-header",children:[p.jsx("span",{children:"#"}),p.jsx("span",{children:"Team"}),p.jsx("span",{children:"Pts"})]}),s.standings.map(t=>p.jsxs("div",{className:`table-row league-row ${t.manager==="You"?"my-row":""}`,children:[p.jsx("span",{className:"rank",children:t.rank}),p.jsxs("span",{className:"team-name",children:[t.name,p.jsx("small",{children:t.manager})]}),p.jsx("span",{className:"league-points",children:t.points})]},t.rank))]})}function aT({teamData:s,teamLoading:t,teamError:i,teamReload:l}){const{data:o,loading:u,error:h,reload:d}=Js(Qb),{data:g,loading:_,error:E}=Js(Kb),{data:S,loading:y,error:R}=Js(Wb),L=u||_||t||y,z=h||E||i||R;if(L)return p.jsx(Gl,{message:"Loading performance data..."});if(z)return p.jsx(ql,{message:z,onRetry:d});const{summary:B}=s,Z=Math.max(...o.map($=>Math.max($.points,$.average)))+10,ce=o.reduce(($,Ie)=>$+Ie.points,0),ge=o.reduce(($,Ie)=>$+Ie.average,0),ue=ce-ge;return p.jsxs("div",{className:"points-performance",children:[p.jsxs("div",{className:"metrics-row",children:[p.jsxs("div",{className:"metric-card featured",children:[p.jsx("span",{className:"metric-value",children:B.gameweekPoints}),p.jsxs("span",{className:"metric-label",children:["GW",B.currentGameweek," Points"]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("span",{className:"metric-value",children:B.totalPoints}),p.jsx("span",{className:"metric-label",children:"Total Points"})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("span",{className:"metric-value",children:B.captainPoints}),p.jsx("span",{className:"metric-label",children:"Captain Bonus"})]}),p.jsxs("div",{className:"metric-card",children:[p.jsxs("span",{className:`metric-value ${ue>0?"positive":"negative"}`,children:[ue>0?"+":"",ue]}),p.jsx("span",{className:"metric-label",children:"vs League Avg"})]})]}),p.jsxs("div",{className:"panels-grid",children:[p.jsxs("div",{className:"panel",children:[p.jsx("h3",{children:"Gameweek Trend"}),p.jsxs("div",{className:"chart-legend",children:[p.jsxs("span",{className:"legend-item",children:[p.jsx("span",{className:"legend-dot primary"})," You"]}),p.jsxs("span",{className:"legend-item",children:[p.jsx("span",{className:"legend-dot compare"})," Average"]})]}),p.jsx(nT,{data:o,maxValue:Z,labelKey:"gw",valueKey:"points",compareKey:"average"})]}),p.jsxs("div",{className:"panel",children:[p.jsx("h3",{children:"Upcoming Projections"}),p.jsx(iT,{projections:g})]}),p.jsxs("div",{className:"panel",children:[p.jsx("h3",{children:S.name}),p.jsx(sT,{league:S})]}),p.jsxs("div",{className:"panel",children:[p.jsx("h3",{children:"Rank Progression"}),p.jsx("div",{className:"rank-trend",children:o.map(($,Ie)=>{const Te=(Ie>0?o[Ie-1].rank:$.rank)-$.rank;return p.jsxs("div",{className:"rank-item",children:[p.jsxs("span",{className:"rank-gw",children:["GW",$.gw]}),p.jsx("span",{className:"rank-number",children:$.rank.toLocaleString()}),p.jsx("span",{className:`rank-change ${Te>0?"positive":Te<0?"negative":""}`,children:Te>0?`+${Te.toLocaleString()}`:Te<0?Te.toLocaleString():"-"})]},$.gw)})})]})]})]})}const lT=["All","GKP","DEF","MID","FWD"],rT=[{value:"form",label:"Form"},{value:"totalPoints",label:"Total Pts"},{value:"price-asc",label:"Price (low)"},{value:"price-desc",label:"Price (high)"},{value:"selectedByPercent",label:"Ownership %"}];function U_({label:s,players:t,selected:i,onChange:l,disabledId:o}){return p.jsxs("div",{className:"selector",children:[p.jsx("label",{children:s}),p.jsxs("select",{value:i||"",onChange:u=>l(Number(u.target.value)||null),children:[p.jsx("option",{value:"",children:"Select a player..."}),t.filter(u=>u.id!==o).map(u=>p.jsxs("option",{value:u.id,children:[u.name," (",u.position,") - ",u.clubShort," - ",u.price,"m"]},u.id))]})]})}function z_({player:s,label:t}){if(!s)return null;const i=s.upcomingFixtures?.[0];return p.jsxs("div",{className:"player-stat-card",children:[p.jsxs("div",{className:"stat-card-header",children:[p.jsx("span",{className:"stat-card-label",children:t}),p.jsx("span",{className:`position-badge position-${s.position}`,children:s.position})]}),p.jsx("div",{className:"stat-card-name",children:s.name}),p.jsx("div",{className:"stat-card-club",children:s.club}),p.jsxs("div",{className:"stat-card-stats",children:[p.jsxs("div",{className:"stat-card-item",children:[p.jsx("span",{className:"sc-value",children:s.totalPoints}),p.jsx("span",{className:"sc-label",children:"Pts"})]}),p.jsxs("div",{className:"stat-card-item",children:[p.jsx("span",{className:"sc-value",children:s.form}),p.jsx("span",{className:"sc-label",children:"Form"})]}),p.jsxs("div",{className:"stat-card-item",children:[p.jsxs("span",{className:"sc-value",children:["",s.price,"m"]}),p.jsx("span",{className:"sc-label",children:"Price"})]}),p.jsxs("div",{className:"stat-card-item",children:[i?p.jsx("span",{className:`sc-value fixture-badge fdr-${i.difficulty}`,children:i.opponent}):p.jsx("span",{className:"sc-value",children:"-"}),p.jsx("span",{className:"sc-label",children:"Next"})]})]})]})}function oT({playerOut:s,playerIn:t,gameweeks:i}){const l=s.upcomingFixtures?.slice(0,i)||[],o=t.upcomingFixtures?.slice(0,i)||[],u=[...new Set([...l.map(g=>g.gw),...o.map(g=>g.gw)])].sort((g,_)=>g-_),h=Object.fromEntries(l.map(g=>[g.gw,g])),d=Object.fromEntries(o.map(g=>[g.gw,g]));return p.jsxs("div",{className:"fixture-comparison",children:[p.jsx("h4",{children:"Fixture Comparison"}),p.jsxs("div",{className:"fixture-table",children:[p.jsxs("div",{className:"fixture-row header three-col",children:[p.jsx("span",{children:s.name}),p.jsx("span",{children:"GW"}),p.jsx("span",{children:t.name})]}),u.map(g=>{const _=h[g],E=d[g];return p.jsxs("div",{className:"fixture-row three-col",children:[p.jsx("span",{className:_?`fixture-badge fdr-${_.difficulty}`:"fixture-blank",children:_?_.opponent:"-"}),p.jsxs("span",{className:"fixture-gw",children:["GW",g]}),p.jsx("span",{className:E?`fixture-badge fdr-${E.difficulty}`:"fixture-blank",children:E?E.opponent:"-"})]},g)})]})]})}function cT({result:s,playerOut:t,playerIn:i}){const l=s.recommendation==="Strong Buy"?"strong-buy":s.recommendation==="Avoid"?"avoid":"neutral";return p.jsxs("div",{className:"trade-result",children:[p.jsx("div",{className:`recommendation-badge ${l}`,children:s.recommendation}),p.jsxs("div",{className:"result-metrics",children:[p.jsxs("div",{className:"result-metric",children:[p.jsx("span",{className:"result-label",children:"Projected Points Diff"}),p.jsxs("span",{className:`result-value ${s.pointsDiff>0?"positive":s.pointsDiff<0?"negative":""}`,children:[s.pointsDiff>0?"+":"",s.pointsDiff]})]}),p.jsxs("div",{className:"result-metric",children:[p.jsx("span",{className:"result-label",children:"Form Comparison"}),p.jsxs("span",{className:`result-value ${Number(s.formDiff)>0?"positive":Number(s.formDiff)<0?"negative":""}`,children:[Number(s.formDiff)>0?"+":"",s.formDiff]})]}),p.jsxs("div",{className:"result-metric",children:[p.jsx("span",{className:"result-label",children:"Price Impact"}),p.jsxs("span",{className:`result-value ${Number(s.priceDiff)<0?"positive":Number(s.priceDiff)>0?"negative":""}`,children:[Number(s.priceDiff)>0?"+":"","",s.priceDiff,"m"]})]}),p.jsxs("div",{className:"result-metric",children:[p.jsx("span",{className:"result-label",children:"Fixture Swing"}),p.jsxs("span",{className:`result-value ${Number(s.fixtureDiff)>0?"positive":Number(s.fixtureDiff)<0?"negative":""}`,children:[Number(s.fixtureDiff)>0?"+":"",s.fixtureDiff]})]}),p.jsxs("div",{className:"result-metric",children:[p.jsx("span",{className:"result-label",children:"Risk Rating"}),p.jsx("span",{className:`risk-badge risk-${s.riskLevel.toLowerCase()}`,children:s.riskLevel})]})]}),p.jsxs("div",{className:"points-projection",children:[p.jsxs("div",{className:"projection-bar",children:[p.jsx("span",{className:"proj-label",children:t.name}),p.jsx("div",{className:"proj-track",children:p.jsxs("div",{className:"proj-fill out",style:{width:`${s.outProjected/Math.max(s.outProjected,s.inProjected)*100}%`},children:[s.outProjected," pts"]})})]}),p.jsxs("div",{className:"projection-bar",children:[p.jsx("span",{className:"proj-label",children:i.name}),p.jsx("div",{className:"proj-track",children:p.jsxs("div",{className:"proj-fill in",style:{width:`${s.inProjected/Math.max(s.outProjected,s.inProjected)*100}%`},children:[s.inProjected," pts"]})})]})]}),p.jsxs("div",{className:"ai-explanation",children:[p.jsx("div",{className:"explanation-header",children:"Analysis"}),p.jsx("p",{children:s.explanation})]})]})}function uT({teamData:s,teamLoading:t,teamError:i,teamReload:l}){const[o,u]=pe.useState(null),[h,d]=pe.useState(null),[g,_]=pe.useState(3),[E,S]=pe.useState("All"),[y,R]=pe.useState(""),[L,z]=pe.useState("form"),{data:B,loading:Z,error:ce}=Js(Xb),ge=t||Z,ue=i||ce,$=pe.useMemo(()=>s?.players.find(ie=>ie.id===o),[s,o]),Ie=pe.useMemo(()=>{if(!B)return[];let ie=B;if(E!=="All"&&(ie=ie.filter(Ee=>Ee.position===E)),y){const Ee=parseFloat(y);isNaN(Ee)||(ie=ie.filter(Je=>Je.price<=Ee))}const Qe=[...ie];switch(L){case"form":Qe.sort((Ee,Je)=>Je.form-Ee.form);break;case"totalPoints":Qe.sort((Ee,Je)=>Je.totalPoints-Ee.totalPoints);break;case"price-asc":Qe.sort((Ee,Je)=>Ee.price-Je.price);break;case"price-desc":Qe.sort((Ee,Je)=>Je.price-Ee.price);break;case"selectedByPercent":Qe.sort((Ee,Je)=>Je.selectedByPercent-Ee.selectedByPercent);break}return Qe},[B,E,y,L]),X=pe.useMemo(()=>B?.find(ie=>ie.id===h),[B,h]),Te=pe.useMemo(()=>!$||!X?null:Jb($,X,g),[$,X,g]);function pt(ie){if(u(ie),ie&&s){const Qe=s.players.find(Ee=>Ee.id===ie);Qe&&S(Qe.position)}}return ge?p.jsx(Gl,{message:"Loading trade data..."}):ue?p.jsx(ql,{message:ue,onRetry:l}):p.jsxs("div",{className:"trade-analyzer",children:[p.jsxs("div",{className:"trade-controls",children:[p.jsxs("div",{className:"controls-card",children:[p.jsx("h3",{children:"Transfer Setup"}),p.jsx(U_,{label:"Transfer Out",players:s.players,selected:o,onChange:pt}),p.jsxs("div",{className:"filter-bar",children:[p.jsxs("div",{className:"filter-group",children:[p.jsx("label",{children:"Position"}),p.jsx("div",{className:"filter-buttons",children:lT.map(ie=>p.jsx("button",{className:`filter-btn ${E===ie?"active":""}`,onClick:()=>S(ie),children:ie},ie))})]}),p.jsxs("div",{className:"filter-row",children:[p.jsxs("div",{className:"filter-group filter-group-sm",children:[p.jsx("label",{children:"Max Price"}),p.jsx("input",{type:"number",className:"filter-input",placeholder:"e.g. 8.0",step:"0.5",min:"3.5",max:"15",value:y,onChange:ie=>R(ie.target.value)})]}),p.jsxs("div",{className:"filter-group filter-group-sm",children:[p.jsx("label",{children:"Sort By"}),p.jsx("select",{className:"filter-select",value:L,onChange:ie=>z(ie.target.value),children:rT.map(ie=>p.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]})]}),p.jsx(U_,{label:`Transfer In (${Ie.length} players)`,players:Ie,selected:h,onChange:d}),p.jsxs("div",{className:"gameweeks-selector",children:[p.jsx("label",{children:"Gameweeks to Analyze"}),p.jsx("div",{className:"gw-buttons",children:[1,2,3,4,5].map(ie=>p.jsx("button",{className:`gw-btn ${g===ie?"active":""}`,onClick:()=>_(ie),children:ie},ie))})]})]}),p.jsx("div",{className:"stat-cards-column",children:$||X?p.jsxs(p.Fragment,{children:[p.jsx(z_,{player:$,label:"OUT"}),$&&X&&p.jsx("div",{className:"versus-icon",children:"vs"}),p.jsx(z_,{player:X,label:"IN"})]}):p.jsxs("div",{className:"versus-card",children:[p.jsx("div",{className:"placeholder-icon",children:""}),p.jsx("p",{className:"versus-detail",children:"Select players to compare stats"})]})})]}),Te&&p.jsxs("div",{className:"trade-results",children:[p.jsx(cT,{result:Te,playerOut:$,playerIn:X}),p.jsx(oT,{playerOut:$,playerIn:X,gameweeks:g})]}),!o&&!h&&p.jsxs("div",{className:"trade-placeholder",children:[p.jsx("div",{className:"placeholder-icon",children:""}),p.jsx("p",{children:"Select players above to analyze a potential transfer"})]})]})}function fT(s){return s?new Date(s).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""}function hT(s){return s?new Date(s).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"TBD"}function dT({match:s}){return p.jsxs("div",{className:"match-row",children:[p.jsxs("div",{className:"match-team home",children:[p.jsx("span",{className:"team-full",children:s.homeTeam}),p.jsx("span",{className:"team-short",children:s.homeShort}),p.jsx("span",{className:`fdr-badge fdr-${s.homeDifficulty}`,children:s.homeDifficulty})]}),p.jsx("div",{className:"match-vs",children:"vs"}),p.jsxs("div",{className:"match-team away",children:[p.jsx("span",{className:`fdr-badge fdr-${s.awayDifficulty}`,children:s.awayDifficulty}),p.jsx("span",{className:"team-full",children:s.awayTeam}),p.jsx("span",{className:"team-short",children:s.awayShort})]}),p.jsx("div",{className:"match-kickoff",children:hT(s.kickoff)})]})}function mT({pick:s}){return p.jsxs("div",{className:"pick-card",children:[p.jsxs("div",{className:"pick-top",children:[p.jsx("span",{className:`pick-pos position-badge position-${s.position}`,children:s.position}),p.jsxs("span",{className:"pick-price",children:["",s.price,"m"]})]}),p.jsx("div",{className:"pick-name",children:s.name}),p.jsx("div",{className:"pick-club",children:s.club}),p.jsxs("div",{className:"pick-details",children:[p.jsxs("div",{className:"pick-stat",children:[p.jsx("span",{className:"pick-stat-value",children:s.form}),p.jsx("span",{className:"pick-stat-label",children:"Form"})]}),p.jsxs("div",{className:"pick-stat",children:[p.jsx("span",{className:"pick-stat-value",children:s.totalPoints}),p.jsx("span",{className:"pick-stat-label",children:"Pts"})]}),p.jsxs("div",{className:"pick-stat",children:[p.jsx("span",{className:`pick-stat-value fixture-badge fdr-${s.difficulty}`,children:s.opponent}),p.jsx("span",{className:"pick-stat-label",children:"Fix"})]})]})]})}function pT({picks:s}){return!s||s.length===0?null:p.jsxs("div",{className:"picks-section",children:[p.jsxs("div",{className:"picks-header",children:[p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),p.jsx("span",{children:"Recommended Picks"})]}),p.jsx("div",{className:"picks-grid",children:s.map(t=>p.jsx(mT,{pick:t},t.id))})]})}function gT({gw:s,isActive:t,onToggle:i}){return p.jsxs("div",{className:`gw-card ${t?"expanded":""}`,children:[p.jsxs("button",{className:"gw-card-header",onClick:i,children:[p.jsxs("div",{className:"gw-title",children:[p.jsxs("span",{className:"gw-number",children:["GW",s.gw]}),p.jsxs("span",{className:"gw-match-count",children:[s.matches.length," match",s.matches.length!==1?"es":""]})]}),p.jsxs("div",{className:"gw-meta",children:[s.deadline&&p.jsxs("span",{className:"gw-deadline",children:["Deadline: ",fT(s.deadline)]}),p.jsx("span",{className:`gw-chevron ${t?"open":""}`,children:p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),t&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"gw-matches",children:s.matches.map(l=>p.jsx(dT,{match:l},l.id))}),p.jsx(pT,{picks:s.picks})]})]})}function _T(){const{data:s,loading:t,error:i,reload:l}=Js(Zb),[o,u]=pe.useState(null);if(t)return p.jsx(Gl,{message:"Loading fixtures..."});if(i)return p.jsx(ql,{message:i,onRetry:l});const h=o??s[0]?.gw;return p.jsxs("div",{className:"fixtures",children:[p.jsxs("div",{className:"fixtures-header",children:[p.jsx("h3",{children:"Upcoming Fixtures"}),p.jsxs("div",{className:"fdr-legend",children:[p.jsx("span",{className:"legend-label",children:"FDR:"}),[1,2,3,4,5].map(d=>p.jsx("span",{className:`fdr-badge fdr-${d}`,children:d},d))]})]}),p.jsx("div",{className:"gw-list",children:s.map(d=>p.jsx(gT,{gw:d,isActive:h===d.gw,onToggle:()=>u(h===d.gw?null:d.gw)},d.gw))})]})}function vT(s){const t={DEF:0,MID:0,FWD:0};for(const i of s)t[i.position]!==void 0&&t[i.position]++;return`${t.DEF}-${t.MID}-${t.FWD}`}function yT(s){const t={GKP:[],DEF:[],MID:[],FWD:[]};for(const i of s)t[i.position]?.push(i);return t}function To({player:s,isSelected:t,onSelect:i}){return p.jsxs("div",{className:`pitch-player ${t?"selected":""}`,onClick:()=>i(s),children:[p.jsxs("div",{className:`pitch-shirt position-shirt-${s.position}`,children:[s.isCaptain&&p.jsx("span",{className:"pitch-armband",children:"C"}),s.isViceCaptain&&p.jsx("span",{className:"pitch-armband vc",children:"V"})]}),p.jsx("div",{className:"pitch-player-name",children:s.name}),p.jsxs("div",{className:"pitch-player-pts",children:[s.gameweekPoints," pts"]})]})}function ET({player:s,onClose:t}){if(!s)return null;const i=s.form>=7?"positive":s.form<=4?"negative":"";return p.jsxs("div",{className:"formation-detail",children:[p.jsxs("div",{className:"formation-detail-header",children:[p.jsxs("div",{children:[p.jsx("span",{className:`position-badge position-${s.position}`,children:s.position}),p.jsx("span",{className:"detail-player-name",children:s.name}),s.isCaptain&&p.jsx("span",{className:"badge captain",children:"C"}),s.isViceCaptain&&p.jsx("span",{className:"badge vice-captain",children:"V"})]}),p.jsx("button",{className:"detail-close",onClick:t,children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),p.jsx("div",{className:"detail-club",children:s.club}),p.jsxs("div",{className:"detail-stats-grid",children:[p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"detail-stat-value highlight",children:s.gameweekPoints}),p.jsx("span",{className:"detail-stat-label",children:"GW Pts"})]}),p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"detail-stat-value",children:s.totalPoints}),p.jsx("span",{className:"detail-stat-label",children:"Total"})]}),p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:`detail-stat-value ${i}`,children:s.form}),p.jsx("span",{className:"detail-stat-label",children:"Form"})]}),p.jsxs("div",{className:"detail-stat",children:[p.jsxs("span",{className:"detail-stat-value",children:["",s.price,"m"]}),p.jsx("span",{className:"detail-stat-label",children:"Price"})]})]}),s.upcomingFixtures?.length>0&&p.jsxs("div",{className:"detail-fixtures",children:[p.jsx("div",{className:"detail-fixtures-label",children:"Upcoming"}),p.jsx("div",{className:"detail-fixture-chips",children:s.upcomingFixtures.slice(0,5).map(l=>p.jsx("span",{className:`detail-fixture-chip fdr-${l.difficulty}`,children:l.opponent},l.gw))})]})]})}function ST({teamData:s,teamLoading:t,teamError:i,teamReload:l}){const[o,u]=pe.useState(null);if(t)return p.jsx(Gl,{message:"Loading formation..."});if(i)return p.jsx(ql,{message:i,onRetry:l});const{players:h,summary:d}=s,g=vT(h),_=yT(h);return p.jsxs("div",{className:"formation-view",children:[p.jsxs("div",{className:"formation-header",children:[p.jsxs("h3",{children:["Formation  ",g]}),p.jsxs("span",{className:"formation-gw",children:["GW",d.currentGameweek]})]}),p.jsx("div",{className:"pitch",children:p.jsxs("div",{className:"pitch-surface",children:[p.jsx("div",{className:"pitch-marking center-circle"}),p.jsx("div",{className:"pitch-marking center-line"}),p.jsx("div",{className:"pitch-marking penalty-box top"}),p.jsx("div",{className:"pitch-marking penalty-box bottom"}),p.jsx("div",{className:"pitch-row fwd-row",children:_.FWD.map(E=>p.jsx(To,{player:E,isSelected:o?.id===E.id,onSelect:u},E.id))}),p.jsx("div",{className:"pitch-row mid-row",children:_.MID.map(E=>p.jsx(To,{player:E,isSelected:o?.id===E.id,onSelect:u},E.id))}),p.jsx("div",{className:"pitch-row def-row",children:_.DEF.map(E=>p.jsx(To,{player:E,isSelected:o?.id===E.id,onSelect:u},E.id))}),p.jsx("div",{className:"pitch-row gk-row",children:_.GKP.map(E=>p.jsx(To,{player:E,isSelected:o?.id===E.id,onSelect:u},E.id))})]})}),p.jsx(ET,{player:o,onClose:()=>u(null)})]})}const bT=()=>{};var H_={};const Jv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const U=function(s,t){if(!s)throw ha(t)},ha=function(s){return new Error("Firebase Database ("+Jv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const $v=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},TT=function(s){const t=[];let i=0,l=0;for(;i<s.length;){const o=s[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[l++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],h=s[i++],d=s[i++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],h=s[i++];t[l++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Rh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,d=h?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,E=u>>2,S=(u&3)<<4|d>>4;let y=(d&15)<<2|_>>6,R=_&63;g||(R=64,h||(y=64)),l.push(i[E],i[S],i[y],i[R])}return l.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray($v(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):TT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||_==null||S==null)throw new CT;const y=u<<2|d>>4;if(l.push(y),_!==64){const R=d<<4&240|_>>2;if(l.push(R),S!==64){const L=_<<6&192|S;l.push(L)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ey=function(s){const t=$v(s);return Rh.encodeByteArray(t,!0)},jo=function(s){return ey(s).replace(/\./g,"")},ko=function(s){try{return Rh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NT(s){return ty(void 0,s)}function ty(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!wT(i)||(s[i]=ty(s[i],t[i]));return s}function wT(s){return s!=="__proto__"}function AT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xT=()=>AT().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof H_>"u")return;const s=H_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ko(s[1]);return t&&JSON.parse(t)},Dh=()=>{try{return bT()||xT()||RT()||DT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ny=s=>Dh()?.emulatorHosts?.[s],OT=s=>{const t=ny(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},iy=()=>Dh()?.config,sy=s=>Dh()?.[`_${s}`];class Vl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function da(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ay(s){return(await fetch(s,{credentials:"include"})).ok}function IT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[jo(JSON.stringify(i)),jo(JSON.stringify(h)),""].join(".")}const Sl={};function MT(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function jT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let P_=!1;function ly(s,t){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||Sl[s]===t||Sl[s]||P_)return;Sl[s]=t;function i(y){return`__firebase__banner__${y}`}const l="__firebase__banner",u=MT().prod.length>0;function h(){const y=document.getElementById(l);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function g(y,R){y.setAttribute("width","24"),y.setAttribute("id",R),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function _(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{P_=!0,h()},y}function E(y,R){y.setAttribute("id",R),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function S(){const y=jT(l),R=i("text"),L=document.getElementById(R)||document.createElement("span"),z=i("learnmore"),B=document.getElementById(z)||document.createElement("a"),Z=i("preprendIcon"),ce=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const ge=y.element;d(ge),E(B,z);const ue=_();g(ce,Z),ge.append(ce,L,B,ue),document.body.appendChild(ge)}u?(L.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function kT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ry(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UT(){const s=Et();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function zT(){return Jv.NODE_ADMIN===!0}function HT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((s,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const BT="FirebaseError";class Ri extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=BT,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?GT(u,l):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ri(o,d,l)}}function GT(s,t){return s.replace(qT,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const qT=/\{\$([^}]+)}/g;function xl(s){return JSON.parse(s)}function tt(s){return JSON.stringify(s)}const oy=function(s){let t={},i={},l={},o="";try{const u=s.split(".");t=xl(ko(u[0])||""),i=xl(ko(u[1])||""),o=u[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},VT=function(s){const t=oy(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},FT=function(s){const t=oy(s).claims;return typeof t=="object"&&t.admin===!0};function mn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function sa(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function sh(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Lo(s,t,i){const l={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=t.call(i,s[o],o,s));return l}function $i(s,t){if(s===t)return!0;const i=Object.keys(s),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const u=s[o],h=t[o];if(B_(u)&&B_(h)){if(!$i(u,h))return!1}else if(u!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function B_(s){return s!==null&&typeof s=="object"}function ma(s){const t=[];for(const[i,l]of Object.entries(s))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}function yl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(l=>{if(l){const[o,u]=l.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function El(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}class YT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let S=0;S<16;S++)l[S]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let S=0;S<16;S++)l[S]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let S=16;S<80;S++){const y=l[S-3]^l[S-8]^l[S-14]^l[S-16];l[S]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],d=this.chain_[3],g=this.chain_[4],_,E;for(let S=0;S<80;S++){S<40?S<20?(_=d^u&(h^d),E=1518500249):(_=u^h^d,E=1859775393):S<60?(_=u&h|d&(u|h),E=2400959708):(_=u^h^d,E=3395469782);const y=(o<<5|o>>>27)+_+g+E+l[S]&4294967295;g=d,d=h,h=(u<<30|u>>>2)&4294967295,u=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[l]=this.chain_[o]>>u&255,++l;return t}}function QT(s,t){const i=new KT(s,t);return i.subscribe.bind(i)}class KT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");XT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Vf),o.error===void 0&&(o.error=Vf),o.complete===void 0&&(o.complete=Vf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XT(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vf(){}function ic(s,t){return`${s} failed: ${t} argument `}const WT=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);if(o>=55296&&o<=56319){const u=o-55296;l++,U(l<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(l)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},sc=function(s){let t=0;for(let i=0;i<s.length;i++){const l=s.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function mt(s){return s&&s._delegate?s._delegate:s}class es{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Wi="[DEFAULT]";class ZT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Vl;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($T(t))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});l.resolve(u)}catch{}}}}clearInstance(t=Wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wi){return this.instances.has(t)}getOptions(t=Wi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);l===d&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const u=this.instances.get(l);return u&&t(u,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:JT(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Wi){return this.component?this.component.multipleInstances?t:Wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JT(s){return s===Wi?void 0:s}function $T(s){return s.instantiationMode==="EAGER"}class e1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ZT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const t1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},n1=De.INFO,i1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},s1=(s,t,...i)=>{if(t<s.logLevel)return;const l=new Date().toISOString(),o=i1[t];if(o)console[o](`[${l}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ih{constructor(t){this.name=t,this._logLevel=n1,this._logHandler=s1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in De))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...t),this._logHandler(this,De.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...t),this._logHandler(this,De.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,De.INFO,...t),this._logHandler(this,De.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,De.WARN,...t),this._logHandler(this,De.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...t),this._logHandler(this,De.ERROR,...t)}}const a1=(s,t)=>t.some(i=>s instanceof i);let G_,q_;function l1(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r1(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cy=new WeakMap,ah=new WeakMap,uy=new WeakMap,Ff=new WeakMap,Mh=new WeakMap;function o1(s){const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(Si(s.result)),o()},h=()=>{l(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&cy.set(i,s)}).catch(()=>{}),Mh.set(t,s),t}function c1(s){if(ah.has(s))return;const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{l(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});ah.set(s,t)}let lh={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return ah.get(s);if(t==="objectStoreNames")return s.objectStoreNames||uy.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Si(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function u1(s){lh=s(lh)}function f1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=s.call(Yf(this),t,...i);return uy.set(l,t.sort?t.sort():[t]),Si(l)}:r1().includes(s)?function(...t){return s.apply(Yf(this),t),Si(cy.get(this))}:function(...t){return Si(s.apply(Yf(this),t))}}function h1(s){return typeof s=="function"?f1(s):(s instanceof IDBTransaction&&c1(s),a1(s,l1())?new Proxy(s,lh):s)}function Si(s){if(s instanceof IDBRequest)return o1(s);if(Ff.has(s))return Ff.get(s);const t=h1(s);return t!==s&&(Ff.set(s,t),Mh.set(t,s)),t}const Yf=s=>Mh.get(s);function d1(s,t,{blocked:i,upgrade:l,blocking:o,terminated:u}={}){const h=indexedDB.open(s,t),d=Si(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Si(h.result),g.oldVersion,g.newVersion,Si(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const m1=["get","getKey","getAll","getAllKeys","count"],p1=["put","add","delete","clear"],Qf=new Map;function V_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Qf.get(t))return Qf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=p1.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||m1.includes(i)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return l&&(_=_.index(d.shift())),(await Promise.all([_[i](...d),o&&g.done]))[0]};return Qf.set(t,u),u}u1(s=>({...s,get:(t,i,l)=>V_(t,i)||s.get(t,i,l),has:(t,i)=>!!V_(t,i)||s.has(t,i)}));class g1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_1(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function _1(s){return s.getComponent()?.type==="VERSION"}const rh="@firebase/app",F_="0.14.8";const Hn=new Ih("@firebase/app"),v1="@firebase/app-compat",y1="@firebase/analytics-compat",E1="@firebase/analytics",S1="@firebase/app-check-compat",b1="@firebase/app-check",T1="@firebase/auth",C1="@firebase/auth-compat",N1="@firebase/database",w1="@firebase/data-connect",A1="@firebase/database-compat",x1="@firebase/functions",R1="@firebase/functions-compat",D1="@firebase/installations",O1="@firebase/installations-compat",I1="@firebase/messaging",M1="@firebase/messaging-compat",j1="@firebase/performance",k1="@firebase/performance-compat",L1="@firebase/remote-config",U1="@firebase/remote-config-compat",z1="@firebase/storage",H1="@firebase/storage-compat",P1="@firebase/firestore",B1="@firebase/ai",G1="@firebase/firestore-compat",q1="firebase",V1="12.9.0";const oh="[DEFAULT]",F1={[rh]:"fire-core",[v1]:"fire-core-compat",[E1]:"fire-analytics",[y1]:"fire-analytics-compat",[b1]:"fire-app-check",[S1]:"fire-app-check-compat",[T1]:"fire-auth",[C1]:"fire-auth-compat",[N1]:"fire-rtdb",[w1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[x1]:"fire-fn",[R1]:"fire-fn-compat",[D1]:"fire-iid",[O1]:"fire-iid-compat",[I1]:"fire-fcm",[M1]:"fire-fcm-compat",[j1]:"fire-perf",[k1]:"fire-perf-compat",[L1]:"fire-rc",[U1]:"fire-rc-compat",[z1]:"fire-gcs",[H1]:"fire-gcs-compat",[P1]:"fire-fst",[G1]:"fire-fst-compat",[B1]:"fire-vertex","fire-js":"fire-js",[q1]:"fire-js-all"};const Uo=new Map,Y1=new Map,ch=new Map;function Y_(s,t){try{s.container.addComponent(t)}catch(i){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function aa(s){const t=s.name;if(ch.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;ch.set(t,s);for(const i of Uo.values())Y_(i,s);for(const i of Y1.values())Y_(i,s);return!0}function jh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Xt(s){return s==null?!1:s.settings!==void 0}const Q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Fl("app","Firebase",Q1);class K1{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}const pa=V1;function fy(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const l={name:oh,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(i||(i=iy()),!i)throw bi.create("no-options");const u=Uo.get(o);if(u){if($i(i,u.options)&&$i(l,u.config))return u;throw bi.create("duplicate-app",{appName:o})}const h=new e1(o);for(const g of ch.values())h.addComponent(g);const d=new K1(i,l,h);return Uo.set(o,d),d}function hy(s=oh){const t=Uo.get(s);if(!t&&s===oh&&iy())return fy();if(!t)throw bi.create("no-app",{appName:s});return t}function Ti(s,t,i){let l=F1[s]??s;i&&(l+=`-${i}`);const o=l.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(h.join(" "));return}aa(new es(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const X1="firebase-heartbeat-database",W1=1,Rl="firebase-heartbeat-store";let Kf=null;function dy(){return Kf||(Kf=d1(X1,W1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw bi.create("idb-open",{originalErrorMessage:s.message})})),Kf}async function Z1(s){try{const i=(await dy()).transaction(Rl),l=await i.objectStore(Rl).get(my(s));return await i.done,l}catch(t){if(t instanceof Ri)Hn.warn(t.message);else{const i=bi.create("idb-get",{originalErrorMessage:t?.message});Hn.warn(i.message)}}}async function Q_(s,t){try{const l=(await dy()).transaction(Rl,"readwrite");await l.objectStore(Rl).put(t,my(s)),await l.done}catch(i){if(i instanceof Ri)Hn.warn(i.message);else{const l=bi.create("idb-set",{originalErrorMessage:i?.message});Hn.warn(l.message)}}}function my(s){return`${s.name}!${s.options.appId}`}const J1=1024,$1=30;class eC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nC(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>$1){const o=iC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:l}=tC(this._heartbeatsCache.heartbeats),o=jo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hn.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function tC(s,t=J1){const i=[];let l=s.slice();for(const o of s){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),X_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class nC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function X_(s){return jo(JSON.stringify({version:2,heartbeats:s})).length}function iC(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let l=1;l<s.length;l++)s[l].date<i&&(i=s[l].date,t=l);return t}function sC(s){aa(new es("platform-logger",t=>new g1(t),"PRIVATE")),aa(new es("heartbeat",t=>new eC(t),"PRIVATE")),Ti(rh,F_,s),Ti(rh,F_,"esm2020"),Ti("fire-js","")}sC("");var W_={};const Z_="@firebase/database",J_="1.1.0";let py="";function aC(s){py=s}class lC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:xl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class rC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return mn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const gy=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lC(t)}}catch{}return new rC},Ji=gy("localStorage"),oC=gy("sessionStorage");const $s=new Ih("@firebase/database"),cC=(function(){let s=1;return function(){return s++}})(),_y=function(s){const t=WT(s),i=new YT;i.update(t);const l=i.digest();return Rh.encodeByteArray(l)},Yl=function(...s){let t="";for(let i=0;i<s.length;i++){const l=s[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Yl.apply(null,l):typeof l=="object"?t+=tt(l):t+=l,t+=" "}return t};let bl=null,$_=!0;const uC=function(s,t){U(!0,"Can't turn on custom loggers persistently."),$s.logLevel=De.VERBOSE,bl=$s.log.bind($s)},ft=function(...s){if($_===!0&&($_=!1,bl===null&&oC.get("logging_enabled")===!0&&uC()),bl){const t=Yl.apply(null,s);bl(t)}},Ql=function(s){return function(...t){ft(s,...t)}},uh=function(...s){const t="FIREBASE INTERNAL ERROR: "+Yl(...s);$s.error(t)},Pn=function(...s){const t=`FIREBASE FATAL ERROR: ${Yl(...s)}`;throw $s.error(t),new Error(t)},yt=function(...s){const t="FIREBASE WARNING: "+Yl(...s);$s.warn(t)},fC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kh=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},hC=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},la="[MIN_NAME]",ts="[MAX_NAME]",rs=function(s,t){if(s===t)return 0;if(s===la||t===ts)return-1;if(t===la||s===ts)return 1;{const i=ev(s),l=ev(t);return i!==null?l!==null?i-l===0?s.length-t.length:i-l:-1:l!==null?1:s<t?-1:1}},dC=function(s,t){return s===t?0:s<t?-1:1},pl=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+tt(t))},Lh=function(s){if(typeof s!="object"||s===null)return tt(s);const t=[];for(const l in s)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=tt(t[l]),i+=":",i+=Lh(s[t[l]]);return i+="}",i},vy=function(s,t){const i=s.length;if(i<=t)return[s];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(s.substring(o,i)):l.push(s.substring(o,o+t));return l};function ht(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const yy=function(s){U(!kh(s),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,u,h,d,g;s===0?(u=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-l)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),l),u=d+l,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-l-i))));const _=[];for(g=i;g;g-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)_.push(u%2?1:0),u=Math.floor(u/2);_.push(o?1:0),_.reverse();const E=_.join("");let S="";for(g=0;g<64;g+=8){let y=parseInt(E.substr(g,8),2).toString(16);y.length===1&&(y="0"+y),S=S+y}return S.toLowerCase()},mC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gC(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const l=new Error(s+" at "+t._path.toString()+": "+i);return l.code=s.toUpperCase(),l}const _C=new RegExp("^-?(0*)\\d{1,10}$"),vC=-2147483648,yC=2147483647,ev=function(s){if(_C.test(s)){const t=Number(s);if(t>=vC&&t<=yC)return t}return null},ga=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw yt("Exception was thrown by user callback.",i),t},Math.floor(0))}},EC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tl=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class SC{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Xt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bC{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(t)}}class Ao{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ao.OWNER="owner";const Uh="5",Ey="v",Sy="s",by="r",Ty="f",Cy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ny="ls",wy="p",fh="ac",Ay="websocket",xy="long_polling";class Ry{constructor(t,i,l,o,u=!1,h="",d=!1,g=!1,_=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=g,this.emulatorOptions=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function TC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Dy(s,t,i){U(typeof t=="string","typeof type must == string"),U(typeof i=="object","typeof params must == object");let l;if(t===Ay)l=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===xy)l=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);TC(s)&&(i.ns=s.namespace);const o=[];return ht(i,(u,h)=>{o.push(u+"="+h)}),l+o.join("&")}class CC{constructor(){this.counters_={}}incrementCounter(t,i=1){mn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return NT(this.counters_)}}const Xf={},Wf={};function zh(s){const t=s.toString();return Xf[t]||(Xf[t]=new CC),Xf[t]}function NC(s,t){const i=s.toString();return Wf[i]||(Wf[i]=t()),Wf[i]}class wC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ga(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const tv="start",AC="close",xC="pLPCommand",RC="pRTLPCB",Oy="id",Iy="pw",My="ser",DC="cb",OC="seg",IC="ts",MC="d",jC="dframe",jy=1870,ky=30,kC=jy-ky,LC=25e3,UC=3e4;class Ws{constructor(t,i,l,o,u,h,d){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ql(t),this.stats_=zh(i),this.urlFn=g=>(this.appCheckToken&&(g[fh]=this.appCheckToken),Dy(i,xy,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new wC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UC)),hC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hh((...u)=>{const[h,d,g,_,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===tv)this.id=d,this.password=g;else if(h===AC)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const l={};l[tv]="t",l[My]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[DC]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Ey]=Uh,this.transportSessionId&&(l[Sy]=this.transportSessionId),this.lastSessionId&&(l[Ny]=this.lastSessionId),this.applicationId&&(l[wy]=this.applicationId),this.appCheckToken&&(l[fh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cy.test(location.hostname)&&(l[by]=Ty);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mC()&&!pC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ey(i),o=vy(l,kC);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[jC]="t",l[Oy]=t,l[Iy]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=tt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Hh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cC(),window[xC+this.uniqueCallbackIdentifier]=t,window[RC+this.uniqueCallbackIdentifier]=i,this.myIFrame=Hh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){ft("frame writing exception"),d.stack&&ft(d.stack),ft(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ft("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Oy]=this.myID,t[Iy]=this.myPW,t[My]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ky+l.length<=jy;){const h=this.pendingSegs.shift();l=l+"&"+OC+o+"="+h.seg+"&"+IC+o+"="+h.ts+"&"+MC+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(LC)),u=()=>{clearTimeout(o),l()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{ft("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const zC=16384,HC=45e3;let zo=null;typeof MozWebSocket<"u"?zo=MozWebSocket:typeof WebSocket<"u"&&(zo=WebSocket);class nn{constructor(t,i,l,o,u,h,d){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ql(this.connId),this.stats_=zh(i),this.connURL=nn.connectionURL_(i,h,d,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,u){const h={};return h[Ey]=Uh,typeof location<"u"&&location.hostname&&Cy.test(location.hostname)&&(h[by]=Ty),i&&(h[Sy]=i),l&&(h[Ny]=l),o&&(h[fh]=o),u&&(h[wy]=u),Dy(t,Ay,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let l;zT(),this.mySock=new zo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&zo!==null&&!nn.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=xl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(U(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=vy(i,zC);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HC))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;class Dl{static get ALL_TRANSPORTS(){return[Ws,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=nn&&nn.isAvailable();let l=i&&!nn.previouslyFailed();if(t.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[nn];else{const o=this.transports_=[];for(const u of Dl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Dl.globalTransportInitialized_=!1;const PC=6e4,BC=5e3,GC=10*1024,qC=100*1024,Zf="t",nv="d",VC="s",iv="r",FC="e",sv="o",av="a",lv="n",rv="p",YC="h";class QC{constructor(t,i,l,o,u,h,d,g,_,E){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=g,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ql("c:"+this.id+":"),this.transportManager_=new Dl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Tl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Zf in t){const i=t[Zf];i===av?this.upgradeIfSecondaryHealthy_():i===iv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===sv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=pl("t",t),l=pl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:av,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=pl("t",t),l=pl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=pl(Zf,t);if(nv in t){const l=t[nv];if(i===YC){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===lv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===VC?this.onConnectionShutdown_(l):i===iv?this.onReset_(l):i===FC?uh("Server Error: "+l):i===sv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Uh!==l&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Tl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ly{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class Uy{constructor(t){this.allowedEvents_=t,this.listeners_={},U(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!l||l===o[u].context)){o.splice(u,1);return}}validateEventType_(t){U(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Ho extends Uy{static getInstance(){return new Ho}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Oh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return U(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const ov=32,cv=768;class Oe{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ye(){return new Oe("")}function de(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function wi(s){return s.pieces_.length-s.pieceNum_}function Le(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Oe(s.pieces_,t)}function Ph(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function KC(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Ol(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function zy(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Oe(t,0)}function Ge(s,t){const i=[];for(let l=s.pieceNum_;l<s.pieces_.length;l++)i.push(s.pieces_[l]);if(t instanceof Oe)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Oe(i,0)}function oe(s){return s.pieceNum_>=s.pieces_.length}function vt(s,t){const i=de(s),l=de(t);if(i===null)return t;if(i===l)return vt(Le(s),Le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function XC(s,t){const i=Ol(s,0),l=Ol(t,0);for(let o=0;o<i.length&&o<l.length;o++){const u=rs(i[o],l[o]);if(u!==0)return u}return i.length===l.length?0:i.length<l.length?-1:1}function Hy(s,t){if(wi(s)!==wi(t))return!1;for(let i=s.pieceNum_,l=t.pieceNum_;i<=s.pieces_.length;i++,l++)if(s.pieces_[i]!==t.pieces_[l])return!1;return!0}function Wt(s,t){let i=s.pieceNum_,l=t.pieceNum_;if(wi(s)>wi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class WC{constructor(t,i){this.errorPrefix_=i,this.parts_=Ol(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=sc(this.parts_[l]);Py(this)}}function ZC(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=sc(t),Py(s)}function JC(s){const t=s.parts_.pop();s.byteLength_-=sc(t),s.parts_.length>0&&(s.byteLength_-=1)}function Py(s){if(s.byteLength_>cv)throw new Error(s.errorPrefix_+"has a key path longer than "+cv+" bytes ("+s.byteLength_+").");if(s.parts_.length>ov)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ov+") or object contains a cycle "+Zi(s))}function Zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Bh extends Uy{static getInstance(){return new Bh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return U(t==="visible","Unknown event type: "+t),[this.visible_]}}const gl=1e3,$C=300*1e3,uv=30*1e3,eN=1.3,tN=3e4,nN="server_kill",fv=3;class Un extends Ly{constructor(t,i,l,o,u,h,d,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=g,this.id=Un.nextPersistentConnectionId_++,this.log_=Ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gl,this.maxReconnectDelay_=$C,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(tt(u)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Vl,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,l,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),U(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const u={p:l},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,d=>{const g=d.d,_=d.s;Un.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",d),_!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(_,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&mn(t,"w")){const l=sa(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||FT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uv)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=VT(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),U(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=l,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const u={p:i,d:l};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,u){this.initConnection_();const h={p:i,d:l};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const u=l.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tt(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):uh("Unrecognized action received from server: "+tt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tN&&(this.reconnectDelay_=gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Un.nextConnectionId_++,u=this.lastSessionId;let h=!1,d=null;const g=function(){d?d.close():(h=!0,l())},_=function(S){U(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(S)};this.realtime_={close:g,sendRequest:_};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,y]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=y&&y.token,d=new QC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,R=>{yt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(nN)},u))}catch(S){this.log_("Failed to get token: "+S),h||(this.repoInfo_.nodeAdmin&&yt(S),g())}}}interrupt(t){ft("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ft("Resuming connection for reason: "+t),delete this.interruptReasons_[t],sh(this.interruptReasons_)&&(this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(u=>Lh(u)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Oe(t).toString();let o;if(this.listens.has(l)){const u=this.listens.get(l);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){ft("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fv&&(this.reconnectDelay_=uv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ft("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+py.replace(/\./g,"-")]=1,Oh()?t["framework.cordova"]=1:ry()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ho.getInstance().currentlyOnline();return sh(this.interruptReasons_)&&t}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;class se{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new se(t,i)}}class ac{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new se(la,t),o=new se(la,i);return this.compare(l,o)!==0}minPost(){return se.MIN}}let Co;class By extends ac{static get __EMPTY_NODE(){return Co}static set __EMPTY_NODE(t){Co=t}compare(t,i){return rs(t.name,i.name)}isDefinedOn(t){throw ha("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return se.MIN}maxPost(){return new se(ts,Co)}makePost(t,i){return U(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,Co)}toString(){return".key"}}const ea=new By;class No{constructor(t,i,l,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,l,o,u){this.key=t,this.value=i,this.color=l??at.RED,this.left=o??xt.EMPTY_NODE,this.right=u??xt.EMPTY_NODE}copy(t,i,l,o,u){return new at(t??this.key,i??this.value,l??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const u=l(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return xt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class iN{copy(t,i,l,o,u){return this}insert(t,i,l){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(t,i=xt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new xt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new xt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new No(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new No(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new No(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new No(this.root_,null,this.comparator_,!0,t)}}xt.EMPTY_NODE=new iN;function sN(s,t){return rs(s.name,t.name)}function Gh(s,t){return rs(s,t)}let hh;function aN(s){hh=s}const Gy=function(s){return typeof s=="number"?"number:"+yy(s):"string:"+s},qy=function(s){if(s.isLeafNode()){const t=s.val();U(typeof t=="string"||typeof t=="number"||typeof t=="object"&&mn(t,".sv"),"Priority must be a string or number.")}else U(s===hh||s.isEmpty(),"priority of unexpected type.");U(s===hh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hv;class st{static set __childrenNodeConstructor(t){hv=t}static get __childrenNodeConstructor(){return hv}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:de(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=de(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(U(l!==".priority"||wi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gy(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=yy(this.value_):t+=this.value_,this.lazyHash_=_y(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(U(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),u=st.VALUE_TYPE_ORDER.indexOf(l);return U(o>=0,"Unknown leaf type: "+i),U(u>=0,"Unknown leaf type: "+l),o===u?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Vy,Fy;function lN(s){Vy=s}function rN(s){Fy=s}class oN extends ac{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),u=l.compareTo(o);return u===0?rs(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return se.MIN}maxPost(){return new se(ts,new st("[PRIORITY-POST]",Fy))}makePost(t,i){const l=Vy(t);return new se(i,new st("[PRIORITY-POST]",l))}toString(){return".priority"}}const qe=new oN;const cN=Math.log(2);class uN{constructor(t){const i=u=>parseInt(Math.log(u)/cN,10),l=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Po=function(s,t,i,l){s.sort(t);const o=function(g,_){const E=_-g;let S,y;if(E===0)return null;if(E===1)return S=s[g],y=i?i(S):S,new at(y,S.node,at.BLACK,null,null);{const R=parseInt(E/2,10)+g,L=o(g,R),z=o(R+1,_);return S=s[R],y=i?i(S):S,new at(y,S.node,at.BLACK,L,z)}},u=function(g){let _=null,E=null,S=s.length;const y=function(L,z){const B=S-L,Z=S;S-=L;const ce=o(B+1,Z),ge=s[B],ue=i?i(ge):ge;R(new at(ue,ge.node,z,null,ce))},R=function(L){_?(_.left=L,_=L):(E=L,_=L)};for(let L=0;L<g.count;++L){const z=g.nextBitIsOne(),B=Math.pow(2,g.count-(L+1));z?y(B,at.BLACK):(y(B,at.BLACK),y(B,at.RED))}return E},h=new uN(s.length),d=u(h);return new xt(l||t,d)};let Jf;const Ks={};class jn{static get Default(){return U(Ks&&qe,"ChildrenNode.ts has not been loaded"),Jf=Jf||new jn({".priority":Ks},{".priority":qe}),Jf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=sa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof xt?i:null}hasIndex(t){return mn(this.indexSet_,t.toString())}addIndex(t,i){U(t!==ea,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const u=i.getIterator(se.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=u.getNext();let d;o?d=Po(l,t.getCompare()):d=Ks;const g=t.toString(),_={...this.indexSet_};_[g]=t;const E={...this.indexes_};return E[g]=d,new jn(E,_)}addToIndexes(t,i){const l=Lo(this.indexes_,(o,u)=>{const h=sa(this.indexSet_,u);if(U(h,"Missing index implementation for "+u),o===Ks)if(h.isDefinedOn(t.node)){const d=[],g=i.getIterator(se.Wrap);let _=g.getNext();for(;_;)_.name!==t.name&&d.push(_),_=g.getNext();return d.push(t),Po(d,h.getCompare())}else return Ks;else{const d=i.get(t.name);let g=o;return d&&(g=g.remove(new se(t.name,d))),g.insert(t,t.node)}});return new jn(l,this.indexSet_)}removeFromIndexes(t,i){const l=Lo(this.indexes_,o=>{if(o===Ks)return o;{const u=i.get(t.name);return u?o.remove(new se(t.name,u)):o}});return new jn(l,this.indexSet_)}}let _l;class K{static get EMPTY_NODE(){return _l||(_l=new K(new xt(Gh),null,jn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&qy(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_l}updatePriority(t){return this.children_.isEmpty()?this:new K(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?_l:i}}getChild(t){const i=de(t);return i===null?this:this.getImmediateChild(i).getChild(Le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(U(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new se(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?_l:this.priorityNode_;return new K(o,h,u)}}updateChild(t,i){const l=de(t);if(l===null)return i;{U(de(t)!==".priority"||wi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Le(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,u=!0;if(this.forEachChild(qe,(h,d)=>{i[h]=d.val(t),l++,u&&K.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*l){const h=[];for(const d in i)h[d]=i[d];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Gy(this.getPriority().val())+":"),this.forEachChild(qe,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":_y(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const u=o.getPredecessorKey(new se(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new se(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new se(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,se.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Kl?-1:0}withIndex(t){if(t===ea||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new K(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ea||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(qe),o=i.getIterator(qe);let u=l.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=l.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ea?null:this.indexMap_.get(t.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fN extends K{constructor(){super(new xt(Gh),K.EMPTY_NODE,jn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return K.EMPTY_NODE}isEmpty(){return!1}}const Kl=new fN;Object.defineProperties(se,{MIN:{value:new se(la,K.EMPTY_NODE)},MAX:{value:new se(ts,Kl)}});By.__EMPTY_NODE=K.EMPTY_NODE;st.__childrenNodeConstructor=K;aN(Kl);rN(Kl);const hN=!0;function et(s,t=null){if(s===null)return K.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),U(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new st(i,et(t))}if(!(s instanceof Array)&&hN){const i=[];let l=!1;if(ht(s,(h,d)=>{if(h.substring(0,1)!=="."){const g=et(d);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new se(h,g)))}}),i.length===0)return K.EMPTY_NODE;const u=Po(i,sN,h=>h.name,Gh);if(l){const h=Po(i,qe.getCompare());return new K(u,et(t),new jn({".priority":h},{".priority":qe}))}else return new K(u,et(t),jn.Default)}else{let i=K.EMPTY_NODE;return ht(s,(l,o)=>{if(mn(s,l)&&l.substring(0,1)!=="."){const u=et(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(l,u))}}),i.updatePriority(et(t))}}lN(et);class dN extends ac{constructor(t){super(),this.indexPath_=t,U(!oe(t)&&de(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),u=l.compareTo(o);return u===0?rs(t.name,i.name):u}makePost(t,i){const l=et(t),o=K.EMPTY_NODE.updateChild(this.indexPath_,l);return new se(i,o)}maxPost(){const t=K.EMPTY_NODE.updateChild(this.indexPath_,Kl);return new se(ts,t)}toString(){return Ol(this.indexPath_,0).join("/")}}class mN extends ac{compare(t,i){const l=t.node.compareTo(i.node);return l===0?rs(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,i){const l=et(t);return new se(i,l)}toString(){return".value"}}const pN=new mN;function Yy(s){return{type:"value",snapshotNode:s}}function ra(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Il(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Ml(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function gN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class qh{constructor(t){this.index_=t}updateChild(t,i,l,o,u,h){U(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(o).equals(l.getChild(o))&&d.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(Il(i,d)):U(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(ra(i,l)):h.trackChildChange(Ml(i,l,d))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(qe,(o,u)=>{i.hasChild(o)||l.trackChildChange(Il(o,u))}),i.isLeafNode()||i.forEachChild(qe,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||l.trackChildChange(Ml(o,u,h))}else l.trackChildChange(ra(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?K.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jl{constructor(t){this.indexedFilter_=new qh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=jl.getStartPost_(t),this.endPost_=jl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,u,h){return this.matches(new se(i,l))||(l=K.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,u,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=K.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(K.EMPTY_NODE);const u=this;return i.forEachChild(qe,(h,d)=>{u.matches(new se(h,d))||(o=o.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class _N{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new jl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,u,h){return this.rangedFilter_.matches(new se(i,l))||(l=K.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,u,h):this.fullLimitUpdateChild_(t,i,l,u,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=K.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(K.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const d=u.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,u){let h;if(this.reverse_){const S=this.index_.getCompare();h=(y,R)=>S(R,y)}else h=this.index_.getCompare();const d=t;U(d.numChildren()===this.limit_,"");const g=new se(i,l),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(d.hasChild(i)){const S=d.getImmediateChild(i);let y=o.getChildAfterChild(this.index_,_,this.reverse_);for(;y!=null&&(y.name===i||d.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const R=y==null?1:h(y,g);if(E&&!l.isEmpty()&&R>=0)return u?.trackChildChange(Ml(i,l,S)),d.updateImmediateChild(i,l);{u?.trackChildChange(Il(i,S));const z=d.updateImmediateChild(i,K.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u?.trackChildChange(ra(y.name,y.node)),z.updateImmediateChild(y.name,y.node)):z}}else return l.isEmpty()?t:E&&h(_,g)>=0?(u!=null&&(u.trackChildChange(Il(_.name,_.node)),u.trackChildChange(ra(i,l))),d.updateImmediateChild(i,l).updateImmediateChild(_.name,K.EMPTY_NODE)):t}}class Vh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:la}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ts}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const t=new Vh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vN(s){return s.loadsAllData()?new qh(s.getIndex()):s.hasLimit()?new _N(s):new jl(s)}function dv(s){const t={};if(s.isDefault())return t;let i;if(s.index_===qe?i="$priority":s.index_===pN?i="$value":s.index_===ea?i="$key":(U(s.index_ instanceof dN,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=tt(i),s.startSet_){const l=s.startAfterSet_?"startAfter":"startAt";t[l]=tt(s.indexStartValue_),s.startNameSet_&&(t[l]+=","+tt(s.indexStartName_))}if(s.endSet_){const l=s.endBeforeSet_?"endBefore":"endAt";t[l]=tt(s.indexEndValue_),s.endNameSet_&&(t[l]+=","+tt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function mv(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==qe&&(t.i=s.index_.toString()),t}class Bo extends Ly{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(U(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Ql("p:rest:"),this.listens_={}}listen(t,i,l,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Bo.getListenId_(t,l),d={};this.listens_[h]=d;const g=dv(t._queryParams);this.restRequest_(u+".json",g,(_,E)=>{let S=E;if(_===404&&(S=null,_=null),_===null&&this.onDataUpdate_(u,S,!1,l),sa(this.listens_,h)===d){let y;_?_===401?y="permission_denied":y="rest_error:"+_:y="ok",o(y,null)}})}unlisten(t,i){const l=Bo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=dv(t._queryParams),l=t._path.toString(),o=new Vl;return this.restRequest_(l+".json",i,(u,h)=>{let d=h;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(l,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ma(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(l&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let g=null;if(d.status>=200&&d.status<300){try{g=xl(d.responseText)}catch{yt("Failed to parse JSON response for "+h+": "+d.responseText)}l(null,g)}else d.status!==401&&d.status!==404&&yt("Got unsuccessful REST response for "+h+" Status: "+d.status),l(d.status);l=null}},d.open("GET",h,!0),d.send()})}}class yN{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Go(){return{value:null,children:new Map}}function Qy(s,t,i){if(oe(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const l=de(t);s.children.has(l)||s.children.set(l,Go());const o=s.children.get(l);t=Le(t),Qy(o,t,i)}}function dh(s,t,i){s.value!==null?i(t,s.value):EN(s,(l,o)=>{const u=new Oe(t.toString()+"/"+l);dh(o,u,i)})}function EN(s,t){s.children.forEach((i,l)=>{t(l,i)})}class SN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&ht(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const pv=10*1e3,bN=30*1e3,TN=300*1e3;class CN{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new SN(t);const l=pv+(bN-pv)*Math.random();Tl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;ht(t,(o,u)=>{u>0&&mn(this.statsToReport_,o)&&(i[o]=u,l=!0)}),l&&this.server_.reportStats(i),Tl(this.reportStats_.bind(this),Math.floor(Math.random()*2*TN))}}var sn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Fh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class qo{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=sn.ACK_USER_WRITE,this.source=Fh()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Oe(t));return new qo(ye(),i,this.revert)}}else return U(de(this.path)===t,"operationForChild called for unrelated child."),new qo(Le(this.path),this.affectedTree,this.revert)}}class kl{constructor(t,i){this.source=t,this.path=i,this.type=sn.LISTEN_COMPLETE}operationForChild(t){return oe(this.path)?new kl(this.source,ye()):new kl(this.source,Le(this.path))}}class ns{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=sn.OVERWRITE}operationForChild(t){return oe(this.path)?new ns(this.source,ye(),this.snap.getImmediateChild(t)):new ns(this.source,Le(this.path),this.snap)}}class oa{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=sn.MERGE}operationForChild(t){if(oe(this.path)){const i=this.children.subtree(new Oe(t));return i.isEmpty()?null:i.value?new ns(this.source,ye(),i.value):new oa(this.source,ye(),i)}else return U(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new oa(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ai{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const i=de(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class NN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function wN(s,t,i,l){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(gN(h.childName,h.snapshotNode))}),vl(s,o,"child_removed",t,l,i),vl(s,o,"child_added",t,l,i),vl(s,o,"child_moved",u,l,i),vl(s,o,"child_changed",t,l,i),vl(s,o,"value",t,l,i),o}function vl(s,t,i,l,o,u){const h=l.filter(d=>d.type===i);h.sort((d,g)=>xN(s,d,g)),h.forEach(d=>{const g=AN(s,d,u);o.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(g,s.query_))})})}function AN(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function xN(s,t,i){if(t.childName==null||i.childName==null)throw ha("Should only compare child_ events.");const l=new se(t.childName,t.snapshotNode),o=new se(i.childName,i.snapshotNode);return s.index_.compare(l,o)}function lc(s,t){return{eventCache:s,serverCache:t}}function Cl(s,t,i,l){return lc(new Ai(t,i,l),s.serverCache)}function Ky(s,t,i,l){return lc(s.eventCache,new Ai(t,i,l))}function Vo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function is(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let $f;const RN=()=>($f||($f=new xt(dC)),$f);class ke{static fromObject(t){let i=new ke(null);return ht(t,(l,o)=>{i=i.set(new Oe(l),o)}),i}constructor(t,i=RN()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ye(),value:this.value};if(oe(t))return null;{const l=de(t),o=this.children.get(l);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Le(t),i);return u!=null?{path:Ge(new Oe(l),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const i=de(t),l=this.children.get(i);return l!==null?l.subtree(Le(t)):new ke(null)}}set(t,i){if(oe(t))return new ke(i,this.children);{const l=de(t),u=(this.children.get(l)||new ke(null)).set(Le(t),i),h=this.children.insert(l,u);return new ke(this.value,h)}}remove(t){if(oe(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const i=de(t),l=this.children.get(i);if(l){const o=l.remove(Le(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new ke(null):new ke(this.value,u)}else return this}}get(t){if(oe(t))return this.value;{const i=de(t),l=this.children.get(i);return l?l.get(Le(t)):null}}setTree(t,i){if(oe(t))return i;{const l=de(t),u=(this.children.get(l)||new ke(null)).setTree(Le(t),i);let h;return u.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,u),new ke(this.value,h)}}fold(t){return this.fold_(ye(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,u)=>{l[o]=u.fold_(Ge(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,ye(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(oe(t))return null;{const u=de(t),h=this.children.get(u);return h?h.findOnPath_(Le(t),Ge(i,u),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ye(),i)}foreachOnPath_(t,i,l){if(oe(t))return this;{this.value&&l(i,this.value);const o=de(t),u=this.children.get(o);return u?u.foreachOnPath_(Le(t),Ge(i,o),l):new ke(null)}}foreach(t){this.foreach_(ye(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Ge(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new ke(null))}}function Nl(s,t,i){if(oe(t))return new ln(new ke(i));{const l=s.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let u=l.value;const h=vt(o,t);return u=u.updateChild(h,i),new ln(s.writeTree_.set(o,u))}else{const o=new ke(i),u=s.writeTree_.setTree(t,o);return new ln(u)}}}function mh(s,t,i){let l=s;return ht(i,(o,u)=>{l=Nl(l,Ge(t,o),u)}),l}function gv(s,t){if(oe(t))return ln.empty();{const i=s.writeTree_.setTree(t,new ke(null));return new ln(i)}}function ph(s,t){return os(s,t)!=null}function os(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(vt(i.path,t)):null}function _v(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(qe,(l,o)=>{t.push(new se(l,o))}):s.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new se(l,o.value))}),t}function Ci(s,t){if(oe(t))return s;{const i=os(s,t);return i!=null?new ln(new ke(i)):new ln(s.writeTree_.subtree(t))}}function gh(s){return s.writeTree_.isEmpty()}function ca(s,t){return Xy(ye(),s.writeTree_,t)}function Xy(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let l=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(U(u.value!==null,"Priority writes must always be leaf nodes"),l=u.value):i=Xy(Ge(s,o),u,i)}),!i.getChild(s).isEmpty()&&l!==null&&(i=i.updateChild(Ge(s,".priority"),l)),i}}function rc(s,t){return $y(t,s)}function DN(s,t,i,l,o){U(l>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(s.visibleWrites=Nl(s.visibleWrites,t,i)),s.lastWriteId=l}function ON(s,t,i,l){U(l>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:l,visible:!0}),s.visibleWrites=mh(s.visibleWrites,t,i),s.lastWriteId=l}function IN(s,t){for(let i=0;i<s.allWrites.length;i++){const l=s.allWrites[i];if(l.writeId===t)return l}return null}function MN(s,t){const i=s.allWrites.findIndex(d=>d.writeId===t);U(i>=0,"removeWrite called with nonexistent writeId.");const l=s.allWrites[i];s.allWrites.splice(i,1);let o=l.visible,u=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&jN(d,l.path)?o=!1:Wt(l.path,d.path)&&(u=!0)),h--}if(o){if(u)return kN(s),!0;if(l.snap)s.visibleWrites=gv(s.visibleWrites,l.path);else{const d=l.children;ht(d,g=>{s.visibleWrites=gv(s.visibleWrites,Ge(l.path,g))})}return!0}else return!1}function jN(s,t){if(s.snap)return Wt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Wt(Ge(s.path,i),t))return!0;return!1}function kN(s){s.visibleWrites=Wy(s.allWrites,LN,ye()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function LN(s){return s.visible}function Wy(s,t,i){let l=ln.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const h=u.path;let d;if(u.snap)Wt(i,h)?(d=vt(i,h),l=Nl(l,d,u.snap)):Wt(h,i)&&(d=vt(h,i),l=Nl(l,ye(),u.snap.getChild(d)));else if(u.children){if(Wt(i,h))d=vt(i,h),l=mh(l,d,u.children);else if(Wt(h,i))if(d=vt(h,i),oe(d))l=mh(l,ye(),u.children);else{const g=sa(u.children,de(d));if(g){const _=g.getChild(Le(d));l=Nl(l,ye(),_)}}}else throw ha("WriteRecord should have .snap or .children")}}return l}function Zy(s,t,i,l,o){if(!l&&!o){const u=os(s.visibleWrites,t);if(u!=null)return u;{const h=Ci(s.visibleWrites,t);if(gh(h))return i;if(i==null&&!ph(h,ye()))return null;{const d=i||K.EMPTY_NODE;return ca(h,d)}}}else{const u=Ci(s.visibleWrites,t);if(!o&&gh(u))return i;if(!o&&i==null&&!ph(u,ye()))return null;{const h=function(_){return(_.visible||o)&&(!l||!~l.indexOf(_.writeId))&&(Wt(_.path,t)||Wt(t,_.path))},d=Wy(s.allWrites,h,t),g=i||K.EMPTY_NODE;return ca(d,g)}}}function UN(s,t,i){let l=K.EMPTY_NODE;const o=os(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(qe,(u,h)=>{l=l.updateImmediateChild(u,h)}),l;if(i){const u=Ci(s.visibleWrites,t);return i.forEachChild(qe,(h,d)=>{const g=ca(Ci(u,new Oe(h)),d);l=l.updateImmediateChild(h,g)}),_v(u).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const u=Ci(s.visibleWrites,t);return _v(u).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function zN(s,t,i,l,o){U(l||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ge(t,i);if(ph(s.visibleWrites,u))return null;{const h=Ci(s.visibleWrites,u);return gh(h)?o.getChild(i):ca(h,o.getChild(i))}}function HN(s,t,i,l){const o=Ge(t,i),u=os(s.visibleWrites,o);if(u!=null)return u;if(l.isCompleteForChild(i)){const h=Ci(s.visibleWrites,o);return ca(h,l.getNode().getImmediateChild(i))}else return null}function PN(s,t){return os(s.visibleWrites,t)}function BN(s,t,i,l,o,u,h){let d;const g=Ci(s.visibleWrites,t),_=os(g,ye());if(_!=null)d=_;else if(i!=null)d=ca(g,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const E=[],S=h.getCompare(),y=u?d.getReverseIteratorFrom(l,h):d.getIteratorFrom(l,h);let R=y.getNext();for(;R&&E.length<o;)S(R,l)!==0&&E.push(R),R=y.getNext();return E}else return[]}function GN(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Fo(s,t,i,l){return Zy(s.writeTree,s.treePath,t,i,l)}function Kh(s,t){return UN(s.writeTree,s.treePath,t)}function vv(s,t,i,l){return zN(s.writeTree,s.treePath,t,i,l)}function Yo(s,t){return PN(s.writeTree,Ge(s.treePath,t))}function qN(s,t,i,l,o,u){return BN(s.writeTree,s.treePath,t,i,l,o,u)}function Xh(s,t,i){return HN(s.writeTree,s.treePath,t,i)}function Jy(s,t){return $y(Ge(s.treePath,t),s.writeTree)}function $y(s,t){return{treePath:s,writeTree:t}}class VN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;U(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),U(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(l,Ml(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(l,Il(l,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(l,ra(l,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(l,Ml(l,t.snapshotNode,o.oldSnap));else throw ha("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class FN{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const eE=new FN;class Wh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:is(this.viewCache_),u=qN(this.writes_,o,i,1,l,t);return u.length===0?null:u[0]}}function YN(s){return{filter:s}}function QN(s,t){U(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),U(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function KN(s,t,i,l,o){const u=new VN;let h,d;if(i.type===sn.OVERWRITE){const _=i;_.source.fromUser?h=_h(s,t,_.path,_.snap,l,o,u):(U(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!oe(_.path),h=Qo(s,t,_.path,_.snap,l,o,d,u))}else if(i.type===sn.MERGE){const _=i;_.source.fromUser?h=WN(s,t,_.path,_.children,l,o,u):(U(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),h=vh(s,t,_.path,_.children,l,o,d,u))}else if(i.type===sn.ACK_USER_WRITE){const _=i;_.revert?h=$N(s,t,_.path,l,o,u):h=ZN(s,t,_.path,_.affectedTree,l,o,u)}else if(i.type===sn.LISTEN_COMPLETE)h=JN(s,t,i.path,l,u);else throw ha("Unknown operation type: "+i.type);const g=u.getChanges();return XN(t,h,g),{viewCache:h,changes:g}}function XN(s,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),u=Vo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!l.getNode().equals(u)||!l.getNode().getPriority().equals(u.getPriority()))&&i.push(Yy(Vo(t)))}}function tE(s,t,i,l,o,u){const h=t.eventCache;if(Yo(l,i)!=null)return t;{let d,g;if(oe(i))if(U(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=is(t),E=_ instanceof K?_:K.EMPTY_NODE,S=Kh(l,E);d=s.filter.updateFullNode(t.eventCache.getNode(),S,u)}else{const _=Fo(l,is(t));d=s.filter.updateFullNode(t.eventCache.getNode(),_,u)}else{const _=de(i);if(_===".priority"){U(wi(i)===1,"Can't have a priority with additional path components");const E=h.getNode();g=t.serverCache.getNode();const S=vv(l,i,E,g);S!=null?d=s.filter.updatePriority(E,S):d=h.getNode()}else{const E=Le(i);let S;if(h.isCompleteForChild(_)){g=t.serverCache.getNode();const y=vv(l,i,h.getNode(),g);y!=null?S=h.getNode().getImmediateChild(_).updateChild(E,y):S=h.getNode().getImmediateChild(_)}else S=Xh(l,_,t.serverCache);S!=null?d=s.filter.updateChild(h.getNode(),_,S,E,o,u):d=h.getNode()}}return Cl(t,d,h.isFullyInitialized()||oe(i),s.filter.filtersNodes())}}function Qo(s,t,i,l,o,u,h,d){const g=t.serverCache;let _;const E=h?s.filter:s.filter.getIndexedFilter();if(oe(i))_=E.updateFullNode(g.getNode(),l,null);else if(E.filtersNodes()&&!g.isFiltered()){const R=g.getNode().updateChild(i,l);_=E.updateFullNode(g.getNode(),R,null)}else{const R=de(i);if(!g.isCompleteForPath(i)&&wi(i)>1)return t;const L=Le(i),B=g.getNode().getImmediateChild(R).updateChild(L,l);R===".priority"?_=E.updatePriority(g.getNode(),B):_=E.updateChild(g.getNode(),R,B,L,eE,null)}const S=Ky(t,_,g.isFullyInitialized()||oe(i),E.filtersNodes()),y=new Wh(o,S,u);return tE(s,S,i,o,y,d)}function _h(s,t,i,l,o,u,h){const d=t.eventCache;let g,_;const E=new Wh(o,t,u);if(oe(i))_=s.filter.updateFullNode(t.eventCache.getNode(),l,h),g=Cl(t,_,!0,s.filter.filtersNodes());else{const S=de(i);if(S===".priority")_=s.filter.updatePriority(t.eventCache.getNode(),l),g=Cl(t,_,d.isFullyInitialized(),d.isFiltered());else{const y=Le(i),R=d.getNode().getImmediateChild(S);let L;if(oe(y))L=l;else{const z=E.getCompleteChild(S);z!=null?Ph(y)===".priority"&&z.getChild(zy(y)).isEmpty()?L=z:L=z.updateChild(y,l):L=K.EMPTY_NODE}if(R.equals(L))g=t;else{const z=s.filter.updateChild(d.getNode(),S,L,y,E,h);g=Cl(t,z,d.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function yv(s,t){return s.eventCache.isCompleteForChild(t)}function WN(s,t,i,l,o,u,h){let d=t;return l.foreach((g,_)=>{const E=Ge(i,g);yv(t,de(E))&&(d=_h(s,d,E,_,o,u,h))}),l.foreach((g,_)=>{const E=Ge(i,g);yv(t,de(E))||(d=_h(s,d,E,_,o,u,h))}),d}function Ev(s,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function vh(s,t,i,l,o,u,h,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,_;oe(i)?_=l:_=new ke(null).setTree(i,l);const E=t.serverCache.getNode();return _.children.inorderTraversal((S,y)=>{if(E.hasChild(S)){const R=t.serverCache.getNode().getImmediateChild(S),L=Ev(s,R,y);g=Qo(s,g,new Oe(S),L,o,u,h,d)}}),_.children.inorderTraversal((S,y)=>{const R=!t.serverCache.isCompleteForChild(S)&&y.value===null;if(!E.hasChild(S)&&!R){const L=t.serverCache.getNode().getImmediateChild(S),z=Ev(s,L,y);g=Qo(s,g,new Oe(S),z,o,u,h,d)}}),g}function ZN(s,t,i,l,o,u,h){if(Yo(o,i)!=null)return t;const d=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(oe(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Qo(s,t,i,g.getNode().getChild(i),o,u,d,h);if(oe(i)){let _=new ke(null);return g.getNode().forEachChild(ea,(E,S)=>{_=_.set(new Oe(E),S)}),vh(s,t,i,_,o,u,d,h)}else return t}else{let _=new ke(null);return l.foreach((E,S)=>{const y=Ge(i,E);g.isCompleteForPath(y)&&(_=_.set(E,g.getNode().getChild(y)))}),vh(s,t,i,_,o,u,d,h)}}function JN(s,t,i,l,o){const u=t.serverCache,h=Ky(t,u.getNode(),u.isFullyInitialized()||oe(i),u.isFiltered());return tE(s,h,i,l,eE,o)}function $N(s,t,i,l,o,u){let h;if(Yo(l,i)!=null)return t;{const d=new Wh(l,t,o),g=t.eventCache.getNode();let _;if(oe(i)||de(i)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Fo(l,is(t));else{const S=t.serverCache.getNode();U(S instanceof K,"serverChildren would be complete if leaf node"),E=Kh(l,S)}E=E,_=s.filter.updateFullNode(g,E,u)}else{const E=de(i);let S=Xh(l,E,t.serverCache);S==null&&t.serverCache.isCompleteForChild(E)&&(S=g.getImmediateChild(E)),S!=null?_=s.filter.updateChild(g,E,S,Le(i),d,u):t.eventCache.getNode().hasChild(E)?_=s.filter.updateChild(g,E,K.EMPTY_NODE,Le(i),d,u):_=g,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Fo(l,is(t)),h.isLeafNode()&&(_=s.filter.updateFullNode(_,h,u)))}return h=t.serverCache.isFullyInitialized()||Yo(l,ye())!=null,Cl(t,_,h,s.filter.filtersNodes())}}class ew{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new qh(l.getIndex()),u=vN(l);this.processor_=YN(u);const h=i.serverCache,d=i.eventCache,g=o.updateFullNode(K.EMPTY_NODE,h.getNode(),null),_=u.updateFullNode(K.EMPTY_NODE,d.getNode(),null),E=new Ai(g,h.isFullyInitialized(),o.filtersNodes()),S=new Ai(_,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=lc(S,E),this.eventGenerator_=new NN(this.query_)}get query(){return this.query_}}function tw(s){return s.viewCache_.serverCache.getNode()}function nw(s){return Vo(s.viewCache_)}function iw(s,t){const i=is(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!oe(t)&&!i.getImmediateChild(de(t)).isEmpty())?i.getChild(t):null}function Sv(s){return s.eventRegistrations_.length===0}function sw(s,t){s.eventRegistrations_.push(t)}function bv(s,t,i){const l=[];if(i){U(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return l}function Tv(s,t,i,l){t.type===sn.MERGE&&t.source.queryId!==null&&(U(is(s.viewCache_),"We should always have a full cache before handling merges"),U(Vo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=KN(s.processor_,o,t,i,l);return QN(s.processor_,u.viewCache),U(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,nE(s,u.changes,u.viewCache.eventCache.getNode(),null)}function aw(s,t){const i=s.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(qe,(u,h)=>{l.push(ra(u,h))}),i.isFullyInitialized()&&l.push(Yy(i.getNode())),nE(s,l,i.getNode(),t)}function nE(s,t,i,l){const o=l?[l]:s.eventRegistrations_;return wN(s.eventGenerator_,t,i,o)}let Ko;class iE{constructor(){this.views=new Map}}function lw(s){U(!Ko,"__referenceConstructor has already been defined"),Ko=s}function rw(){return U(Ko,"Reference.ts has not been loaded"),Ko}function ow(s){return s.views.size===0}function Zh(s,t,i,l){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return U(u!=null,"SyncTree gave us an op for an invalid query."),Tv(u,t,i,l)}else{let u=[];for(const h of s.views.values())u=u.concat(Tv(h,t,i,l));return u}}function sE(s,t,i,l,o){const u=t._queryIdentifier,h=s.views.get(u);if(!h){let d=Fo(i,o?l:null),g=!1;d?g=!0:l instanceof K?(d=Kh(i,l),g=!1):(d=K.EMPTY_NODE,g=!1);const _=lc(new Ai(d,g,!1),new Ai(l,o,!1));return new ew(t,_)}return h}function cw(s,t,i,l,o,u){const h=sE(s,t,l,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),sw(h,i),aw(h,i)}function uw(s,t,i,l){const o=t._queryIdentifier,u=[];let h=[];const d=xi(s);if(o==="default")for(const[g,_]of s.views.entries())h=h.concat(bv(_,i,l)),Sv(_)&&(s.views.delete(g),_.query._queryParams.loadsAllData()||u.push(_.query));else{const g=s.views.get(o);g&&(h=h.concat(bv(g,i,l)),Sv(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return d&&!xi(s)&&u.push(new(rw())(t._repo,t._path)),{removed:u,events:h}}function aE(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ni(s,t){let i=null;for(const l of s.views.values())i=i||iw(l,t);return i}function lE(s,t){if(t._queryParams.loadsAllData())return oc(s);{const l=t._queryIdentifier;return s.views.get(l)}}function rE(s,t){return lE(s,t)!=null}function xi(s){return oc(s)!=null}function oc(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Xo;function fw(s){U(!Xo,"__referenceConstructor has already been defined"),Xo=s}function hw(){return U(Xo,"Reference.ts has not been loaded"),Xo}let dw=1;class Cv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=GN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oE(s,t,i,l,o){return DN(s.pendingWriteTree_,t,i,l,o),o?_a(s,new ns(Fh(),t,i)):[]}function mw(s,t,i,l){ON(s.pendingWriteTree_,t,i,l);const o=ke.fromObject(i);return _a(s,new oa(Fh(),t,o))}function Ei(s,t,i=!1){const l=IN(s.pendingWriteTree_,t);if(MN(s.pendingWriteTree_,t)){let u=new ke(null);return l.snap!=null?u=u.set(ye(),!0):ht(l.children,h=>{u=u.set(new Oe(h),!0)}),_a(s,new qo(l.path,u,i))}else return[]}function Xl(s,t,i){return _a(s,new ns(Yh(),t,i))}function pw(s,t,i){const l=ke.fromObject(i);return _a(s,new oa(Yh(),t,l))}function gw(s,t){return _a(s,new kl(Yh(),t))}function _w(s,t,i){const l=$h(s,i);if(l){const o=ed(l),u=o.path,h=o.queryId,d=vt(u,t),g=new kl(Qh(h),d);return td(s,u,g)}else return[]}function cE(s,t,i,l,o=!1){const u=t._path,h=s.syncPointTree_.get(u);let d=[];if(h&&(t._queryIdentifier==="default"||rE(h,t))){const g=uw(h,t,i,l);ow(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const _=g.removed;if(d=g.events,!o){const E=_.findIndex(y=>y._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(u,(y,R)=>xi(R));if(E&&!S){const y=s.syncPointTree_.subtree(u);if(!y.isEmpty()){const R=Sw(y);for(let L=0;L<R.length;++L){const z=R[L],B=z.query,Z=dE(s,z);s.listenProvider_.startListening(wl(B),Ll(s,B),Z.hashFn,Z.onComplete)}}}!S&&_.length>0&&!l&&(E?s.listenProvider_.stopListening(wl(t),null):_.forEach(y=>{const R=s.queryToTagMap.get(cc(y));s.listenProvider_.stopListening(wl(y),R)}))}bw(s,_)}return d}function uE(s,t,i,l){const o=$h(s,l);if(o!=null){const u=ed(o),h=u.path,d=u.queryId,g=vt(h,t),_=new ns(Qh(d),g,i);return td(s,h,_)}else return[]}function vw(s,t,i,l){const o=$h(s,l);if(o){const u=ed(o),h=u.path,d=u.queryId,g=vt(h,t),_=ke.fromObject(i),E=new oa(Qh(d),g,_);return td(s,h,E)}else return[]}function yw(s,t,i,l=!1){const o=t._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(o,(y,R)=>{const L=vt(y,o);u=u||Ni(R,L),h=h||xi(R)});let d=s.syncPointTree_.get(o);d?(h=h||xi(d),u=u||Ni(d,ye())):(d=new iE,s.syncPointTree_=s.syncPointTree_.set(o,d));let g;u!=null?g=!0:(g=!1,u=K.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((R,L)=>{const z=Ni(L,ye());z&&(u=u.updateImmediateChild(R,z))}));const _=rE(d,t);if(!_&&!t._queryParams.loadsAllData()){const y=cc(t);U(!s.queryToTagMap.has(y),"View does not exist, but we have a tag");const R=Tw();s.queryToTagMap.set(y,R),s.tagToQueryMap.set(R,y)}const E=rc(s.pendingWriteTree_,o);let S=cw(d,t,i,E,u,g);if(!_&&!h&&!l){const y=lE(d,t);S=S.concat(Cw(s,t,y))}return S}function Jh(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(h,d)=>{const g=vt(h,t),_=Ni(d,g);if(_)return _});return Zy(o,t,u,i,!0)}function Ew(s,t){const i=t._path;let l=null;s.syncPointTree_.foreachOnPath(i,(_,E)=>{const S=vt(_,i);l=l||Ni(E,S)});let o=s.syncPointTree_.get(i);o?l=l||Ni(o,ye()):(o=new iE,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=l!=null,h=u?new Ai(l,!0,!1):null,d=rc(s.pendingWriteTree_,t._path),g=sE(o,t,d,u?h.getNode():K.EMPTY_NODE,u);return nw(g)}function _a(s,t){return fE(t,s.syncPointTree_,null,rc(s.pendingWriteTree_,ye()))}function fE(s,t,i,l){if(oe(s.path))return hE(s,t,i,l);{const o=t.get(ye());i==null&&o!=null&&(i=Ni(o,ye()));let u=[];const h=de(s.path),d=s.operationForChild(h),g=t.children.get(h);if(g&&d){const _=i?i.getImmediateChild(h):null,E=Jy(l,h);u=u.concat(fE(d,g,_,E))}return o&&(u=u.concat(Zh(o,s,l,i))),u}}function hE(s,t,i,l){const o=t.get(ye());i==null&&o!=null&&(i=Ni(o,ye()));let u=[];return t.children.inorderTraversal((h,d)=>{const g=i?i.getImmediateChild(h):null,_=Jy(l,h),E=s.operationForChild(h);E&&(u=u.concat(hE(E,d,g,_)))}),o&&(u=u.concat(Zh(o,s,l,i))),u}function dE(s,t){const i=t.query,l=Ll(s,i);return{hashFn:()=>(tw(t)||K.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?_w(s,i._path,l):gw(s,i._path);{const u=gC(o,i);return cE(s,i,null,u)}}}}function Ll(s,t){const i=cc(t);return s.queryToTagMap.get(i)}function cc(s){return s._path.toString()+"$"+s._queryIdentifier}function $h(s,t){return s.tagToQueryMap.get(t)}function ed(s){const t=s.indexOf("$");return U(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Oe(s.substr(0,t))}}function td(s,t,i){const l=s.syncPointTree_.get(t);U(l,"Missing sync point for query tag that we're tracking");const o=rc(s.pendingWriteTree_,t);return Zh(l,i,o,null)}function Sw(s){return s.fold((t,i,l)=>{if(i&&xi(i))return[oc(i)];{let o=[];return i&&(o=aE(i)),ht(l,(u,h)=>{o=o.concat(h)}),o}})}function wl(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(hw())(s._repo,s._path):s}function bw(s,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=cc(l),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function Tw(){return dw++}function Cw(s,t,i){const l=t._path,o=Ll(s,t),u=dE(s,i),h=s.listenProvider_.startListening(wl(t),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(l);if(o)U(!xi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const g=d.fold((_,E,S)=>{if(!oe(_)&&E&&xi(E))return[oc(E).query];{let y=[];return E&&(y=y.concat(aE(E).map(R=>R.query))),ht(S,(R,L)=>{y=y.concat(L)}),y}});for(let _=0;_<g.length;++_){const E=g[_];s.listenProvider_.stopListening(wl(E),Ll(s,E))}}return h}class nd{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new nd(i)}node(){return this.node_}}class id{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ge(this.path_,t);return new id(this.syncTree_,i)}node(){return Jh(this.syncTree_,this.path_)}}const Nw=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Nv=function(s,t,i){if(!s||typeof s!="object")return s;if(U(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return ww(s[".sv"],t,i);if(typeof s[".sv"]=="object")return Aw(s[".sv"],t);U(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},ww=function(s,t,i){if(s==="timestamp")return i.timestamp;U(!1,"Unexpected server value: "+s)},Aw=function(s,t,i){s.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const l=s.increment;typeof l!="number"&&U(!1,"Unexpected increment value: "+l);const o=t.node();if(U(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},mE=function(s,t,i,l){return sd(t,new id(i,s),l)},pE=function(s,t,i){return sd(s,new nd(t),i)};function sd(s,t,i){const l=s.getPriority().val(),o=Nv(l,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,d=Nv(h.getValue(),t,i);return d!==h.getValue()||o!==h.getPriority().val()?new st(d,et(o)):s}else{const h=s;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new st(o))),h.forEachChild(qe,(d,g)=>{const _=sd(g,t.getImmediateChild(d),i);_!==g&&(u=u.updateImmediateChild(d,_))}),u}}class ad{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function ld(s,t){let i=t instanceof Oe?t:new Oe(t),l=s,o=de(i);for(;o!==null;){const u=sa(l.node.children,o)||{children:{},childCount:0};l=new ad(o,l,u),i=Le(i),o=de(i)}return l}function va(s){return s.node.value}function gE(s,t){s.node.value=t,yh(s)}function _E(s){return s.node.childCount>0}function xw(s){return va(s)===void 0&&!_E(s)}function uc(s,t){ht(s.node.children,(i,l)=>{t(new ad(i,s,l))})}function vE(s,t,i,l){i&&t(s),uc(s,o=>{vE(o,t,!0)})}function Rw(s,t,i){let l=s.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Wl(s){return new Oe(s.parent===null?s.name:Wl(s.parent)+"/"+s.name)}function yh(s){s.parent!==null&&Dw(s.parent,s.name,s)}function Dw(s,t,i){const l=xw(i),o=mn(s.node.children,t);l&&o?(delete s.node.children[t],s.node.childCount--,yh(s)):!l&&!o&&(s.node.children[t]=i.node,s.node.childCount++,yh(s))}const Ow=/[\[\].#$\/\u0000-\u001F\u007F]/,Iw=/[\[\].#$\u0000-\u001F\u007F]/,eh=10*1024*1024,rd=function(s){return typeof s=="string"&&s.length!==0&&!Ow.test(s)},yE=function(s){return typeof s=="string"&&s.length!==0&&!Iw.test(s)},Mw=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),yE(s)},jw=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!kh(s)||s&&typeof s=="object"&&mn(s,".sv")},kw=function(s,t,i,l){fc(ic(s,"value"),t,i)},fc=function(s,t,i){const l=i instanceof Oe?new WC(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Zi(l));if(typeof t=="function")throw new Error(s+"contains a function "+Zi(l)+" with contents = "+t.toString());if(kh(t))throw new Error(s+"contains "+t.toString()+" "+Zi(l));if(typeof t=="string"&&t.length>eh/3&&sc(t)>eh)throw new Error(s+"contains a string greater than "+eh+" utf8 bytes "+Zi(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(ht(t,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!rd(h)))throw new Error(s+" contains an invalid key ("+h+") "+Zi(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZC(l,h),fc(s,d,l),JC(l)}),o&&u)throw new Error(s+' contains ".value" child '+Zi(l)+" in addition to actual children.")}},Lw=function(s,t){let i,l;for(i=0;i<t.length;i++){l=t[i];const u=Ol(l);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!rd(u[h]))throw new Error(s+"contains an invalid key ("+u[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(XC);let o=null;for(i=0;i<t.length;i++){if(l=t[i],o!==null&&Wt(o,l))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},Uw=function(s,t,i,l){const o=ic(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];ht(t,(h,d)=>{const g=new Oe(h);if(fc(o,d,Ge(i,g)),Ph(g)===".priority"&&!jw(d))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(g)}),Lw(o,u)},EE=function(s,t,i,l){if(!yE(i))throw new Error(ic(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zw=function(s,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),EE(s,t,i)},Hw=function(s,t){if(de(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},Pw=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!rd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!Mw(i))throw new Error(ic(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class Bw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function od(s,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],u=o.getPath();i!==null&&!Hy(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function Zt(s,t,i){od(s,i),Gw(s,l=>Wt(l,t)||Wt(t,l))}function Gw(s,t){s.recursionDepth_++;let i=!0;for(let l=0;l<s.eventLists_.length;l++){const o=s.eventLists_[l];if(o){const u=o.path;t(u)?(qw(s.eventLists_[l]),s.eventLists_[l]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function qw(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const l=i.getEventRunner();bl&&ft("event: "+i.toString()),ga(l)}}}const Vw="repo_interrupt",Fw=25;class Yw{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Go(),this.transactionQueueTree_=new ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Qw(s,t,i){if(s.stats_=zh(s.repoInfo_),s.forceRestClient_||EC())s.server_=new Bo(s.repoInfo_,(l,o,u,h)=>{wv(s,l,o,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Av(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}s.persistentConnection_=new Un(s.repoInfo_,t,(l,o,u,h)=>{wv(s,l,o,u,h)},l=>{Av(s,l)},l=>{Xw(s,l)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(l=>{s.server_.refreshAuthToken(l)}),s.appCheckProvider_.addTokenChangeListener(l=>{s.server_.refreshAppCheckToken(l.token)}),s.statsReporter_=NC(s.repoInfo_,()=>new CN(s.stats_,s.server_)),s.infoData_=new yN,s.infoSyncTree_=new Cv({startListening:(l,o,u,h)=>{let d=[];const g=s.infoData_.getNode(l._path);return g.isEmpty()||(d=Xl(s.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),cd(s,"connected",!1),s.serverSyncTree_=new Cv({startListening:(l,o,u,h)=>(s.server_.listen(l,u,o,(d,g)=>{const _=h(d,g);Zt(s.eventQueue_,l._path,_)}),[]),stopListening:(l,o)=>{s.server_.unlisten(l,o)}})}function Kw(s){const i=s.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function hc(s){return Nw({timestamp:Kw(s)})}function wv(s,t,i,l,o){s.dataUpdateCount++;const u=new Oe(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=Lo(i,_=>et(_));h=vw(s.serverSyncTree_,u,g,o)}else{const g=et(i);h=uE(s.serverSyncTree_,u,g,o)}else if(l){const g=Lo(i,_=>et(_));h=pw(s.serverSyncTree_,u,g)}else{const g=et(i);h=Xl(s.serverSyncTree_,u,g)}let d=u;h.length>0&&(d=ua(s,u)),Zt(s.eventQueue_,d,h)}function Av(s,t){cd(s,"connected",t),t===!1&&$w(s)}function Xw(s,t){ht(t,(i,l)=>{cd(s,i,l)})}function cd(s,t,i){const l=new Oe("/.info/"+t),o=et(i);s.infoData_.updateSnapshot(l,o);const u=Xl(s.infoSyncTree_,l,o);Zt(s.eventQueue_,l,u)}function ud(s){return s.nextWriteId_++}function Ww(s,t,i){const l=Ew(s.serverSyncTree_,t);return l!=null?Promise.resolve(l):s.server_.get(t).then(o=>{const u=et(o).withIndex(t._queryParams.getIndex());yw(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Xl(s.serverSyncTree_,t._path,u);else{const d=Ll(s.serverSyncTree_,t);h=uE(s.serverSyncTree_,t._path,u,d)}return Zt(s.eventQueue_,t._path,h),cE(s.serverSyncTree_,t,i,null,!0),u},o=>(Zl(s,"get for query "+tt(t)+" failed: "+o),Promise.reject(new Error(o))))}function Zw(s,t,i,l,o){Zl(s,"set",{path:t.toString(),value:i,priority:l});const u=hc(s),h=et(i,l),d=Jh(s.serverSyncTree_,t),g=pE(h,d,u),_=ud(s),E=oE(s.serverSyncTree_,t,g,_,!0);od(s.eventQueue_,E),s.server_.put(t.toString(),h.val(!0),(y,R)=>{const L=y==="ok";L||yt("set at "+t+" failed: "+y);const z=Ei(s.serverSyncTree_,_,!L);Zt(s.eventQueue_,t,z),Eh(s,o,y,R)});const S=hd(s,t);ua(s,S),Zt(s.eventQueue_,S,[])}function Jw(s,t,i,l){Zl(s,"update",{path:t.toString(),value:i});let o=!0;const u=hc(s),h={};if(ht(i,(d,g)=>{o=!1,h[d]=mE(Ge(t,d),et(g),s.serverSyncTree_,u)}),o)ft("update() called with empty data.  Don't do anything."),Eh(s,l,"ok",void 0);else{const d=ud(s),g=mw(s.serverSyncTree_,t,h,d);od(s.eventQueue_,g),s.server_.merge(t.toString(),i,(_,E)=>{const S=_==="ok";S||yt("update at "+t+" failed: "+_);const y=Ei(s.serverSyncTree_,d,!S),R=y.length>0?ua(s,t):t;Zt(s.eventQueue_,R,y),Eh(s,l,_,E)}),ht(i,_=>{const E=hd(s,Ge(t,_));ua(s,E)}),Zt(s.eventQueue_,t,[])}}function $w(s){Zl(s,"onDisconnectEvents");const t=hc(s),i=Go();dh(s.onDisconnect_,ye(),(o,u)=>{const h=mE(o,u,s.serverSyncTree_,t);Qy(i,o,h)});let l=[];dh(i,ye(),(o,u)=>{l=l.concat(Xl(s.serverSyncTree_,o,u));const h=hd(s,o);ua(s,h)}),s.onDisconnect_=Go(),Zt(s.eventQueue_,ye(),l)}function eA(s){s.persistentConnection_&&s.persistentConnection_.interrupt(Vw)}function Zl(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ft(i,...t)}function Eh(s,t,i,l){t&&ga(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;l&&(u+=": "+l);const h=new Error(u);h.code=o,t(h)}})}function SE(s,t,i){return Jh(s.serverSyncTree_,t,i)||K.EMPTY_NODE}function fd(s,t=s.transactionQueueTree_){if(t||dc(s,t),va(t)){const i=TE(s,t);U(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&tA(s,Wl(t),i)}else _E(t)&&uc(t,i=>{fd(s,i)})}function tA(s,t,i){const l=i.map(_=>_.currentWriteId),o=SE(s,t,l);let u=o;const h=o.hash();for(let _=0;_<i.length;_++){const E=i[_];U(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const S=vt(t,E.path);u=u.updateChild(S,E.currentOutputSnapshotRaw)}const d=u.val(!0),g=t;s.server_.put(g.toString(),d,_=>{Zl(s,"transaction put response",{path:g.toString(),status:_});let E=[];if(_==="ok"){const S=[];for(let y=0;y<i.length;y++)i[y].status=2,E=E.concat(Ei(s.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&S.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();dc(s,ld(s.transactionQueueTree_,t)),fd(s,s.transactionQueueTree_),Zt(s.eventQueue_,t,E);for(let y=0;y<S.length;y++)ga(S[y])}else{if(_==="datastale")for(let S=0;S<i.length;S++)i[S].status===3?i[S].status=4:i[S].status=0;else{yt("transaction at "+g.toString()+" failed: "+_);for(let S=0;S<i.length;S++)i[S].status=4,i[S].abortReason=_}ua(s,t)}},h)}function ua(s,t){const i=bE(s,t),l=Wl(i),o=TE(s,i);return nA(s,o,l),l}function nA(s,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const g=t[d],_=vt(i,g.path);let E=!1,S;if(U(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)E=!0,S=g.abortReason,o=o.concat(Ei(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=Fw)E=!0,S="maxretry",o=o.concat(Ei(s.serverSyncTree_,g.currentWriteId,!0));else{const y=SE(s,g.path,h);g.currentInputSnapshot=y;const R=t[d].update(y.val());if(R!==void 0){fc("transaction failed: Data returned ",R,g.path);let L=et(R);typeof R=="object"&&R!=null&&mn(R,".priority")||(L=L.updatePriority(y.getPriority()));const B=g.currentWriteId,Z=hc(s),ce=pE(L,y,Z);g.currentOutputSnapshotRaw=L,g.currentOutputSnapshotResolved=ce,g.currentWriteId=ud(s),h.splice(h.indexOf(B),1),o=o.concat(oE(s.serverSyncTree_,g.path,ce,g.currentWriteId,g.applyLocally)),o=o.concat(Ei(s.serverSyncTree_,B,!0))}else E=!0,S="nodata",o=o.concat(Ei(s.serverSyncTree_,g.currentWriteId,!0))}Zt(s.eventQueue_,i,o),o=[],E&&(t[d].status=2,(function(y){setTimeout(y,Math.floor(0))})(t[d].unwatcher),t[d].onComplete&&(S==="nodata"?l.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):l.push(()=>t[d].onComplete(new Error(S),!1,null))))}dc(s,s.transactionQueueTree_);for(let d=0;d<l.length;d++)ga(l[d]);fd(s,s.transactionQueueTree_)}function bE(s,t){let i,l=s.transactionQueueTree_;for(i=de(t);i!==null&&va(l)===void 0;)l=ld(l,i),t=Le(t),i=de(t);return l}function TE(s,t){const i=[];return CE(s,t,i),i.sort((l,o)=>l.order-o.order),i}function CE(s,t,i){const l=va(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);uc(t,o=>{CE(s,o,i)})}function dc(s,t){const i=va(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,gE(t,i.length>0?i:void 0)}uc(t,l=>{dc(s,l)})}function hd(s,t){const i=Wl(bE(s,t)),l=ld(s.transactionQueueTree_,t);return Rw(l,o=>{th(s,o)}),th(s,l),vE(l,o=>{th(s,o)}),i}function th(s,t){const i=va(t);if(i){const l=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(U(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(U(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Ei(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?gE(t,void 0):i.length=u+1,Zt(s.eventQueue_,Wl(t),o);for(let h=0;h<l.length;h++)ga(l[h])}}function iA(s){let t="";const i=s.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function sA(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):yt(`Invalid query segment '${i}' in query '${s}'`)}return t}const xv=function(s,t){const i=aA(s),l=i.namespace;i.domain==="firebase.com"&&Pn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||fC();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Ry(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Oe(i.pathString)}},aA=function(s){let t="",i="",l="",o="",u="",h=!0,d="https",g=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(d=s.substring(0,_-1),s=s.substring(_+2));let E=s.indexOf("/");E===-1&&(E=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),t=s.substring(0,Math.min(E,S)),E<S&&(o=iA(s.substring(E,S)));const y=sA(s.substring(Math.min(s.length,S)));_=t.indexOf(":"),_>=0?(h=d==="https"||d==="wss",g=parseInt(t.substring(_+1),10)):_=t.length;const R=t.slice(0,_);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const L=t.indexOf(".");l=t.substring(0,L).toLowerCase(),i=t.substring(L+1),u=l}"ns"in y&&(u=y.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:d,pathString:o,namespace:u}};class lA{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class rA{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class oA{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class dd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return oe(this._path)?null:Ph(this._path)}get ref(){return new Gn(this._repo,this._path)}get _queryIdentifier(){const t=mv(this._queryParams),i=Lh(t);return i==="{}"?"default":i}get _queryObject(){return mv(this._queryParams)}isEqual(t){if(t=mt(t),!(t instanceof dd))return!1;const i=this._repo===t._repo,l=Hy(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+KC(this._path)}}class Gn extends dd{constructor(t,i){super(t,i,new Vh,!1)}get parent(){const t=zy(this._path);return t===null?null:new Gn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ul{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Oe(t),l=Sh(this.ref,t);return new Ul(this._node.getChild(i),l,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Ul(o,Sh(this.ref,l),qe)))}hasChild(t){const i=new Oe(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xo(s,t){return s=mt(s),s._checkNotDeleted("ref"),t!==void 0?Sh(s._root,t):s._root}function Sh(s,t){return s=mt(s),de(s._path)===null?zw("child","path",t):EE("child","path",t),new Gn(s._repo,Ge(s._path,t))}function cA(s,t){s=mt(s),Hw("set",s._path),kw("set",t,s._path);const i=new Vl;return Zw(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function uA(s,t){Uw("update",t,s._path);const i=new Vl;return Jw(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function NE(s){s=mt(s);const t=new oA(()=>{}),i=new md(t);return Ww(s._repo,s,i).then(l=>new Ul(l,new Gn(s._repo,s._path),s._queryParams.getIndex()))}class md{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new lA("value",this,new Ul(t.snapshotNode,new Gn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new rA(this,t,i):null}matches(t){return t instanceof md?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}lw(Gn);fw(Gn);const fA="FIREBASE_DATABASE_EMULATOR_HOST",bh={};let hA=!1;function dA(s,t,i,l){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=da(u);s.repoInfo_=new Ry(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(s.authTokenProvider_=l)}function mA(s,t,i,l,o){let u=l||s.options.databaseURL;u===void 0&&(s.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=xv(u,o),d=h.repoInfo,g;typeof process<"u"&&W_&&(g=W_[fA]),g?(u=`http://${g}?ns=${d.namespace}`,h=xv(u,o),d=h.repoInfo):h.repoInfo.secure;const _=new bC(s.name,s.options,t);Pw("Invalid Firebase Database URL",h),oe(h.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=gA(d,s,_,new SC(s,i));return new _A(E,s)}function pA(s,t){const i=bh[t];(!i||i[s.key]!==s)&&Pn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),eA(s),delete i[s.key]}function gA(s,t,i,l){let o=bh[t.name];o||(o={},bh[t.name]=o);let u=o[s.toURLString()];return u&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new Yw(s,hA,i,l),o[s.toURLString()]=u,u}class _A{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Qw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gn(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Pn("Cannot call "+t+" on a deleted database.")}}function vA(s=hy(),t){const i=jh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=OT("database");l&&yA(i,...l)}return i}function yA(s,t,i,l={}){s=mt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&$i(l,u.repoInfo_.emulatorOptions))return;Pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)l.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Ao(Ao.OWNER);else if(l.mockUserToken){const d=typeof l.mockUserToken=="string"?l.mockUserToken:IT(l.mockUserToken,s.app.options.projectId);h=new Ao(d)}da(t)&&(ay(t),ly("Database",!0)),dA(u,o,l,h)}function EA(s){aC(pa),aa(new es("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return mA(l,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ti(Z_,J_,s),Ti(Z_,J_,"esm2020")}Un.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Un.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};EA();var SA="firebase",bA="12.9.0";Ti(SA,bA,"app");function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TA=wE,AE=new Fl("auth","Firebase",wE());const Wo=new Ih("@firebase/auth");function CA(s,...t){Wo.logLevel<=De.WARN&&Wo.warn(`Auth (${pa}): ${s}`,...t)}function Ro(s,...t){Wo.logLevel<=De.ERROR&&Wo.error(`Auth (${pa}): ${s}`,...t)}function rn(s,...t){throw pd(s,...t)}function hn(s,...t){return pd(s,...t)}function xE(s,t,i){const l={...TA(),[t]:i};return new Fl("auth","Firebase",l).create(t,{appName:s.name})}function zn(s){return xE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pd(s,...t){if(typeof s!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(i,...l)}return AE.create(s,...t)}function Q(s,t,...i){if(!s)throw pd(t,...i)}function kn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ro(t),new Error(t)}function Bn(s,t){s||kn(t)}function Th(){return typeof self<"u"&&self.location?.href||""}function NA(){return Rv()==="http:"||Rv()==="https:"}function Rv(){return typeof self<"u"&&self.location?.protocol||null}function wA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||LT()||"connection"in navigator)?navigator.onLine:!0}function AA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Bn(i>t,"Short delay should be less than long delay!"),this.isMobile=Oh()||ry()}get(){return wA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gd(s,t){Bn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class RE{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DA=new Jl(3e4,6e4);function Di(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function qn(s,t,i,l,o={}){return DE(s,o,async()=>{let u={},h={};l&&(t==="GET"?h=l:u={body:JSON.stringify(l)});const d=ma({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...u};return kT()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&da(s.emulatorConfig.host)&&(_.credentials="include"),RE.fetch()(await OE(s,s.config.apiHost,i,d),_)})}async function DE(s,t,i){s._canInitEmulator=!1;const l={...xA,...t};try{const o=new IA(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw wo(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[g,_]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wo(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw wo(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw wo(s,"user-disabled",h);const E=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw xE(s,E,_);rn(s,E)}}catch(o){if(o instanceof Ri)throw o;rn(s,"network-request-failed",{message:String(o)})}}async function $l(s,t,i,l,o={}){const u=await qn(s,t,i,l,o);return"mfaPendingCredential"in u&&rn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function OE(s,t,i,l){const o=`${t}${i}?${l}`,u=s,h=u.config.emulator?gd(s.config,o):`${s.config.apiScheme}://${o}`;return RA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function OA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(hn(this.auth,"network-request-failed")),DA.get())})}}function wo(s,t,i){const l={appName:s.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=hn(s,t,l);return o.customData._tokenResponse=i,o}function Dv(s){return s!==void 0&&s.enterprise!==void 0}class MA{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return OA(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jA(s,t){return qn(s,"GET","/v2/recaptchaConfig",Di(s,t))}async function kA(s,t){return qn(s,"POST","/v1/accounts:delete",t)}async function Zo(s,t){return qn(s,"POST","/v1/accounts:lookup",t)}function Al(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LA(s,t=!1){const i=mt(s),l=await i.getIdToken(t),o=_d(l);Q(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:l,authTime:Al(nh(o.auth_time)),issuedAtTime:Al(nh(o.iat)),expirationTime:Al(nh(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nh(s){return Number(s)*1e3}function _d(s){const[t,i,l]=s.split(".");if(t===void 0||i===void 0||l===void 0)return Ro("JWT malformed, contained fewer than 3 sections"),null;try{const o=ko(i);return o?JSON.parse(o):(Ro("Failed to decode base64 JWT payload"),null)}catch(o){return Ro("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ov(s){const t=_d(s);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function fa(s,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Ri&&UA(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function UA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class zA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ch{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jo(s){const t=s.auth,i=await s.getIdToken(),l=await fa(s,Zo(t,{idToken:i}));Q(l?.users.length,t,"internal-error");const o=l.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?IE(o.providerUserInfo):[],h=PA(s.providerData,u),d=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,_=d?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ch(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function HA(s){const t=mt(s);await Jo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PA(s,t){return[...s.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function IE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BA(s,t){const i=await DE(s,{},async()=>{const l=ma({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await OE(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:l};return s.emulatorConfig&&da(s.emulatorConfig.host)&&(g.credentials="include"),RE.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GA(s,t){return qn(s,"POST","/v2/accounts:revokeToken",Di(s,t))}class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Q(t.length!==0,"internal-error");const i=Ov(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:u}=await BA(t,i);this.updateTokensAndExpiration(l,o,Number(u))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:u}=i,h=new ta;return l&&(Q(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(Q(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Q(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return kn("not implemented")}}function pi(s,t){Q(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class an{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ch(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await fa(this,this.stsTokenManager.getToken(this.auth,t));return Q(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return LA(this,t)}reload(){return HA(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new an({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await Jo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(zn(this.auth));const t=await this.getIdToken();return await fa(this,kA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:y,isAnonymous:R,providerData:L,stsTokenManager:z}=i;Q(S&&z,t,"internal-error");const B=ta.fromJSON(this.name,z);Q(typeof S=="string",t,"internal-error"),pi(l,t.name),pi(o,t.name),Q(typeof y=="boolean",t,"internal-error"),Q(typeof R=="boolean",t,"internal-error"),pi(u,t.name),pi(h,t.name),pi(d,t.name),pi(g,t.name),pi(_,t.name),pi(E,t.name);const Z=new an({uid:S,auth:t,email:o,emailVerified:y,displayName:l,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:B,createdAt:_,lastLoginAt:E});return L&&Array.isArray(L)&&(Z.providerData=L.map(ce=>({...ce}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(t,i,l=!1){const o=new ta;o.updateFromServerResponse(i);const u=new an({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await Jo(u),u}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];Q(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new ta;d.updateFromIdToken(l);const g=new an({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ch(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const Iv=new Map;function Ln(s){Bn(s instanceof Function,"Expected a class definition");let t=Iv.get(s);return t?(Bn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Iv.set(s,t),t)}class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ME.type="NONE";const Mv=ME;function Do(s,t,i){return`firebase:${s}:${t}:${i}`}class na{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:u}=this.auth;this.fullUserKey=Do(this.userKey,o.apiKey,u),this.fullPersistenceKey=Do("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zo(this.auth,{idToken:t}).catch(()=>{});return i?an._fromGetAccountInfoResponse(this.auth,i,t):null}return an._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new na(Ln(Mv),t,l);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Ln(Mv);const h=Do(l,t.config.apiKey,t.name);let d=null;for(const _ of i)try{const E=await _._get(h);if(E){let S;if(typeof E=="string"){const y=await Zo(t,{idToken:E}).catch(()=>{});if(!y)break;S=await an._fromGetAccountInfoResponse(t,y,E)}else S=an._fromJSON(t,E);_!==u&&(d=S),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new na(u,t,l):(u=g[0],d&&await u._set(h,d.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new na(u,t,l))}}function jv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(PE(t))return"Webos";if(kE(t))return"Safari";if((t.includes("chrome/")||LE(t))&&!t.includes("edge/"))return"Chrome";if(zE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(i);if(l?.length===2)return l[1]}return"Other"}function jE(s=Et()){return/firefox\//i.test(s)}function kE(s=Et()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LE(s=Et()){return/crios\//i.test(s)}function UE(s=Et()){return/iemobile/i.test(s)}function zE(s=Et()){return/android/i.test(s)}function HE(s=Et()){return/blackberry/i.test(s)}function PE(s=Et()){return/webos/i.test(s)}function vd(s=Et()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function qA(s=Et()){return vd(s)&&!!window.navigator?.standalone}function VA(){return UT()&&document.documentMode===10}function BE(s=Et()){return vd(s)||zE(s)||PE(s)||HE(s)||/windows phone/i.test(s)||UE(s)}function GE(s,t=[]){let i;switch(s){case"Browser":i=jv(Et());break;case"Worker":i=`${jv(Et())}-${s}`;break;default:i=s}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${pa}/${l}`}class FA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=u=>new Promise((h,d)=>{try{const g=t(u);h(g)}catch(g){d(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function YA(s,t={}){return qn(s,"GET","/v2/passwordPolicy",Di(s,t))}const QA=6;class KA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class XA{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new FA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ln(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await na.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zo(this,{idToken:t}),l=await an._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=l?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===h)&&d?.user&&(l=d.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(u){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xt(this.app))return Promise.reject(zn(this));const i=t?mt(t):null;return i&&Q(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xt(this.app)?Promise.reject(zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YA(this),i=new KA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await GA(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ln(t)||this._popupRedirectResolver;Q(i,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Ln(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cs(s){return mt(s)}class kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QT(i=>this.observer=i)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(s){mc=s}function qE(s){return mc.loadJS(s)}function ZA(){return mc.recaptchaEnterpriseScript}function JA(){return mc.gapiScript}function $A(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ex{constructor(){this.enterprise=new tx}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class tx{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const nx="recaptcha-enterprise",VE="NO_RECAPTCHA";class ix{constructor(t){this.type=nx,this.auth=cs(t)}async verify(t="verify",i=!1){async function l(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{jA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new MA(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(g=>{d(g)})})}function o(u,h,d){const g=window.grecaptcha;Dv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(_=>{h(_)}).catch(()=>{h(VE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ex().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{l(this.auth).then(d=>{if(!i&&Dv(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=ZA();g.length!==0&&(g+=d),qE(g).then(()=>{o(d,u,h)}).catch(_=>{h(_)})}}).catch(d=>{h(d)})})}}async function Lv(s,t,i,l=!1,o=!1){const u=new ix(s);let h;if(o)h=VE;else try{h=await u.verify(i)}catch{h=await u.verify(i,!0)}const d={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return l?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Nh(s,t,i,l,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Lv(s,t,i,i==="getOobCode");return l(s,u)}else return l(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Lv(s,t,i,i==="getOobCode");return l(s,h)}else return Promise.reject(u)})}function sx(s,t){const i=jh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if($i(u,t??{}))return o;rn(o,"already-initialized")}return i.initialize({options:t})}function ax(s,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Ln);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(l,t?.popupRedirectResolver)}function lx(s,t,i){const l=cs(s);Q(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,u=FE(t),{host:h,port:d}=rx(t),g=d===null?"":`:${d}`,_={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){Q(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),Q($i(_,l.config.emulator)&&$i(E,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=_,l.emulatorConfig=E,l.settings.appVerificationDisabledForTesting=!0,da(h)?(ay(`${u}//${h}${g}`),ly("Auth",!0)):ox()}function FE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function rx(s){const t=FE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const u=o[1];return{host:u,port:Uv(l.substr(u.length+1))}}else{const[u,h]=l.split(":");return{host:u,port:Uv(h)}}}function Uv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function ox(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class yd{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return kn("not implemented")}_getIdTokenResponse(t){return kn("not implemented")}_linkToIdToken(t,i){return kn("not implemented")}_getReauthenticationResolver(t){return kn("not implemented")}}async function cx(s,t){return qn(s,"POST","/v1/accounts:signUp",t)}async function ux(s,t){return $l(s,"POST","/v1/accounts:signInWithPassword",Di(s,t))}async function fx(s,t){return $l(s,"POST","/v1/accounts:signInWithEmailLink",Di(s,t))}async function hx(s,t){return $l(s,"POST","/v1/accounts:signInWithEmailLink",Di(s,t))}class zl extends yd{constructor(t,i,l,o=null){super("password",l),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new zl(t,i,"password")}static _fromEmailAndCode(t,i,l=null){return new zl(t,i,"emailLink",l)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(t,i,"signInWithPassword",ux);case"emailLink":return fx(t,{email:this._email,oobCode:this._password});default:rn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const l={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(t,l,"signUpPassword",cx);case"emailLink":return hx(t,{idToken:i,email:this._email,oobCode:this._password});default:rn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ia(s,t){return $l(s,"POST","/v1/accounts:signInWithIdp",Di(s,t))}const dx="http://localhost";class ss extends yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ss(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...u}=i;if(!l||!o)return null;const h=new ss(l,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ia(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,ia(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ia(t,i)}buildRequest(){const t={requestUri:dx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ma(i)}return t}}function mx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function px(s){const t=yl(El(s)).link,i=t?yl(El(t)).deep_link_id:null,l=yl(El(s)).deep_link_id;return(l?yl(El(l)).link:null)||l||i||t||s}class Ed{constructor(t){const i=yl(El(t)),l=i.apiKey??null,o=i.oobCode??null,u=mx(i.mode??null);Q(l&&o&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=px(t);try{return new Ed(i)}catch{return null}}}class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(t,i){return zl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const l=Ed.parseLink(i);return Q(l,"argument-error"),zl._fromEmailAndCode(t,l.code,l.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class YE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class er extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class gi extends er{constructor(){super("facebook.com")}static credential(t){return ss._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";class _i extends er{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ss._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return _i.credential(i,l)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";class vi extends er{constructor(){super("github.com")}static credential(t){return ss._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";class yi extends er{constructor(){super("twitter.com")}static credential(t,i){return ss._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return yi.credential(i,l)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";async function gx(s,t){return $l(s,"POST","/v1/accounts:signUp",Di(s,t))}class as{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const u=await an._fromIdTokenResponse(t,l,o),h=zv(l);return new as({user:u,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=zv(l);return new as({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function zv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class $o extends Ri{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new $o(t,i,l,o)}}function QE(s,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$o._fromErrorAndOperation(s,u,t,l):u})}async function _x(s,t,i=!1){const l=await fa(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return as._forOperation(s,"link",l)}async function vx(s,t,i=!1){const{auth:l}=s;if(Xt(l.app))return Promise.reject(zn(l));const o="reauthenticate";try{const u=await fa(s,QE(l,o,t,s),i);Q(u.idToken,l,"internal-error");const h=_d(u.idToken);Q(h,l,"internal-error");const{sub:d}=h;return Q(s.uid===d,l,"user-mismatch"),as._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&rn(l,"user-mismatch"),u}}async function KE(s,t,i=!1){if(Xt(s.app))return Promise.reject(zn(s));const l="signIn",o=await QE(s,l,t),u=await as._fromIdTokenResponse(s,l,o);return i||await s._updateCurrentUser(u.user),u}async function yx(s,t){return KE(cs(s),t)}async function XE(s){const t=cs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ex(s,t,i){if(Xt(s.app))return Promise.reject(zn(s));const l=cs(s),h=await Nh(l,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&XE(s),g}),d=await as._fromIdTokenResponse(l,"signIn",h);return await l._updateCurrentUser(d.user),d}function Sx(s,t,i){return Xt(s.app)?Promise.reject(zn(s)):yx(mt(s),ya.credential(t,i)).catch(async l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XE(s),l})}async function bx(s,t){return qn(s,"POST","/v1/accounts:update",t)}async function Tx(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const l=mt(s),u={idToken:await l.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},h=await fa(l,bx(l.auth,u));l.displayName=h.displayName||null,l.photoURL=h.photoUrl||null;const d=l.providerData.find(({providerId:g})=>g==="password");d&&(d.displayName=l.displayName,d.photoURL=l.photoURL),await l._updateTokensIfNecessary(h)}function Cx(s,t,i,l){return mt(s).onIdTokenChanged(t,i,l)}function Nx(s,t,i){return mt(s).beforeAuthStateChanged(t,i)}function wx(s,t,i,l){return mt(s).onAuthStateChanged(t,i,l)}function Ax(s){return mt(s).signOut()}const ec="__sak";class WE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xx=1e3,Rx=10;class ZE extends WE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,d,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},u=this.storage.getItem(l);VA()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Rx):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},xx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}ZE.type="LOCAL";const Dx=ZE;class JE extends WE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}JE.type="SESSION";const $E=JE;function Ox(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class pc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new pc(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const d=Array.from(h).map(async _=>_(i.origin,u)),g=await Ox(d);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pc.receivers=[];function Sd(s="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return s+i}class Ix{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,g)=>{const _=Sd("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(S){const y=S;if(y.data.eventId===_)switch(y.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(y.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function dn(){return window}function Mx(s){dn().location.href=s}function eS(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function jx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kx(){return navigator?.serviceWorker?.controller||null}function Lx(){return eS()?self:null}const tS="firebaseLocalStorageDb",Ux=1,tc="firebaseLocalStorage",nS="fbase_key";class tr{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gc(s,t){return s.transaction([tc],t?"readwrite":"readonly").objectStore(tc)}function zx(){const s=indexedDB.deleteDatabase(tS);return new tr(s).toPromise()}function wh(){const s=indexedDB.open(tS,Ux);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const l=s.result;try{l.createObjectStore(tc,{keyPath:nS})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const l=s.result;l.objectStoreNames.contains(tc)?t(l):(l.close(),await zx(),t(await wh()))})})}async function Hv(s,t,i){const l=gc(s,!0).put({[nS]:t,value:i});return new tr(l).toPromise()}async function Hx(s,t){const i=gc(s,!1).get(t),l=await new tr(i).toPromise();return l===void 0?null:l.value}function Pv(s,t){const i=gc(s,!0).delete(t);return new tr(i).toPromise()}const Px=800,Bx=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>Bx)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pc._getInstance(Lx()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jx(),!this.activeServiceWorker)return;this.sender=new Ix(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wh();return await Hv(t,ec,"1"),await Pv(t,ec),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>Hv(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>Hx(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=gc(o,!1).getAll();return new tr(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Px)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const Gx=iS;new Jl(3e4,6e4);function qx(s,t){return t?Ln(t):(Q(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class bd extends yd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ia(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ia(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ia(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Vx(s){return KE(s.auth,new bd(s),s.bypassAuthState)}function Fx(s){const{auth:t,user:i}=s;return Q(i,t,"internal-error"),vx(i,new bd(s),s.bypassAuthState)}async function Yx(s){const{auth:t,user:i}=s;return Q(i,t,"internal-error"),_x(i,new bd(s),s.bypassAuthState)}class sS{constructor(t,i,l,o,u=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Vx;case"linkViaPopup":case"linkViaRedirect":return Yx;case"reauthViaPopup":case"reauthViaRedirect":return Fx;default:rn(this.auth,"internal-error")}}resolve(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qx=new Jl(2e3,1e4);class Zs extends sS{constructor(t,i,l,o,u){super(t,i,o,u),this.provider=l,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const t=Sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qx.get())};t()}}Zs.currentPopupAction=null;const Kx="pendingRedirect",Oo=new Map;class Xx extends sS{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=Oo.get(this.auth._key());if(!t){try{const l=await Wx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}Oo.set(this.auth._key(),t)}return this.bypassAuthState||Oo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wx(s,t){const i=$x(t),l=Jx(s);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function Zx(s,t){Oo.set(s._key(),t)}function Jx(s){return Ln(s._redirectPersistence)}function $x(s){return Do(Kx,s.config.apiKey,s.name)}async function eR(s,t,i=!1){if(Xt(s.app))return Promise.reject(zn(s));const l=cs(s),o=qx(l,t),h=await new Xx(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const tR=600*1e3;class nR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aS(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(hn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(t))}saveEventToCache(t){this.cachedEventUids.add(Bv(t)),this.lastProcessedEventTime=Date.now()}}function Bv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function aS({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function iR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(s);default:return!1}}async function sR(s,t={}){return qn(s,"GET","/v1/projects",t)}const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lR=/^https?/;async function rR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await sR(s);for(const i of t)try{if(oR(i))return}catch{}rn(s,"unauthorized-domain")}function oR(s){const t=Th(),{protocol:i,hostname:l}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&l===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!lR.test(i))return!1;if(aR.test(s))return l===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const cR=new Jl(3e4,6e4);function Gv(){const s=dn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function uR(s){return new Promise((t,i)=>{function l(){Gv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gv(),i(hn(s,"network-request-failed"))},timeout:cR.get()})}if(dn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dn().gapi?.load)l();else{const o=$A("iframefcb");return dn()[o]=()=>{gapi.load?l():i(hn(s,"network-request-failed"))},qE(`${JA()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Io=null,t})}let Io=null;function fR(s){return Io=Io||uR(s),Io}const hR=new Jl(5e3,15e3),dR="__/auth/iframe",mR="emulator/auth/iframe",pR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _R(s){const t=s.config;Q(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?gd(t,mR):`https://${s.config.authDomain}/${dR}`,l={apiKey:t.apiKey,appName:s.name,v:pa},o=gR.get(s.config.apiHost);o&&(l.eid=o);const u=s._getFrameworks();return u.length&&(l.fw=u.join(",")),`${i}?${ma(l).slice(1)}`}async function vR(s){const t=await fR(s),i=dn().gapi;return Q(i,s,"internal-error"),t.open({where:document.body,url:_R(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pR,dontclear:!0},l=>new Promise(async(o,u)=>{await l.restyle({setHideOnLeave:!1});const h=hn(s,"network-request-failed"),d=dn().setTimeout(()=>{u(h)},hR.get());function g(){dn().clearTimeout(d),o(l)}l.ping(g).then(g,()=>{u(h)})}))}const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ER=500,SR=600,bR="_blank",TR="http://localhost";class qv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CR(s,t,i,l=ER,o=SR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let d="";const g={...yR,width:l.toString(),height:o.toString(),top:u,left:h},_=Et().toLowerCase();i&&(d=LE(_)?bR:i),jE(_)&&(t=t||TR,g.scrollbars="yes");const E=Object.entries(g).reduce((y,[R,L])=>`${y}${R}=${L},`,"");if(qA(_)&&d!=="_self")return NR(t||"",d),new qv(null);const S=window.open(t||"",d,E);Q(S,s,"popup-blocked");try{S.focus()}catch{}return new qv(S)}function NR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const wR="__/auth/handler",AR="emulator/auth/handler",xR=encodeURIComponent("fac");async function Vv(s,t,i,l,o,u){Q(s.config.authDomain,s,"auth-domain-config-required"),Q(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:l,v:pa,eventId:o};if(t instanceof YE){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",sh(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(t instanceof er){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const g=await s._getAppCheckToken(),_=g?`#${xR}=${encodeURIComponent(g)}`:"";return`${RR(s)}?${ma(d).slice(1)}${_}`}function RR({config:s}){return s.emulator?gd(s,AR):`https://${s.authDomain}/${wR}`}const ih="webStorageSupport";class DR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=eR,this._overrideRedirectResult=Zx}async _openPopup(t,i,l,o){Bn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Vv(t,i,l,Th(),o);return CR(t,u,Sd())}async _openRedirect(t,i,l,o){await this._originValidation(t);const u=await Vv(t,i,l,Th(),o);return Mx(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Bn(u,"If manager is not set, promise should be"),u)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await vR(t),l=new nR(t);return i.register("authEvent",o=>(Q(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(ih,{type:ih},o=>{const u=o?.[0]?.[ih];u!==void 0&&i(!!u),rn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return BE()||kE()||vd()}}const OR=DR;var Fv="@firebase/auth",Yv="1.12.0";class IR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jR(s){aa(new es("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=l.options;Q(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(s)},_=new XA(l,o,u,g);return ax(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),aa(new es("auth-internal",t=>{const i=cs(t.getProvider("auth").getImmediate());return(l=>new IR(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(Fv,Yv,MR(s)),Ti(Fv,Yv,"esm2020")}const kR=300,LR=sy("authIdTokenMaxAge")||kR;let Qv=null;const UR=s=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>LR)return;const o=i?.token;Qv!==o&&(Qv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zR(s=hy()){const t=jh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sx(s,{popupRedirectResolver:OR,persistence:[Gx,Dx,$E]}),l=sy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(l,location.origin);if(location.origin===u.origin){const h=UR(u.toString());Nx(i,h,()=>h(i.currentUser)),Cx(i,d=>h(d))}}const o=ny("auth");return o&&lx(i,`http://${o}`),i}function HR(){return document.getElementsByTagName("head")?.[0]??document}WA({loadJS(s){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=t,l.onerror=o=>{const u=hn("internal-error");u.customData=o,i(u)},l.type="text/javascript",l.charset="UTF-8",HR().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jR("Browser");const PR={apiKey:"AIzaSyBhZ7XGKFde4UWy5H3i9NzVGYN-joVvoSY",authDomain:"pl-football-fantasy.firebaseapp.com",databaseURL:"https://pl-football-fantasy-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pl-football-fantasy",storageBucket:"pl-football-fantasy.firebasestorage.app",messagingSenderId:"875638327100",appId:"1:875638327100:web:020b2630584c6d1e6dc039",measurementId:"G-FNBYMP2H7H"},lS=fy(PR),Mo=vA(lS),Xs=zR(lS);function BR(){const[s,t]=pe.useState([]),[i,l]=pe.useState(!0);if(pe.useEffect(()=>{async function E(){try{const y=(await NE(xo(Mo,"users"))).val();if(y){const R=Object.entries(y).map(([L,z])=>({uid:L,name:z.name||"Unknown",email:z.email||"N/A",fplCode:z.fplCode||"N/A",createdAt:z.createdAt||null}));R.sort((L,z)=>(z.createdAt||"").localeCompare(L.createdAt||"")),t(R)}}catch(S){console.error("Failed to load users:",S)}finally{l(!1)}}E()},[]),i)return p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Loading admin data..."})]});const o=s.length,u=s.filter(E=>E.fplCode&&E.fplCode!=="N/A").length,h=s.filter(E=>E.createdAt?Date.now()-new Date(E.createdAt).getTime()<10080*60*1e3:!1).length,d={};s.forEach(E=>{if(!E.createdAt)return;const S=E.createdAt.slice(0,10);d[S]=(d[S]||0)+1});const g=Object.keys(d).sort(),_=Math.max(...Object.values(d),1);return p.jsxs("div",{className:"admin-page",children:[p.jsx("h2",{className:"admin-title",children:"Admin Dashboard"}),p.jsxs("div",{className:"admin-stats",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-value",children:o}),p.jsx("div",{className:"stat-label",children:"Total Users"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-value",children:u}),p.jsx("div",{className:"stat-label",children:"With FPL Code"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-value",children:h}),p.jsx("div",{className:"stat-label",children:"New This Week"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsxs("div",{className:"stat-value",children:[o>0?Math.round(u/o*100):0,"%"]}),p.jsx("div",{className:"stat-label",children:"FPL Linked"})]})]}),g.length>0&&p.jsxs("div",{className:"admin-section",children:[p.jsx("h3",{children:"Registrations Over Time"}),p.jsx("div",{className:"reg-chart",children:g.map(E=>p.jsxs("div",{className:"reg-bar-group",children:[p.jsx("div",{className:"reg-bar-wrapper",children:p.jsx("div",{className:"reg-bar",style:{height:`${d[E]/_*100}%`},children:p.jsx("span",{className:"reg-bar-count",children:d[E]})})}),p.jsx("span",{className:"reg-bar-label",children:new Date(E+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},E))})]}),p.jsxs("div",{className:"admin-section",children:[p.jsxs("h3",{children:["All Users (",o,")"]}),p.jsx("div",{className:"admin-table-wrapper",children:p.jsxs("table",{className:"admin-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Name"}),p.jsx("th",{children:"Email"}),p.jsx("th",{children:"FPL Code"}),p.jsx("th",{children:"Registered"})]})}),p.jsx("tbody",{children:s.map(E=>p.jsxs("tr",{children:[p.jsx("td",{children:E.name}),p.jsx("td",{children:E.email}),p.jsx("td",{className:"mono",children:E.fplCode}),p.jsx("td",{children:E.createdAt?new Date(E.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]},E.uid))})]})})]})]})}const GR="maghovk@gmail.com",rS=pe.createContext(null);function qR({children:s}){const[t,i]=pe.useState(null),[l,o]=pe.useState(null),[u,h]=pe.useState(!0),d=t?.email===GR;pe.useEffect(()=>wx(Xs,async R=>{if(R){const B=(await NE(xo(Mo,`users/${R.uid}`))).val()?.fplCode??null;B&&Gf(B),o(B),i(R)}else i(null),o(null);h(!1)}),[]);async function g(y,R,L,z){const{user:B}=await Ex(Xs,R,L);await Tx(B,{displayName:y}),await cA(xo(Mo,`users/${B.uid}`),{name:y,email:R,fplCode:Number(z),createdAt:new Date().toISOString()}),Gf(Number(z)),o(Number(z))}async function _(y){if(!Xs.currentUser)return;const R=Number(y);await uA(xo(Mo,`users/${Xs.currentUser.uid}`),{fplCode:R}),Gf(R),o(R)}async function E(y,R){await Sx(Xs,y,R)}async function S(){await Ax(Xs)}return p.jsx(rS.Provider,{value:{user:t,fplCode:l,loading:u,isAdmin:d,register:g,login:E,logout:S,updateFplCode:_},children:s})}function Td(){return pe.useContext(rS)}function VR(){const{login:s,register:t}=Td(),[i,l]=pe.useState(!1),[o,u]=pe.useState({name:"",email:"",password:"",fplCode:""}),[h,d]=pe.useState(""),[g,_]=pe.useState(!1);function E(y){u(R=>({...R,[y.target.name]:y.target.value}))}async function S(y){y.preventDefault(),d(""),_(!0);try{if(i){if(!o.name.trim())throw new Error("Name is required.");if(!o.fplCode.trim())throw new Error("FPL kode is required.");await t(o.name.trim(),o.email,o.password,o.fplCode)}else await s(o.email,o.password)}catch(R){d(R.message||"Something went wrong.")}finally{_(!1)}}return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-card",children:[p.jsxs("div",{className:"auth-brand",children:[p.jsx("div",{className:"brand-icon",children:"FF"}),p.jsxs("div",{children:[p.jsx("h1",{children:"My Football Fantasy"}),p.jsx("p",{className:"subtitle",children:"Season 2025/26"})]})]}),p.jsx("h2",{className:"auth-title",children:i?"Create account":"Sign in"}),p.jsxs("form",{onSubmit:S,className:"auth-form",children:[i&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Name"}),p.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:o.name,onChange:E,placeholder:"Your name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email"}),p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:E,placeholder:"you@example.com"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{id:"password",name:"password",type:"password",autoComplete:i?"new-password":"current-password",required:!0,value:o.password,onChange:E,placeholder:""})]}),i&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"fplCode",children:"FPL kode"}),p.jsx("input",{id:"fplCode",name:"fplCode",type:"number",required:!0,value:o.fplCode,onChange:E,placeholder:"e.g. 5398119"})]}),h&&p.jsx("p",{className:"auth-error",children:h}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:g,children:g?"Please wait...":i?"Create account":"Sign in"})]}),p.jsxs("p",{className:"auth-toggle",children:[i?"Already have an account?":"No account yet?"," ",p.jsx("button",{type:"button",className:"auth-toggle-btn",onClick:()=>{l(y=>!y),d("")},children:i?"Sign in":"Create account"})]})]})})}const Kv=[{id:"team",label:"My Team",icon:"shield"},{id:"formation",label:"Formation",icon:"formation"},{id:"points",label:"Points",icon:"chart"},{id:"trade",label:"Trade Analyzer",icon:"swap"},{id:"fixtures",label:"Fixtures",icon:"calendar"}],FR={id:"admin",label:"Admin",icon:"admin"},YR={shield:p.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),chart:p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),p.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),p.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),swap:p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"17 1 21 5 17 9"}),p.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),p.jsx("polyline",{points:"7 23 3 19 7 15"}),p.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),calendar:p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),formation:p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2"}),p.jsx("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),p.jsx("circle",{cx:"7",cy:"10",r:"1.5",fill:"currentColor"}),p.jsx("circle",{cx:"17",cy:"10",r:"1.5",fill:"currentColor"}),p.jsx("circle",{cx:"8",cy:"16",r:"1.5",fill:"currentColor"}),p.jsx("circle",{cx:"16",cy:"16",r:"1.5",fill:"currentColor"}),p.jsx("circle",{cx:"12",cy:"21",r:"1.5",fill:"currentColor"})]}),admin:p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 15c-3.87 0-7 1.57-7 3.5V21h14v-2.5c0-1.93-3.13-3.5-7-3.5z"}),p.jsx("circle",{cx:"12",cy:"8",r:"4"}),p.jsx("path",{d:"M19 8l1.5 1.5L22 8"})]})};function QR(){const{user:s,isAdmin:t,logout:i}=Td(),[l,o]=pe.useState("team"),[u,h]=pe.useState("ff"),{data:d,loading:g,error:_,reload:E}=Js(Yb),S=t?[...Kv,FR]:Kv;return p.jsxs("div",{className:"app",children:[p.jsx("header",{className:"app-header",children:p.jsxs("div",{className:"header-content",children:[p.jsxs("div",{className:"brand",children:[p.jsx("div",{className:"brand-icon",children:"FF"}),p.jsxs("div",{children:[p.jsx("h1",{children:"My Football Fantasy"}),p.jsx("p",{className:"subtitle",children:"Season 2025/26"})]})]}),p.jsx("nav",{className:"nav-tabs",children:S.map(y=>p.jsxs("button",{className:`nav-tab ${l===y.id?"active":""}`,onClick:()=>o(y.id),children:[YR[y.icon],p.jsx("span",{children:y.label})]},y.id))}),p.jsxs("div",{className:"user-info",children:[p.jsx("span",{className:"user-name",children:s.displayName}),p.jsx("button",{className:"btn btn-secondary",onClick:i,children:"Logout"})]})]})}),p.jsxs("main",{className:"app-main",children:[l==="team"&&p.jsx(tT,{teamData:d,teamLoading:g,teamError:_,teamReload:E}),l==="formation"&&p.jsx(ST,{teamData:d,teamLoading:g,teamError:_,teamReload:E}),l==="points"&&p.jsx(aT,{teamData:d,teamLoading:g,teamError:_,teamReload:E}),l==="trade"&&p.jsx(uT,{teamData:d,teamLoading:g,teamError:_,teamReload:E}),l==="fixtures"&&p.jsx(_T,{}),l==="admin"&&t&&p.jsx(BR,{})]}),p.jsx("div",{className:"version-label",children:"v0.01"})]})}function KR(){const{user:s,loading:t}=Td();return t?p.jsx("div",{className:"app-loading",children:p.jsx("div",{className:"loading-spinner"})}):s?p.jsx(QR,{}):p.jsx(VR,{})}function XR(){return p.jsx(qR,{children:p.jsx(KR,{})})}Pb.createRoot(document.getElementById("root")).render(p.jsx(pe.StrictMode,{children:p.jsx(XR,{})}));
